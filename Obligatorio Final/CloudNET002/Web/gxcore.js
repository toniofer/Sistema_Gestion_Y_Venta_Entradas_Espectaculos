/*
 GeneXus 18.0.3.171080 mustache.js - Logic-less {{mustache}} templates with JavaScript
 http://github.com/janl/mustache.js
 modernizr 3.6.0 (Custom Build) | MIT *
 https://modernizr.com/download/?-csstransitions-flexbox-history-domprefixes-setclasses-testallprops-testprop ! modernizr v3.6.0
 Build https://modernizr.com/download?-csstransitions-flexbox-history-domprefixes-setclasses-testallprops-testprop-dontmin

 Copyright (c)
  Faruk Ates
  Paul Irish
  Alex Sexton
  Ryan Seddon
  Patrick Kettner
  Stu Cox
  Richard Herrera

 MIT License
 {
  "name": "History API",
  "property": "history",
  "caniuse": "history",
  "tags": ["history"],
  "authors": ["Hay Kranen", "Alexander Farkas"],
  "notes": [{
    "name": "W3C Spec",
    "href": "https://www.w3.org/TR/html51/browsers.html#the-history-interface"
  }, {
    "name": "MDN documentation",
    "href": "https://developer.mozilla.org/en-US/docs/Web/API/window.history"
  }],
  "polyfills": ["historyjs", "html5historyapi"]
}
! {
  "name": "Flexbox",
  "property": "flexbox",
  "caniuse": "flexbox",
  "tags": ["css"],
  "notes": [{
    "name": "The _new_ flexbox",
    "href": "http://dev.w3.org/csswg/css3-flexbox"
  }],
  "warnings": [
    "A `true` result for this detect does not imply that the `flex-wrap` property is supported; see the `flexwrap` detect."
  ]
}
! {
  "name": "CSS Transitions",
  "property": "csstransitions",
  "caniuse": "css-transitions",
  "tags": ["css"]
}
!*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e};$jscomp.createTemplateTagFirstArgWithRaw=function(e,q){e.raw=q;return e};$jscomp.arrayIteratorImpl=function(e){var q=0;return function(){return q<e.length?{done:!1,value:e[q++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.makeIterator=function(e){var q="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return q?q.call(e):$jscomp.arrayIterator(e)};
$jscomp.arrayFromIterator=function(e){for(var q,g=[];!(q=e.next()).done;)g.push(q.value);return g};$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,q,g){if(e==Array.prototype||e==Object.prototype)return e;e[q]=g.value;return e};$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var q=0;q<e.length;++q){var g=e[q];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,q){var g=$jscomp.propertyToPolyfillSymbol[q];if(null==g)return e[q];g=e[g];return void 0!==g?g:e[q]};
$jscomp.polyfill=function(e,q,g,h){q&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,q,g,h):$jscomp.polyfillUnisolated(e,q,g,h))};$jscomp.polyfillUnisolated=function(e,q,g,h){g=$jscomp.global;e=e.split(".");for(h=0;h<e.length-1;h++){var a=e[h];if(!(a in g))return;g=g[a]}e=e[e.length-1];h=g[e];q=q(h);q!=h&&null!=q&&$jscomp.defineProperty(g,e,{configurable:!0,writable:!0,value:q})};
$jscomp.polyfillIsolated=function(e,q,g,h){var a=e.split(".");e=1===a.length;h=a[0];h=!e&&h in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var b=0;b<a.length-1;b++){var c=a[b];if(!(c in h))return;h=h[c]}a=a[a.length-1];g=$jscomp.IS_SYMBOL_NATIVE&&"es6"===g?h[a]:null;q=q(g);null!=q&&(e?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:q}):q!==g&&($jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+a,a=
$jscomp.propertyToPolyfillSymbol[a],$jscomp.defineProperty(h,a,{configurable:!0,writable:!0,value:q})))};$jscomp.polyfill("Array.from",function(e){return e?e:function(q,g,h){g=null!=g?g:function(d){return d};var a=[],b="undefined"!=typeof Symbol&&Symbol.iterator&&q[Symbol.iterator];if("function"==typeof b){q=b.call(q);for(var c=0;!(b=q.next()).done;)a.push(g.call(h,b.value,c++))}else for(b=q.length,c=0;c<b;c++)a.push(g.call(h,q[c],c));return a}},"es6","es3");
$jscomp.checkStringArgs=function(e,q,g){if(null==e)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(q instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return e+""};
$jscomp.polyfill("String.prototype.startsWith",function(e){return e?e:function(q,g){var h=$jscomp.checkStringArgs(this,q,"startsWith");q+="";var a=h.length,b=q.length;g=Math.max(0,Math.min(g|0,h.length));for(var c=0;c<b&&g<a;)if(h[g++]!=q[c++])return!1;return c>=b}},"es6","es3");$jscomp.findInternal=function(e,q,g){e instanceof String&&(e=String(e));for(var h=e.length,a=0;a<h;a++){var b=e[a];if(q.call(g,b,a,e))return{i:a,v:b}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(q,g){return $jscomp.findInternal(this,q,g).v}},"es6","es3");$jscomp.polyfill("String.prototype.endsWith",function(e){return e?e:function(q,g){var h=$jscomp.checkStringArgs(this,q,"endsWith");q+="";void 0===g&&(g=h.length);g=Math.max(0,Math.min(g|0,h.length));for(var a=q.length;0<a&&0<g;)if(h[--g]!=q[--a])return!1;return 0>=a}},"es6","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(e){if(e)return e;var q=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};q.prototype.toString=function(){return this.$jscomp$symbol$id_};var g=0,h=function(a){if(this instanceof h)throw new TypeError("Symbol is not a constructor");return new q("jscomp_symbol_"+(a||"")+"_"+g++,a)};return h},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var q="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<q.length;g++){var h=$jscomp.global[q[g]];"function"===typeof h&&"function"!=typeof h.prototype[e]&&$jscomp.defineProperty(h.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return e},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(e){e={next:e};e[Symbol.iterator]=function(){return this};return e};$jscomp.iteratorFromArray=function(e,q){e instanceof String&&(e+="");var g=0,h={next:function(){if(g<e.length){var a=g++;return{value:q(a,e[a]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill("Array.prototype.values",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(q,g){return g})}},"es8","es3");$jscomp.polyfill("Object.is",function(e){return e?e:function(q,g){return q===g?0!==q||1/q===1/g:q!==q&&g!==g}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(e){return e?e:function(q,g){var h=this;h instanceof String&&(h=String(h));var a=h.length;g=g||0;for(0>g&&(g=Math.max(g+a,0));g<a;g++){var b=h[g];if(b===q||Object.is(b,q))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(e){return e?e:function(q,g){return-1!==$jscomp.checkStringArgs(this,q,"includes").indexOf(q,g||0)}},"es6","es3");$jscomp.owns=function(e,q){return Object.prototype.hasOwnProperty.call(e,q)};
$jscomp.polyfill("Object.entries",function(e){return e?e:function(q){var g=[],h;for(h in q)$jscomp.owns(q,h)&&g.push([h,q[h]]);return g}},"es8","es3");
(function(e,q){"object"===typeof exports&&exports&&"string"!==typeof exports.nodeName?q(exports):"function"===typeof define&&define.amd?define(["exports"],q):(e.Mustache={},q(e.Mustache))})(this,function(e){function q(w){return"function"===typeof w}function g(w){return w.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(w,B){return null!=w&&"object"===typeof w&&B in w}function a(w,B){function H(fa){"string"===typeof fa&&(fa=fa.split(t,2));if(!k(fa)||2!==fa.length)throw Error("Invalid tags: "+
fa);T=new RegExp(g(fa[0])+"\\s*");U=new RegExp("\\s*"+g(fa[1]));da=new RegExp("\\s*"+g("}"+fa[1]))}if(!w)return[];var E=[],J=[],L=[],N=!1,Q=!1,T,U,da;H(B||e.tags);w=new d(w);for(var V,ba,ca;!w.eos();){B=w.pos;if(ba=w.scanUntil(T)){ca=0;for(var ha=ba.length;ca<ha;++ca)if(V=ba.charAt(ca),u.call(x,V)?Q=!0:L.push(J.length),J.push(["text",V,B,B+1]),B+=1,"\n"===V){if(N&&!Q)for(;L.length;)delete J[L.pop()];else L=[];Q=N=!1}}if(!w.scan(T))break;N=!0;V=w.scan(F)||"name";w.scan(l);"="===V?(ba=w.scanUntil(z),
w.scan(z),w.scanUntil(U)):"{"===V?(ba=w.scanUntil(da),w.scan(G),w.scanUntil(U),V="&"):ba=w.scanUntil(U);if(!w.scan(U))throw Error("Unclosed tag at "+w.pos);ca=[V,ba,B,w.pos];J.push(ca);if("#"===V||"^"===V)E.push(ca);else if("/"===V){V=E.pop();if(!V)throw Error('Unopened section "'+ba+'" at '+B);if(V[1]!==ba)throw Error('Unclosed section "'+V[1]+'" at '+B);}else"name"===V||"{"===V||"&"===V?Q=!0:"="===V&&H(ba)}if(V=E.pop())throw Error('Unclosed section "'+V[1]+'" at '+w.pos);return c(b(J))}function b(w){for(var B=
[],H,E,J=0,L=w.length;J<L;++J)if(H=w[J])"text"===H[0]&&E&&"text"===E[0]?(E[1]+=H[1],E[3]=H[3]):(B.push(H),E=H);return B}function c(w){for(var B=[],H=B,E=[],J,L=0,N=w.length;L<N;++L)switch(J=w[L],J[0]){case "#":case "^":H.push(J);E.push(J);H=J[4]=[];break;case "/":H=E.pop();H[5]=J[2];H=0<E.length?E[E.length-1][4]:B;break;default:H.push(J)}return B}function d(w){this.tail=this.string=w;this.pos=0}function f(w,B){this.view=w;this.cache={".":this.view};this.parent=B}function p(){this.cache={}}var r=Object.prototype.toString,
k=Array.isArray||function(w){return"[object Array]"===r.call(w)},u=RegExp.prototype.test,x=/\S/,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,t=/\s+/,z=/\s*=/,G=/\s*\}/,F=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail};d.prototype.scan=function(w){w=this.tail.match(w);if(!w||0!==w.index)return"";w=w[0];this.tail=this.tail.substring(w.length);this.pos+=w.length;return w};d.prototype.scanUntil=function(w){w=this.tail.search(w);
switch(w){case -1:var B=this.tail;this.tail="";break;case 0:B="";break;default:B=this.tail.substring(0,w),this.tail=this.tail.substring(w)}this.pos+=B.length;return B};f.prototype.push=function(w){return new f(w,this)};f.prototype.lookup=function(w){var B=this.cache;if(B.hasOwnProperty(w))var H=B[w];else{for(var E=this,J,L,N,Q=!1;E;){if(0<w.indexOf("."))for(J=E.view,L=w.split("."),N=0;null!=J&&N<L.length;)N===L.length-1&&(Q=h(J,L[N])||null!=J&&"object"!==typeof J&&J.hasOwnProperty&&J.hasOwnProperty(L[N])),
J=J[L[N++]];else J=E.view[w],Q=h(E.view,w);if(Q){H=J;break}E=E.parent}B[w]=H}q(H)&&(H=H.call(this.view));return H};p.prototype.clearCache=function(){this.cache={}};p.prototype.parse=function(w,B){var H=this.cache,E=w+":"+(B||e.tags).join(":"),J=H[E];null==J&&(J=H[E]=a(w,B));return J};p.prototype.render=function(w,B,H,E){var J=this.parse(w,E);B=B instanceof f?B:new f(B);return this.renderTokens(J,B,H,w,E)};p.prototype.renderTokens=function(w,B,H,E,J){for(var L="",N,Q,T,U=0,da=w.length;U<da;++U)T=void 0,
N=w[U],Q=N[0],"#"===Q?T=this.renderSection(N,B,H,E):"^"===Q?T=this.renderInverted(N,B,H,E):">"===Q?T=this.renderPartial(N,B,H,J):"&"===Q?T=this.unescapedValue(N,B):"name"===Q?T=this.escapedValue(N,B):"text"===Q&&(T=this.rawValue(N)),void 0!==T&&(L+=T);return L};p.prototype.renderSection=function(w,B,H,E){function J(da){return L.render(da,B,H)}var L=this,N="",Q=B.lookup(w[1]);if(Q){if(k(Q))for(var T=0,U=Q.length;T<U;++T)N+=this.renderTokens(w[4],B.push(Q[T]),H,E);else if("object"===typeof Q||"string"===
typeof Q||"number"===typeof Q)N+=this.renderTokens(w[4],B.push(Q),H,E);else if(q(Q)){if("string"!==typeof E)throw Error("Cannot use higher-order sections without the original template");Q=Q.call(B.view,E.slice(w[3],w[5]),J);null!=Q&&(N+=Q)}else N+=this.renderTokens(w[4],B,H,E);return N}};p.prototype.renderInverted=function(w,B,H,E){var J=B.lookup(w[1]);if(!J||k(J)&&0===J.length)return this.renderTokens(w[4],B,H,E)};p.prototype.renderPartial=function(w,B,H,E){if(H&&(w=q(H)?H(w[1]):H[w[1]],null!=w))return this.renderTokens(this.parse(w,
E),B,H,w)};p.prototype.unescapedValue=function(w,B){w=B.lookup(w[1]);if(null!=w)return w};p.prototype.escapedValue=function(w,B){w=B.lookup(w[1]);if(null!=w)return e.escape(w)};p.prototype.rawValue=function(w){return w[1]};e.name="mustache.js";e.version="3.0.1";e.tags=["{{","}}"];var C=new p;e.clearCache=function(){return C.clearCache()};e.parse=function(w,B){return C.parse(w,B)};e.render=function(w,B,H,E){if("string"!==typeof w)throw B=TypeError,w=k(w)?"array":typeof w,new B('Invalid template! Template should be a "string" but "'+
w+'" was given as the first argument for mustache#render(template, view, partials)');return C.render(w,B,H,E)};e.to_html=function(w,B,H,E){w=e.render(w,B,H);if(q(E))E(w);else return w};e.escape=function(w){return String(w).replace(/[&<>"'`=\/]/g,function(B){return m[B]})};e.Scanner=d;e.Context=f;e.Writer=p;return e});(function(){window.onpageshow=function(e){e.persisted&&window.location.reload()}})();
var gx=function(e){var q=/^(?:gx\.O\.)(.+)$/,g=/^(?:.+)?\((?:gx\.O\.)([a-zA-Z0-9_]+)(?:,)?(?:.*)\)$/,h=function(){return!1};return{$:e.noConflict(),O:null,pO:null,languageCode:"eng",dateFormat:"MDY",timeFormat:12,blankWhenEmpty:!1,centuryFirstYear:40,decimalPoint:".",thousandSeparator:",",staticDirectory:"/",basePath:"",servletBasePath:"",datepickerImage:null,clientImages:{},blankImage:null,ascImage:null,descImage:null,expandImage:null,collapseImage:null,downloadImage:null,indicatorImage:null,resizeImage:null,
msg:{},NULL_TIMEZONEOFFSET:0,emptyFn:function(){},falseFn:h,trueFn:function(){return!0},numericLenDec:function(a){var b=a.split(".");a=2===b.length?b[0]:a;b=2===b.length?b[1]:"";a=(a.match(/9|Z/g)||[]).length;b=(b.match(/9|Z/g)||[]).length;return{Integers:a,Decimals:b}},rtPicture:function(a,b){return b&&b.getAttribute("data-gx-rt-picture")||a&&a.pic||""},dom:{_form:null,_avoidLeaksDiv:null,id:function(a){return void 0==a.id||""==a.id?a.name:a.id},byId:function(a,b){return"string"===typeof a?(b=b||
document,b.getElementById(a)):a},byName:function(a){return a?document.getElementsByName(a):[]},toggleAttribute:function(a,b,c){"function"===typeof a.toggleAttribute?a.toggleAttribute(b,c):c?a.setAttribute(b,""):a.removeAttribute(b,"")},byTag:function(a,b){b=b||document;return b.getElementsByTagName(a)},byClass:function(a,b,c){return!b&&(c=document||c,c.getElementsByClassName)?c.getElementsByClassName(a):e((b||"")+"."+a,c).toArray()},bySelector:function(a){return e(a).toArray()},getAttributeNames:function(a){return"function"===
typeof a.getAttributeNames?a.getAttributeNames():Array.from(a.attributes).map(function(b){return b.name})},scripts:function(a){var b=document.scripts;b||(b=document.getElementsByTagName("script"));if("undefined"!=typeof b){for(var c=[],d=b.length,f=0;f<d;f++)if(!a||null==b[f].getAttribute("data-gx-external-script")){var p=b[f].attributes.src;p&&p.value&&(p=p.value,"//:"!=p&&c.push(p))}return c}return[]},getIntersectionObserver:function(a){"IntersectionObserver"in window&&"IntersectionObserverEntry"in
window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?a&&a(window.IntersectionObserver):gx.http.loadScript(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"intersection-observer.js",!1),function(){a&&a(window.IntersectionObserver)})},_init:function(){gx.evt.processing=!1;gx.evt.userReadyCnt=1;gx.evt._userReady=!1;gx.evt.on_ready(this,function(){var a,b=gx.util.browser,c=[];if(document.querySelectorAll)c=document.querySelectorAll("input[type='hidden']");else{var d=gx.dom.byTag("input");
var f=0;for(a=d.length;f<a;f++)"hidden"==d[f].getAttribute("type")&&c.push(d[f])}f=0;for(a=c.length;f<a;f++)c[f].setAttribute("autocomplete","off");e('input[type="file"]').on("click",function(){gx.fx.obs.notify("gx.validation")});if(b.isChrome())for(b=document.querySelectorAll("select"),f=0,a=b.length;f<a;f++)b[f].value||(c=b[f].querySelectorAll("option[selected]"))&&c.length&&(b[f].value=c[0].value);e('input[type="file"]').on("click",function(){gx.fx.obs.notify("gx.validation")})});this.TRANSITION_END_EVENT=
gx.util.browser.isWebkit()?"webkitTransitionEnd":gx.util.browser.isOpera()?"oTransitionEnd":"transitionend";this.ANIMATION_END_EVENT=gx.util.browser.isWebkit()?"webkitAnimationEnd":gx.util.browser.isOpera()?"oAnimationEnd":"animationend"}},evt:{enter:!1,lastKey:-1,lastControl:null,lastEvent:null,dummyCtrl:{},keyListeners:{},shiftPressed:!1,execLoad:!0,autoSkip:!1,controlKeys:[3,6,8,9,12,13,14,16,17,18,19,20,27,32,33,34,35,36,37,38,39,40,44,45,46],triggerKeys:[13,32],processing:!1,skipPromptCtrl:!0,
touchTimer:null,userReadyCnt:0,_userReady:!1,userReadyThreshold:2E3,userReadyThresholdFast:400,hooks:[],types:{VALUECHANGED:1,VALUECHANGING:2},serialRunner:function(){var a=[];return{addTask:function(b){a.push(b);if(1===a.length)a[0]()},signalEndTask:function(){a.shift();if(0<a.length)a[0]()}}},addHook:function(a,b,c,d){this.hooks.push({c:a,e:b,f:c,o:d})},removeHookByKey:function(a){e.each(gx.evt.hooks,function(b,c){c.o&&c.o.hookKey&&a===c.o.hookKey&&(gx.evt.detach(c.e,c.o,c.f),gx.evt.hooks[b]=void 0)});
gx.evt.hooks=gx.evt.hooks.filter(function(b){return b})},attach:function(a,b,c,d,f){f=f||{};if("string"==typeof b){var p=c;d&&(p=c.closure(d));var r=gx.evt.hooks.length;if(f.single){var k=p,u=!1,x;p=function(){u||(x&&clearTimeout(x),gx.evt.detach(a,b,k,f),k.apply(this,arguments),gx.evt.hooks.splice(r,1),u=!0)};f.timeout&&(x=setTimeout(p,f.timeout))}a.addEventListener?a.addEventListener(b,p,f.useCapture||!1):a.attachEvent?a.attachEvent("on"+b,p):a["on"+b]=p;this.addHook(a,b,p,f)}else if(gx.lang.isArray(b)){p=
0;for(var m=b.length;p<m;p++)this.attach(a,b[p],c,d,f)}},on_ready:function(a,b){gx.fx.obs.addObserver("gx.onload",a,b)},onload:function(){gx.objectLoad().done(function(){gx.spa.start({listeners:{onnavigatestart:function(){gx.dom.addClass(document.body,"gx-spa-navigating")},onnavigate:function(){gx.dom.removeClass(document.body,"gx-spa-navigating")},onbeforesend:function(a,b,c){gx.pO.MasterPage&&a.req.setRequestHeader(c,gx.pO.MasterPage.ServerClass)},onbeforeprocessresponse:function(a,b,c,d,f,p){gx.reinit(!p)},
oncontentreplace:function(a,b,c,d,f,p,r,k){a=gx.lang.getType(d);p=(p=p==r?p:r)?gx.lang.getType(p.toLowerCase()):!1;var u=gx.ajax.getJsonResponse();u&&gx.fn.setJsonHiddens(null,u.gxHiddens,!1);a.prototype=new gx.GxObject;gx.setParentObj(new a);k?gx.setMasterPage(f):p&&gx.setMasterPage(new p);gx.ajax.clearJsonResponse();u?gx.ajax.setJsonResponse({response:u,isPostBack:!1,afterCmpLoaded:function(){k&&(f.restoreTargetComponents(),f.restoreExoEventHandlers());gx.objectLoad(u.gxGrids,u.gxHiddens).done(function(){gx.pO.SetStandaloneVars()})},
gxObject:gx.O}).done(function(){gx.fn.setFocusAfterLoad(!0)}):gx.objectLoad()}}})})},onready:function(a){if(gx.lang.emptyObject(a))if("complete"==document.readyState)gx.evt.onload();else setTimeout(function(){gx.evt.onready(null)},250);else if(gx.util.browser.isIE()&&"complete"==document.readyState)gx.evt.onload()},_init:function(){gx.evt.userReadyThresholdFast=gx.util.browser.isIE()?2E3:gx.evt.userReadyThresholdFast;document.gxReadyState="loading";gx.lang.doCallTimeout(function(){gx.evt.userReadyThreshold=
gx.evt.userReadyThresholdFast},gx.evt,[],gx.evt.userReadyThreshold);gx.util.browser.isIE()&&(gx.util.browser.isCompatMode()||8>=document.documentMode||8>=gx.util.browser.ieVersion()&&!gx.util.browser.isWinCE())?this.attach(document,"readystatechange",this.onready):9<=gx.util.browser.ieVersion()&&!gx.util.browser.isWinCE()||gx.util.browser.isFirefox()||gx.util.browser.isWebkit()||gx.util.browser.isOperaMini()?this.attach(document,"DOMContentLoaded",this.onload):gx.util.browser.isBlackBerry()?this.attach(window,
"load",this.onload):gx.wi(function(){this.onready(null)},gx.evt);gx.wi(function(){this.attach(document,["touchstart"],this.ontouchstart);this.attach(document,"mousedown",this.onmousedown);this.attach(document,["mousemove","touchmove"],this.onmousemove);this.attach(document,["mouseup","touchend"],this.onmouseup);this.attach(document,"click",this.onclick);this.attach(document,"dblclick",this.ondblclick);this.attach(window,"blur",this.onwindowblur);gx.dbg.performance&&!gx.util.browser.isBlackBerry()&&
this.attach(window,"load",function(){gx.dbg.logPerf("onload","Page Loaded");gx.dbg.printPerformanceLog()})},gx.evt)}},define:function(a,b,c){var d=window||this,f=a.split("."),p=f.length;for(a=0;a<p-1;a++)"undefined"==typeof d[f[a]]&&(d[f[a]]={}),d=d[f[a]];d[f[p-1]]=c;b||(d[f[p-1]].prototype=new gx.GxObject)},setParentObj:function(a){gx.pO=a;gx.O=gx.pO;gx.AjaxSecurity=gx.pO.AjaxSecurity;gx.OnSessionTimeout=gx.pO.OnSessionTimeout;gx.fx.obs.notify(gx.PARENT_OBJECT_EVT)},createParentObj:function(a){gx.spa&&
gx.spa.started||(a instanceof gx.GxObject||(GxObj=new a),GxObj&&this.setParentObj(GxObj))},setExecutableComponent:function(a){gx.spa&&gx.spa.started||gx.wi(function(){null==gx.pO&&(gx.setParentObj(gx.createComponent(a,"")),gx.fn.objectOnload(void 0,!0))},this)},setMasterPage:function(a){gx.wpo(function(){null!=gx.pO&&(gx.pO.MasterPage=a,gx.fx.obs.notify(gx.SETMASTERPAGE_EVT))})},createMasterPage:function(a){gx.wpo(function(){var b;gx.spa.isNavigating()||(a instanceof gx.GxObject||(b=new a),b&&this.setMasterPage(b))},
this)},addComponent:function(a,b){null!=gx.pO&&gx.pO.setWebComponent(a,b)},createComponent:function(a,b,c){var d=null;a=gx.lang.getType(a);if(null!=a){a.prototype=new gx.GxObject;var f=gx.csv.cmpCtx;gx.csv.cmpCtx=b;d=new a(b);c&&d.setContainer(c);gx.csv.cmpCtx=f;d.serviceUrl=gx.fn.getControlValue(d.CmpContext+"_CMPPGM")}return d},getObj:function(a,b){return""==a?1==b?gx.pO.MasterPage:gx.pO:gx.pO.getWebComponent(a)},setGxO:function(){if(1==arguments.length&&"object"==typeof arguments[0])gx.O=arguments[0];
else{var a=arguments[0];var b=arguments[1];gx.O=this.getObj(a,b)||gx.pO}gx.csv.cmpCtx=gx.O.CmpContext;return gx.O},setVar:function(a,b){gx.O.setVariable(a,b)},getVar:function(a){return gx.O.getVariable(a)},prefixVar:function(a){return"gx.O."+a},unprefixVar:function(a){var b=q;b=b.exec(a);null!=b&&b[1]?a=b[1]:(b=g,b=b.exec(a),null!=b&&b[1]&&(a=b[1]));return a},getMessage:function(a){return void 0==gx.msg[a]?a:gx.msg[a]},setLanguageCode:function(a){gx.languageCode=a},setDateFormat:function(a){gx.dateFormat=
a},setTimeFormat:function(a){gx.timeFormat=a},setCenturyFirstYear:function(a){gx.centuryFirstYear=a},setBlankWhenEmptyDate:function(a){gx.blankWhenEmpty=a},setDecimalPoint:function(a){gx.decimalPoint=a},setThousandSeparator:function(a){gx.thousandSeparator=a},setStaticDirectory:function(a){gx.staticDirectory=a;if(""==gx.staticDirectory)gx.staticDirectory="/";else{var b=gx.staticDirectory.length;a=!gx.isabsoluteurl(a)&&"/"!=gx.staticDirectory.charAt(0);b="/"!=gx.staticDirectory.charAt(b-1);gx.staticDirectory=
(a?"/":"")+gx.staticDirectory+(b?"/":"")}},getThemeElement:function(){return gx.dom.byId("gxtheme_css_reference")},updateTheme:function(){var a=gx.fn.getHidden("GX_THEME");a&&a!=this.theme&&(this.theme=a,(a=gx.getThemeElement())&&0>a.href.search("/"+this.theme+".css")&&(a.href=a.href.replace(/[^/]*.css/,this.theme+".css")))},setTheme:function(a){var b=gx.util.browser,c=b.isIE();b=b.ieVersion();var d=gx.dom.fixes;this.theme=gx.fn.getHidden("GX_THEME");this.theme||(this.theme="");try{void 0===a&&d.resetFixesStyleElement();
gx.HTML5&&d.html5(a);if(void 0===a){c&&(e(document.documentElement).addClass("ie"),e(document.documentElement).addClass("ie"+b),gx.runtimeTemplates&&!Modernizr.flexbox&&e(document.documentElement).addClass("gx-align-fallback"));if(c&&10==b){var f=document.createElement("style");f.innerHTML="input::-ms-clear {display: none;}";document.body.appendChild(f)}d.setPopupMinWidth()}d.fixTableResets(a)}catch(p){gx.dbg.logEx(p,"gxapi.js","setTheme")}},typedOld:function(a,b,c){switch(c){case "int":return this.OldInteger(a,
b);case "decimal":return this.OldDecimal(a,b,!0);case "date":return this.OldDate(a,b);case "dtime":return this.OldDateTime(a,b);default:return this.Old(a,b)}},isInputEnabled:function(a){return a&&gx.evt.lastEvt==a?!0:!(gx.evt.processing&&!gx.csv.isvalidating()||gx.spa.isNavigating())},types:{numeric:0,character:1,date:2,dateTime:3,blob:4,varChar:5,longVarChar:6,bool:7,geolocation:8},domains:{url:"Url",email:"Email",phone:"Phone",address:"Address",geolocation:"Geolocation",component:"Component",feed:"Feed"},
gen:{net:!1,isDotNet:function(){return this.net},isRuby:h,isJava:function(){return!this.net},resolveObjClass:function(a){var b=a;gx.gen.isDotNet()&&(b=a.replace(/\.aspx$/,""));gx.gen.isJava()&&gx.pO&&gx.pO.PackageName&&gx.text.startsWith(a,gx.pO.PackageName)&&(b=a.substring(gx.pO.PackageName.length+1));return b}},util:function(){var a=/^gx-image:\/\/(.*)/;return{executionContext:{getContext:function(){return gx.http.currentUrl()},changedContext:function(b){return b!==gx.util.executionContext.getContext()}},
contentTypes:{txt:"text/plain",rtx:"text/richtext",htm:"text/html",html:"text/html",xml:"text/xml",aif:"audio/x-aiff",au:"audio/basic",wav:"audio/wav",bmp:"image/bmp",gif:"image/gif",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",jfif:"image/pjpeg",tif:"image/tiff",tiff:"image/tiff",png:"image/x-png",mpg:"video/mpeg",mpeg:"video/mpeg",mov:"video/quicktime",qt:"video/quicktime",avi:"video/x-msvideo",exe:"application/octet-stream",dll:"application/x-msdownload",ps:"application/postscript",pdf:"application/pdf",
tgz:"application/x-compressed",zip:"application/x-zip-compressed",gz:"application/x-gzip"},compare:function(b,c,d){if(typeof b!=typeof d)return!1;if("string"==typeof b&&"like"==c)return c=d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),c=gx.text.replaceAll(gx.text.replaceAll(c,"%",".*"),"_","."),(new RegExp(c,"i")).test(b);switch(c){case ">":return b>d;case ">=":return b>=d;case "<":return b<d;case "<=":return b<=d;case "<>":return b!=d;default:return b==d}},isKnownContentType:function(b){for(var c in this.contentTypes)if(this.contentTypes[c]==
b)return!0;return!1},getContentTypeFromExt:function(b){b=b.split(/[#?]/)[0].split(".").pop().trim();return this.getContentType(b)},getContentType:function(b){if(gx.lang.emptyObject(b))return"text/html";b=b.toLowerCase();b=gx.text.trim(b);if(this.isKnownContentType(b))return b;var c=b.lastIndexOf(".");-1!=c&&(b=b.substring(c+1));b=this.contentTypes[b];return gx.lang.emptyObject(b)?"text/html":b},getFileName:function(b){var c=b.lastIndexOf("/"),d=b.lastIndexOf("\\");c=c>d?c:d;d=b.lastIndexOf(".");if(!b)return b;
if(0>d||c>d)d=b.length;return b.substring(c+1,d)},getFileType:function(b){var c=b.lastIndexOf("/"),d=b.lastIndexOf("\\"),f=b.lastIndexOf(".");return 0>f||f<c||f<d?"":b.substring(f+1)},getWindowInfo:function(){var b="",c=!0,d=!1;try{if(d=window.location!=window.parent.location?!0:!1)try{c=window.frameElement.id||window.top.document.body,b=window.name}catch(f){c=!1}}catch(f){}return{insideIframe:d,canAccessFrame:c,frameId:b}},browser:function(){var b=navigator.userAgent,c=/; rv.([0-9]+)/,d;return{w3c:!0,
ie5:!0,ie:-1!=b.indexOf("MSIE")||-1!=b.indexOf("Trident"),edge:-1!=b.indexOf("Edge"),ff:-1!=b.indexOf("Firefox"),winCE:-1!=b.indexOf("Windows CE"),iphone:-1!=b.indexOf("iPhone"),ipad:-1!=b.indexOf("iPad"),ipod:-1!=b.indexOf("iPod"),blackBerry:-1!=b.indexOf("BlackBerry"),operaMini:-1!=b.indexOf("Opera Mini"),opera:-1!=b.indexOf("Opera"),chrome:-1!=b.indexOf("Chrome"),android:-1!=b.indexOf("Android"),webkit:-1!=b.search(/webkit/ig),safari:-1!=b.indexOf("Safari")&&-1===b.indexOf("Chrome"),isIEStrict:function(){return this.ie},
isIE:function(){return this.ie||this.edge},isEdge:function(){return this.edge},isSafari:function(){return this.safari},isFirefox:function(){return this.ff},isChrome:function(){return this.chrome},isWinCE:function(){return this.winCE},isIPhone:function(){return this.iphone},isIPad:function(){return this.ipad},isAndroid:function(){return this.android},isBlackBerry:function(){return this.blackBerry},isOperaMini:function(){return this.operaMini},isOpera:function(){return this.opera},isWebkit:function(){return this.webkit},
isSmartDevice:function(){return this.isWinCE()||this.isIPhone()||this.isBlackBerry()||this.isOperaMini()||this.isAndroid()},isCompatMode:function(){return"BackCompat"==document.compatMode},isOldIE:function(f){return gx.util.browser.isIE()&&gx.util.browser.ieVersion()<=(f||8)},ieVersion:function(){var f=function(){if(this.ie)try{var p=b.indexOf("MSIE");if(0<=p){var r=b.indexOf(";",p),k=b.substring(p+5,r);return parseFloat(k,10)}var u=b.match(c);if(1<u.length)return parseFloat(u[1],10)}catch(x){gx.dbg.logEx(x,
"gxapi.js","ieVersion")}else if(this.edge&&(u=b.match(/ Edge\/([0-9]+)\./),1<u.length))return parseFloat(u[1],10);return-1};d||(d=f.call(this));return d},chromeVersion:function(){if(this.isChrome()){var f=b.match(/Chrome\/([0-9]+)/);if(1<f.length)return parseFloat(f[1],10)}},setupIE:function(){9<=this.ieVersion()&&!this.isCompatMode()&&"undefined"!==typeof Range&&!Range.prototype.createContextualFragment&&(Range.prototype.createContextualFragment=function(f){var p=document.createDocumentFragment(),
r=document.createElement("div");p.appendChild(r);r.outerHTML=f;return p});"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},_init:function(){this.isWinCE()||(this.w3c=document.getElementById?!0:!1,this.ie5=this.ie&&document.getElementById&&document.all?!0:!1);this.setupIE()}}}(),addOnce:function(b,c,d){void 0==b[d]&&(b[d]=c)},inArray:function(b,c){if(null==b||!gx.lang.isArray(c))return!1;if("function"==typeof c.indexOf)return-1!=c.indexOf(b);
for(var d=c.length,f=0;f<d;f++)if(c[f]==b)return!0;return!1},pushOnceSorted:function(b,c){for(var d=!0,f=0,p=c.length;f<p;f++){if(b==c[f]){d=!1;break}if(b<c[f]){c.splice(f,0,b);d=!1;break}}d&&c.push(b)},lastArray:function(b){return 0<b.length?b[b.length-1]:null},noParmsUrl:function(b){var c=b.indexOf("?");-1!=c&&(b=b.substring(0,c));return b},resolveUrl:function(b){if(!b)return b;b=gx.util.imageUrl(b);return gx.isabsoluteurl(b)?b:gx.isRelativeToHost(b)?0!=b.toLowerCase().indexOf("/"+gx.basePath.toLowerCase())?
gx.util.resourceUrl(gx.basePath+b,!1):b:gx.util.resourceUrl(gx.basePath+gx.staticDirectory+b,!1)},imageName:function(b){return(b=a.exec(b))?b[1].replaceAll(".","_"):null},imageUrl:function(b){var c=a.exec(b);return c?gx.uc.getComputedImagePath(c[1].replaceAll(".","_")):b},resourceUrl:function(){var b;return function(c,d){b||(b=new RegExp(gx.basePath+"(/|$)","i"));if("undefined"==typeof c)return"";if(-1!=c.indexOf("://")||"."==c.charAt(0))return gx.text.startsWith(c,gx.basePath)?c.substring(gx.basePath.length):
c;var f="/"!=gx.basePath.charAt(gx.basePath.length-1),p=""==gx.basePath?0:c.search(b);if(0==p&&!d)return("/"==c.charAt(0)?"":"/")+c;if(-1!=p||d){d=-1!=p&&0<gx.basePath.length?gx.text.replaceAll(c.substring(p+gx.basePath.length),"\\","/"):c;if("/"==c.charAt(0))return location.protocol+"//"+location.host+c;c=0<gx.basePath.length&&"/"!=gx.basePath.charAt(0);f=f&&"/"!=d.charAt(0);return location.protocol+"//"+location.host+(c?"/":"")+gx.basePath+(f?"/":"")+d}return c}}(),sameAppUrl:function(b){b=new this.Url(b);
return b.isRelative()?!0:b.isSameApp(location.href)},removeBaseUrl:function(b){var c="/"!=gx.staticDirectory.charAt(gx.staticDirectory.length-1),d=0<gx.basePath.length;var f="/"==gx.staticDirectory.charAt(0)?gx.staticDirectory.substring(1):gx.staticDirectory;f=(new RegExp("(?:/)?(?:"+gx.basePath+(d?"/":"")+"(?:"+f+(c?"/":"")+")?)?((?:[\\S]*))")).exec(b);null!=f&&f[1]&&(b=f[1]);return b},getIFrameEmptySrc:function(){return"https:"==location.protocol&&gx.util.browser.isIE()&&6>=gx.util.browser.ieVersion()?
"gx_blank.html":"about:blank"},Url:function(){var b=/^(([^:\/\?#]+):)?(\/\/([^\/\?#]*))?([^\?#]*)(\?([^#]*))?(#(.*))?$/,c=/^(([^@]+)@)?([^:]+)(:(.+))?$/,d=function(f){this.url=f;this.user=this.hash=this.query=this.path=this.port=this.host=this.protocol="";this.isRelative=function(){return gx.lang.emptyObject(this.host)};this.isSameApp=function(p){p=new gx.util.Url(p);return this.protocol==p.protocol&&this.host==p.host};(function(p,r){var k=b;k=k.exec(r);if(r=!gx.lang.emptyObject(k))if(p.protocol=
k[2]?k[2]:"",r=k[4]?k[4]:"",p.path=k[5]?k[5]:"",p.query=k[7]?k[7]:"",p.hash=k[9]?k[9]:"",k=c,k=k.exec(r),r=!gx.lang.emptyObject(k))p.user=k[2]?k[2]:"",p.host=k[3]?k[3]:"",p.port=k[5]?k[5]:""})(this,f)};d.parseWithAnchor=function(f){var p=document.createElement("a");p.href=f;!p.protocol&&gx.util.browser.isIE()&&(p.href=p.href);return p};return d}(),regExp:{isMatch:function(b,c){return null!==(new RegExp(c)).exec(b)},replace:function(b,c,d){return b.replace(c,d)},split:function(b,c){return b.split(c)},
matches:function(b,c){b=(new RegExp(c)).exec(b);return null!==b?b:[]}},autoRefresh:{arTimer:null,getProps:function(){var b=gx.fn.getHidden("_GxRefreshTimeout");null!=b&&(b=gx.json.evalJSON(b),b.Time=parseInt(b.Time));return b},install:function(){var b=this.getProps();null!=b&&(this.create(),"focus"==b.Type&&gx.evt.attach(window,"blur",this.destroy))},create:function(){if(null==this.arTimer){var b=this.getProps();null!=b&&(this.arTimer=setTimeout(function(){gx.http.reload()},1E3*b.Time))}},destroy:function(){null!=
gx.util.autoRefresh.arTimer&&(window.clearTimeout(gx.util.autoRefresh.arTimer),gx.util.autoRefresh.arTimer=null)}},accessKey:function(b){var c="";if(-1!=b.indexOf("&"))for(var d=b.length,f=0;f<d-1;f++)if("&"==b[f]&&"&"!=b[f+1]){c+=b[f+1];break}return c},accessKeyCaption:function(b){var c="";if(-1==b.indexOf("&"))return b;for(var d=b.length,f=0;f<d-1;f++)if("&"==b[f]&&"&"!=b[f+1]){c+=b.substring(f+1);break}else c+=b[f];return c},invalidFunc:function(b){throw"gxInvalidFunc: "+b;},urlValue:function(b){var c=
b;"string"!=typeof c&&(c=gx.fn.getControlValueInt(b));return encodeURIComponent(c)},help:function(b){open(b,"gxHelpWindow","toolbar=no,location=no,directories=no,status=yes,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no")},_init:function(){this.browser._init()}}}(),guid:{generate:function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)})}},lang:{inherits:function(a,b,c){var d=a.prototype;a.prototype=
new b;for(var f in d)"undefined"==typeof a.prototype[f]&&(a.prototype[f]=d[f]);"undefined"==typeof a.prototype.base&&(a.prototype.base=b);!0===c&&(a.prototype.constructor=function(){b.prototype.constructor.apply(this,arguments);d.constructor.apply(this,arguments)})},apply:function(a,b){if(a&&b&&"object"===typeof b)for(var c in b)a[c]=b[c];return a},isEmpty:function(a){return a instanceof gx.date.gxdate?0==(new gx.date.gxdate("")).compare(a):"number"==typeof a?0==a:"undefined"!=typeof gx.num.dec&&
a instanceof gx.num.dec.bigDecimal?gx.num.compare(a,0):""==a},instanceOf:function(a,b){if(null==a||null==b)return!1;if(a instanceof b||b==String&&"string"==typeof a||b==Number&&("number"==typeof a||"undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)||b==Array&&"array"==typeof a||b==Function&&"function"==typeof a)return!0;if("string"==typeof a||"number"==typeof a||"array"==typeof a)return!1;for(a=a.base;"undefined"!=typeof a;){if(a==b)return!0;a=a.base}return!1},clone:function(a){var b=
{},c;for(c in a)b[c]=a[c];return b},cloneDeep:function(a){return JSON.parse(JSON.stringify(a))},isDateType:function(a){return"date"==a||"dtime"==a},isNumericType:function(a){return"int"==a||"decimal"==a},isBooleanType:function(a){return"boolean"==a||"bool"==a},isFixedCharacterType:function(a){return"char"==a||"bits"==a},isCharacterType:function(a){return"char"==a||"svchar"==a||"bits"==a},isArray:function(a){return a&&"number"==typeof a.length&&"function"==typeof a.splice},booleanValue:function(a){return 1==
a||0==a?a:"string"==typeof a&&"true"==a.toLowerCase()?!0:!1},gxBoolean:function(a){if("undefined"==typeof a)return!1;if("boolean"==typeof a)return a;if("number"==typeof a){if(0==a)return!1}else if("string"==typeof a&&(""==a||"false"==a.toLowerCase()||"0"==a.replace(/^ */,"").replace(/ *$/,"")))return!1;return!0},emptyNum:function(a){return a&&0===a||!a},emptyObj:function(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},emptyObject:function(a){return void 0===a||null==a||""==a||"number"==
typeof a&&isNaN(a)?!0:!1},supEval:function(a,b){var c=null;c=b instanceof String||"string"==typeof b?a[b]:b;return function(){return c.apply(a,arguments)}},getType:function(a){var b=null;try{for(var c=0,d=a.split("."),f=d.length;null===b&&c<f;)b=this.getTypeImpl(window,d,c++,f)}catch(p){gx.dbg.logEx(p,"gxapi.js","getType")}return b},getTypeImpl:function(a,b,c,d){var f=null;for(i=c;i<d;i++)if(a[b[i]])a=a[b[i]];else break;i===d&&a&&"function"===typeof a&&(f=a);return f},doEval:function(a,b){b=b||window;
return b.execScript?b.execScript(a):eval.call?eval.call(b,a):eval(a)},doCall:function(){try{for(var a=arguments[0],b=[],c=arguments.length,d=1;d<c;d++)b.push(arguments[d]);return a.apply(this,b)}catch(f){gx.dbg.logEx(f,"gxapi.js","doCall")}},doExecTimeout:function(a){clearTimeout(a.t);a.f.call()},doCallTimeout:function(a,b,c,d){a=a.closure(b,c);d=setTimeout(a,d);return{f:a,t:d}},requestAnimationFrame:function(a,b){a=b?a.closure(b):a;window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,
10)},htmlDecode:function(){var a=document.createElement("div");return function(b){b&&"string"===typeof b&&(b=escape(b).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),a.innerHTML=b,b=e(a).text(),e(a).text(""));return unescape(b)}}(),arrayUnique:function(a,b){a=a.concat();for(var c=0;c<a.length;++c)for(var d=c+1;d<a.length;++d)(b&&b(a[c],a[d])||a[c]===a[d])&&a.splice(d--,1);return a},objToArray:function(){var a=function(b){return[b]};return function(b){return e.map(b,a)}}()},cache:function(){var a=
!1;return{exceptionsRegEx:!1,remoteFiles:{},inlineCode:{},isCacheable:function(b){return this.exceptionsRegEx?!!b&&-1==b.search(this.exceptionsRegEx):!0},addRemoteFile:function(b){this.isCacheable(b)&&(b=gx.util.noParmsUrl(b),b=gx.util.resourceUrl(b,!0),this.remoteFiles[b]=!0)},addLoadedFile:function(b){this.isCacheable(b)&&(b=gx.util.noParmsUrl(b),b=gx.util.resourceUrl(b,!0),this.remoteFiles[b]=!0)},removeAllRemoteFiles:function(){this.remoteFiles={}},removeRemoteFiles:function(b){var c;if(b)for(c in this.remoteFiles)b.exec(c)&&
(this.remoteFiles[c]=!1)},removeRemoteFile:function(b){b=gx.util.noParmsUrl(b);b=gx.util.resourceUrl(b,!0);this.remoteFiles[b]=!1},fileLoaded:function(b){b=gx.util.noParmsUrl(b);b=gx.util.resourceUrl(b,!0);return this.remoteFiles[b]?!0:!1},updateStyles:function(b,c){for(var d=[],f=b.length,p=0;p<f;p++){var r=b[p];if(!gx.lang.emptyObject(r)){for(var k=!1,u=c.length,x=0;x<u;x++)if(r==c[x]){k=!0;break}k||d.push(r)}}b=gx.staticDirectory;"/"==b.charAt(0)&&(b=b.substring(1));f=d.length;for(p=0;p<f;p++)r=
d[p],"/"!=r.charAt(0)&&(r=b+r),this.removeRemoteFile(r)},addInlineCode:function(b){this.inlineCode[b]=!0},deleteInlineCode:function(b){delete this.inlineCode[b]},codeLoaded:function(b){return this.inlineCode[b]?!0:!1},_init:function(){if(!a){a=!0;var b=gx.staticDirectory;"/"==b.charAt(0)&&(b=b.substring(1));for(var c=gx.dom.scripts(!0),d=c.length,f=0;f<d;f++){var p=c[f];gx.lang.emptyObject(p)||("/"==p.charAt(0)||gx.isabsoluteurl(p)||(p=b+p),this.addRemoteFile(p))}c=gx.dom.styles();d=c.length;for(f=
0;f<d;f++)p=c[f],gx.lang.emptyObject(p)||("/"==p.charAt(0)||gx.isabsoluteurl(p)||(p=b+p),this.addRemoteFile(p))}}}}(),json:{_nonSerializables:[],setNonSerializable:function(a){this.isNonSerializable(a)||this._nonSerializables.push(a)},isNonSerializable:function(a){for(var b=this._nonSerializables.length,c=0;c<b;c++)if(this._nonSerializables[c]==a)return!0;return!1},evalJSON:function(a,b){try{return window.JSON&&!b?void 0===a?a:JSON.parse(a):eval("("+a+")")}catch(c){gx.dbg.logEx(c,"gxapi.js","evalJSON")}return a},
evalValidJSON:function(a){return eval("("+a+")")},serializeSDTJson:function(a,b,c){a=gx.lang.cloneDeep(a);a=gx.O.applySDTMapping(a,b,!1);return gx.json.serializeJson(a,c)},serializeJson:function(a,b){if(b&&window.JSON)return JSON.stringify(a);var c=this.objToJson(a);if(null===c)c=this.arrayToJson(a);else return c;if(null===c){if("function"==typeof a)return null;c=[];for(var d in a)if(b||!this.isNonSerializable(d)){var f=this.objToJson(d,!0);if(null!==f){var p=this.serializeJson(a[d]);"string"==typeof p&&
c.push(f+":"+p)}}return"{"+c.join(",")+"}"}return c},objToJson:function(a,b){var c=typeof a;if(b){if(!gx.lang.emptyObject(a)){if("string"==c)return gx.text.escapeString(a);if("number"==c)return'"'+a+'"';if("undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)return'"'+a.toString()+'"'}}else{if("undefined"==c)return c;if("string"==c)return gx.text.escapeString(a);if("number"==c||"boolean"==c)return a.toString();if("undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)return'"'+
a.toString()+'"';if(null===a)return"null";if("function"==typeof a.json&&(b=a.json(),a!==b))return this.serializeJson(b)}return null},arrayToJson:function(a){if(Array.isArray(a)){for(var b=[],c=a.length,d=0;d<c;d++){var f=this.serializeJson(a[d]);"string"!=typeof f&&(f="undefined");b.push(f)}return"["+b.join(",")+"]"}return null},SDTFromJson:function(a,b,c,d){(c=gx.json.objFromJson(a,c,d))&&gx.O.applySDTMapping(a,b,!0);return c},objFromJson:function(a,b,c){try{var d=this.evalValidJSON(b);if(Array.isArray(a)&&
Array.isArray(d))for(;a.length>d.length;)a.shift();else for(var f in a)"function"!=typeof a[f]&&delete a[f];for(f in d)a[f]=d[f];return!0}catch(p){return gx.dbg.logEx(p,"gxapi.js","objFromJson"),c&&c.push({Id:"FromJson Error",Description:gx.dbg.exTxt(p),Type:0}),!1}}},dbg:{lastTime:0,enabled:!1,performance:!1,dbgWin:null,outputFunc:null,hshTimes:null,performanceLog:[],_init:function(){this.hshTimes=[];this.hshTimes.onload=(new Date).getTime()}},stackId:function(a){return"stack_"+gx.util.getWindowInfo().frameId+
a},stackSupported:function(){return(gx.evt.clinav||"true"==gx.fn.getHidden("GX_CLI_NAV"))&&gx.call_stack_storage.supported},csv:{},http:{currentUrl:function(){return location.href.replace(location.hash,"")},loadScript:function(a,b,c){var d=b,f=!1,p;if("string"!==typeof a){var r=a.callback;f=a.isExternal;var k=a.attris;a=a.url;d=function(){r&&r();b()}}var u=gx.dom.byTag("head")[0],x=e("script[src='"+a+"']"),m=!0;if(0<x.length&&!c)if(f)x.remove();else{var l=x.get(0);m=!1}c=function(t){var z=function(){t();
l.removeAttribute("data-gx-loading-script")};"function"==typeof t&&(l.addEventListener?gx.evt.attach(l,["load","error"],z,{userCapture:!1}):l.onreadystatechange=function(){"loaded"!=l.readyState&&"complete"!=l.readyState||z()})};if(l)null!==l.getAttribute("data-gx-loading-script")?c(d):d();else{l=document.createElement("script");l.type="text/javascript";l.src=a;if(k)for(p in k)k.hasOwnProperty(p)&&l.setAttribute(p,k[p]);d&&l.setAttribute("async","");f&&l.setAttribute("data-gx-external-script","");
c(d);m&&(u.appendChild(l),l.setAttribute("data-gx-loading-script",""))}}},storage:function(a){this._store=window.sessionStorage;this._prefix=a;this.supported=!1;this.set_string=function(b,c){this.supported&&(this._store[this._prefix+b]=c)};this.get_string=function(b){return this.supported?this._store[this._prefix+b]:null};this.set=function(b,c){this.set_string(b,gx.json.serializeJson(c))};this.get=function(b){return(b=this.get_string(b))?gx.json.evalJSON(b):null};this.remove=function(b){this.supported&&
this._store.removeItem(this._prefix+b)};if("undefined"!=typeof window.sessionStorage)try{window.sessionStorage.setItem("storage.test",!0),window.sessionStorage.removeItem("storage.test"),this.supported=!0}catch(b){gx.http.setCookie("GXLocalStorageSupport","false",1,!1)}},_setBasePath:function(){for(var a=gx.dom.scripts(),b=null,c=0,d=a.length;c<d;c++)if(0<=a[c].indexOf("gxgral.js")||0<=a[c].indexOf("gxcore.js")||0<=a[c].indexOf("gxapiSD.js")){b=a[c];break}var f="";a="";if(!gx.isRelativeToHost(b)||
gx.isabsoluteurl(b))c=location.pathname.lastIndexOf("/"),f=1<c?location.pathname.substring(1,c):"";else{b=b.split("/");var p=location.pathname.split("/");b.splice(b.length-1,1);p.splice(p.length-1,1);c=0;for(d=p.length;c<d;c++)if(p[c]==b[c])f=f+(""==f?"":"/")+p[c];else if(gx.gen.isJava()&&"servlet"==p[c])a=p[c];else break}gx.basePath=f;gx.servletBasePath=a},objectLoad:function(a,b){var c=e.Deferred();if(!gx.evt.execLoad)return c.resolve(),c.promise();var d=function(){gx.sec.loadKey();void 0===gx.runtimeTemplates&&
(gx.runtimeTemplates=0<e("div[data-abstract-form]").length);var f=!0;gx.setTheme();gx.html.applyCustomHTMLAttributes();gx.fx.obs.addObserver("webcom.render",this,function(p){if(p=p.getContainer()){gx.setTheme(p);gx.html.applyCustomHTMLAttributes(p);var r=function(){"undefined"!=typeof gx.pendingCmps&&(--gx.pendingCmps,0===gx.pendingCmps&&gx.fx.obs.notify("webcom.all_rendered"))};f||(gx.pendingCmps=gx.pendingCmps||0,gx.pendingCmps+=1,gx.plugdesign.applyTemplateObject({selector:"#"+p.id,observerKey:p.id,
deferred:!0}).then(r))}});gx.fx.obs.addObserver("grid.onafterrender",this,function(p,r){r||gx.dom.fixes.fixTableResets(p.container)});delete gx.evt.redirecting;gx.ajax._init();gx.grid._init();gx.evt.attach(window,"unload",gx.evt.onunload);gx.fn.setFocusInit();gx.dom.fixes.createLegacyNotification();gx.cache._init();gx.fn.installComponents(!0,b);gx.http.loadStyles();a&&gx.fn.loadJsonGrids(a,!1);gx.plugdesign.init().done(function(){if("undefined"!=typeof gx.StorageTimeZone&&gx.StorageTimeZone!=gx.NULL_TIMEZONEOFFSET){var p=
jstz.determine().name();!gx.lang.emptyObject(p)&&gx.http.getCookie("GxTZOffset")!=p&&gx.http.setCookie("GxTZOffset",p,365,!1,"/")&&gx.config.timezone.reload&&gx.http.reload()}gx.evt.attach(window,"load",gx.http.applyDeferredStyles);gx.fn.objectOnload();gx.goReady(function(){gx.evt.setReady(!0,"goReady")});document.gxReadyState="complete";gx.util.autoRefresh.install();gx.fn.setOpacity("reset","body");gx.fx.obs.notify("gx.onload");e(document).ready(function(r){gx.dom.indexElements()});gx.evt.userOnload();
gx.fn.setFocusOnload();gx.fx.delayedSuggest();gx.http.doCommands();f=!1;c.resolve()})};gx.popup?gx.goInteractive():gx.http.loadScript(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"gxi.js",!1),function(){gx.goInteractive()});gx.wpo(function(){d()});return c.promise()},objectUnload:function(a){gx.fx.obs.notify("gx.onunload");gx.http.saveState(!0);gx.evt.clearHooks();gx.fx.notifications.deinit();gx.fx.obs.removeAll();gx.util.autoRefresh.destroy();gx.fn.objectOnUnload(a);gx.plugdesign.deinit();
gx._deinit();e(document).off("keypress keyup");gx.evt.detach(document,"keydown",gx.evt.onkeypress_hdlr);gx.evt.userReadyCnt=0},_init_interactive:function(){gx.evt.dispatcher.initialize();gx.base64._init();gx.sec._init();gx.geolocation._init();gx.popup._init();gx.livePrevWS._init()},_init:function(){gx.wi(gx._init_interactive,gx);gx.lang.apply(this,{oldValues:[],oldKeyValues:[],newRows:[],suggestControls:{},disabledControls:[],usrPtys:[],usrFocusControl:"",currentRows:[],attachedControls:[],theme:""});
gx.dbg._init();gx.dom._init();gx.util._init();gx.evt._init();gx._setBasePath();gx.date._init();gx.html.controls._init();gx.call_stack_storage=new gx.storage("gx_call_stack")},_deinit:function(){if(gx.popup.ispopup()&&gx.evt.execLoad||gx.dom.shouldPurge()){gx.dom.purgeElement(document.body);gx.dom.purgeElement(gx.dom.form());for(var a=["onblur","onclick","onfocus","onchange"],b=gx.fn.getFormElements(),c=0,d=b.length;c<d;c++)gx.dom.purgeElement(b[c],a);b=gx.dom.byTag("span");c=0;for(d=b.length;c<d;c++)gx.dom.purgeElement(b[c],
a);b=gx.dom.byTag("img");c=0;for(d=b.length;c<d;c++)gx.dom.purgeElement(b[c],a)}gx.dom._deinit();gx.csv._deinit();gx.evt._deinit();gx.grid._deinit();gx.printing._deinit();gx.core.audio._deinit();gx.O=null;gx.pO=null},reinit:function(a){gx.pO.clean(a);gx.objectUnload(a);gx._init()}}}(jQuery);gx.$.extend(gx.dbg,gxdbg);Object.defineProperty(gx.evt,"userReady",{get:function(){return gx._isReadyUI()}});
gx.plugdesign=function(e){var q={},g=!1,h,a,b=1,c={},d={},f=function(r,k){return function(u){var x=r[u.property],m;x&&(m=x[u.control.id]);!m&&x&&(m=x[u.control.name]);m&&(x=!0===m.fn.call(m.template,u.control,u.value),k&&(u.cancel=x))}},p=function(r,k){k=k||{};!0===k.deferred&&window.requestIdleCallback?window.requestIdleCallback(r):gx.lang.requestAnimationFrame(r)};return{init:function(){gx.plugdesign.initialized=!0;gx.fx.obs.addObserver("gx.plugdesign.onafterapplytemplate",this,gx.plugdesign.fixBootstrapGridLayout.closure(this));
gx.fx.obs.addObserver("gx.control.onbeforepropertychange",this,gx.plugdesign.onBeforePropertyChange);gx.fx.obs.addObserver("gx.control.onafterpropertychange",this,gx.plugdesign.onAfterPropertyChange);return gx.plugdesign.applyTemplateObject()},deinit:function(){gx.fx.obs.deleteObserver("gx.control.onbeforepropertychange",this,gx.plugdesign.onBeforePropertyChange);gx.fx.obs.deleteObserver("gx.control.onafterpropertychange",this,gx.plugdesign.onAfterPropertyChange);gx.plugdesign.initialized=!1;delete gx.runtimeTemplates},
onBeforePropertyChange:f(c,!0),onAfterPropertyChange:f(d,!1),registerTemplate:function(r){q[r.name]=r},unRegisterTemplate:function(r){delete q[r];gx.plugdesign.definition.templates=e.grep(gx.plugdesign.definition.templates,function(k){return k!==r})},getDOMContext:function(r,k,u,x,m,l){var t;k={};l&&(k.text=e(r).text());l=0;for(t=r.attributes.length;l<t;l++){var z=r.attributes[l];k[z.name]=z.value}k.el=r;u&&(k.outerHTML=r.outerHTML);x&&(k.innerHTML=r.innerHTML);m&&(k=m.call(this,k,r)||k);return k},
assingUserAPI:function(r,k){k.fnc_isRO=r.fnc_isRO},getElements:function(r,k,u,x){r="function"==typeof r.selector?r.selector(k?k:""):k&&!r.global?e(k).find(r.selector):e(r.selector);return u?r.not(u):r},shouldApplyOnElement:function(r,k){return"function"==typeof k.selector?this.getElements(k).is(r):e(r).is(k.selector)},applyTemplateOnElement:function(r,k,u){u=u||{};var x=e.Deferred();p(function(){if("string"==typeof r&&(r=q[r],!r))return;if(!0!==u.checkInclusion||this.shouldApplyOnElement(k,r)){var m=
gx.plugdesign.getDOMContext(k,m,r.outerHTML,r.innerHTML,r.setContext);r.apply(k,m);r.initialize&&r.initialize(m);if(r.listeners){var l=r.listeners,t;m="function"==typeof l.control?l.control(m):l.control;if(l.before)for(t in l.before)l.before.hasOwnProperty(t)&&(c[t]||(c[t]={}),c[t][m]={id:m,fn:l.before[t],template:r});if(l.after)for(t in l.after)l.after.hasOwnProperty(t)&&(d[t]||(d[t]={}),d[t][m]={id:m,fn:l.after[t],template:r})}x.resolve()}}.closure(this),u);return x},applyTemplateSelection:function(r,
k,u,x){x=x||{};var m=e.Deferred(),l=[],t="data-gx-tpl-applied-"+r.name,z=this.getElements(r,k,u,x);!0===r.onDemandInvoke||r.reDraw||(z=z.not("["+t+"]"));z.each(function(G,F){if(F)if("function"==typeof r.reDraw&&null!==F.getAttribute(t)){var C=gx.plugdesign.getDOMContext(F,C,!1,!1,r.setContext);r.reDraw(C)}else l.push(gx.plugdesign.applyTemplateOnElement(r,F,x))});e.when.apply(e,l).done(function(){r.outerHTML&&(z=this.getElements(r,k,u,x));z.attr(t,"");m.resolve()}.closure(this));return m},applyClassMapOnElement:function(r,
k){var u,x;r.initialize&&(u=gx.plugdesign.getDOMContext(k,u,!1,!1,r.setContext));if(Array.isArray(r.cssClass)){var m=0;for(x=r.cssClass.length;m<x;m++)gx.dom.addClass(k,r.cssClass[m])}else gx.dom.addClass(k,r.cssClass);r.initialize&&r.initialize(u)},applyClassSelection:function(r,k,u,x){var m=function(l){"Class"==l.property&&gx.dom.matchesSelector(l.control,r.selector)&&gx.plugdesign.applyClassMapOnElement(r,l.control)};this.getElements(r,k,u,x).each(function(l,t){t&&(gx.plugdesign.applyClassMapOnElement(r,
t),gx.plugdesign.assingUserAPI(r,t),gx.fx.obs.addObserver("gx.control.onafterpropertychange",this,m,{unique:!1,observerKey:x.observerKey}))})},controlValueChanged:function(r,k){r&&gx.fx.obs.notify("gx.control.onafterpropertychange",[{control:r,property:"Value",value:k}])},applyControlValue:function(r,k){gx.fn.setControlValue(r.id,k);gx.html.onchange(r,k)},applyTemplates:function(r,k,u,x,m){m=m||{};var l=e.Deferred();if(0===r.length)return l.resolve();r=e.map(r,function(t){var z=e.Deferred();"string"==
typeof t?t=q[t]:(t.name=t.name||"auto-generated-"+b++,t=new gx.plugdesign.Template(t));if(!x||"function"==typeof x&&x(t)){var G=function(){gx.plugdesign.applyTemplateSelection(t,k,u,m).done(function(){z.resolve()})};!0===m.deferred?p(G):(G(),z.resolve())}else z.resolve();return z});!0===m.deferred?e.when.apply(e,r).done(function(){l.resolve()}):l.resolve();return l},applyClassMaps:function(r,k,u,x,m){var l=e.Deferred(),t=function(G,F){gx.plugdesign.applyClassSelection(F,k,u,m)},z=function(){r=e.grep(r,
x||gx.trueFn);e.each(r,t);l.resolve()};!0===m.deferred?p(z):z();return l},applyTemplateObject:function(r){r=r||{};var k=r.selector,u=r.excluded,x=r.templateSelector,m=r.classMapSelector,l=e.Deferred(),t=e.Deferred();x=x||function(B){return!0!==B.onDemandInvoke};if(!gx.runtimeTemplates||!gx.plugdesign.initialized)return l.resolve().promise();if(g){var z=this.applyTemplates(h,k,u,x,r);var G=this.applyClassMaps(a,k,u,m,r);l.resolve()}else{var F=gx.plugdesign.definition;F.css&&e.each(F.css,function(B,
H){gx.http.loadStyle(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+H+"?"+gx.gxBuild,!1),!1,!0)});var C=[];F.js&&e.each(F.js,function(B,H){C.push(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+H+"?"+gx.gxBuild,!1))});var w=jQuery;jQuery=gx.$;gx.http.loadScripts(C,function(){g=!0;h=F.templates||[];a=F.class_maps||[];z=this.applyTemplates(h,k,u,x,r);G=this.applyClassMaps(a,k,u,void 0,r);jQuery=w;l.resolve()}.closure(this))}e.when.apply(e,[l,z,G]).done(function(){gx.fx.obs.notify("gx.plugdesign.onafterapplytemplate",
[r]);t.resolve()});return t.promise()},fixBootstrapGridLayout:function(){0===e(".container-fluid, .container").length&&e(".row").first().parent().toggleClass("container-fluid",!0)},Template:function(){var r=function(k){var u,x=[];k=k||{};if(k.name){if(k.selector){if(k.listeners){var m=k.listeners;if(!m.control&&(m.before||m.after)){gx.dbg.write("If a visible or enabled handler is specified, a control must be specified too",!0);return}}this.preProcessTemplate=function(){var l=this.template,t=/\{\{\$(\w+)\$\}\}/g,
z,G=0;for(x=[];null!==(z=t.exec(l));)x[G]=z[1],l=l.replace(z[0],'<span id="hook_'+G+'"></span>'),G++;return l};this.postProcessTemplate=function(l){var t;if(x){var z=0;for(t=x.length;z<t;z++){var G=l[x[z]];var F=e("#hook_"+z);G&&F.after(G);F.remove()}}};this.apply=function(l,t){var z=gx.util.browser.isIE(),G=!1;!u&&this.template&&(u=this.preProcessTemplate(),Mustache.parse(u));if(u){var F=Mustache.render(u,t);if("inner"==this.applyTo){if(z)for(;l.firstChild;)l.removeChild(l.firstChild);l.innerHTML=
F}else G=l===document.activeElement,l.parentNode&&!z?l.outerHTML=F:e(l).replaceWith(F);this.postProcessTemplate(t);G&&gx.fn.setFocus(l)}};gx.lang.apply(this,k);return this}gx.dbg.write("A selector must be specified",!0)}else gx.dbg.write("A name must be specified",!0)};r.prototype={name:"",selector:"",template:"",applyTo:"outer",outerHTML:!1,innerHTML:!1,global:!1,onDemandInvoke:!1,setContext:gx.emptyFn,initialize:gx.emptyFn,listeners:{}};return r}()}}(gx.$);
gx.plugdesign.definition={css:[],js:[],templates:"labels atts-vars readonly-atts-vars checkbox radio-button prompt prompt-trigger datepicker geolocation multimedia-upload navbar navbar-textblock-link navbar-textblock-text textarea-auto-expand image usercontrol errorviewer password-atts-vars".split(" "),class_maps:[{selector:".control-group",cssClass:"form-group"},{selector:'.gx-attribute > input:not(.GeoLocOption):not([type="image"]):not([type="checkbox"]), .gx-attribute > select, .gx-attribute > textarea',
cssClass:"form-control"},{selector:".gx-attribute > .input-group > input, .gx-attribute > .input-group > select, .gx-attribute > .input-group > textarea, .gx-attribute > .dp_container input",cssClass:"form-control"},{selector:"form",cssClass:"form-horizontal"},{selector:"div.gx-standard-grid > table",cssClass:"table-responsive",global:!0,first:!0},{selector:'.gx-button input, input[type="button"][data-gx-button], .gx-grid-paging-bar button',cssClass:["btn","btn-default"],first:!0},{selector:'.gx-navbar .gx-button input, .gx-navbar input[type="button"]',
cssClass:"navbar-btn"},{selector:".BtnEnter",cssClass:"btn-primary",first:!0},{selector:".BtnDelete",cssClass:"btn-danger",first:!0},{selector:".Container",cssClass:"container",first:!0},{selector:"#MAINTABLE_MPAGE.PromptMainTable:not(.ContainerFluid)",cssClass:"ContainerFluid"},{selector:".ContainerFluid",cssClass:"container-fluid",first:!0},{selector:".ReadonlyResponsiveImageAttribute, .ResponsiveImage",cssClass:"img-responsive",first:!0},{selector:".BtnTextBlock > a",cssClass:["btn","btn-default"],
first:!0}]};
gx.html=function(e){var q=/<style[^>]*>([\s\S]*?)<\/style>/i,g=/<style[^>]*>([\s\S]*?)<\/style>/ig,h=/<style[^>]*data-gx-href="(.*)"\s*>\s*@import\s*url\("(.*)"\)\s*layer\((.*)\).*/i,a=/<link ([^>]*rel=['"]?stylesheet['"]?[^>]*)>/i,b=/<link ([^>]*rel=['"]?shortcut icon['"]?[^>]*)>/i,c=/<link ([^>]*rel=['"]?stylesheet['"]?[^>]*)>/ig,d=/<script[^>]*>[\s\S]*?(<script[^>]*>[\s\S]*?<.?\/script>)/i,f=/(<script[^>]*>\s*)\r?\n?\x3c!--\s*\r?\n?(.*)\r?\n?\s*\/\/--\x3e\s*\r?\n?(<.?\/script>)/ig,p=/<script([^>]*)>([\s\S]*?)<\/script>/i,
r=/data-gx-external-script/;HREF_ELEMENT_ATT_REGEX=/href=(['"]?)([^'">]*)\1/i;ID_ELEMENT_ATT_REGEX=/id=(['"]?)([^'">]*)\1/i;SRC_ELEMENT_ATT_REGEX_1=/src=(['"]?)([\s\S]*)\?([^"']*)\1/i;SRC_ELEMENT_ATT_REGEX_2=/src=(['"]?)([^"']*)\1/i;INPUT_GXSTATE_REGEX=/<div><input type="hidden" name="GXState" value="{.*}"><\/div>/g;INPUT_HIDDEN_REGEX=/(<input type="hidden" name="[a-zA-Z0-9]+" value="[^"]+">)/igm;STYLE_ELEMENT_HREF="data-gx-href";IMAGE_CLASS_APPLIED_ATT="data-gx-image-class";IMAGE_URI_ATT="data-gx-image-uri";
return{encodeCaseFormat:function(k,u,x){u==gx.html.controls.formats.TEXT?k=gx.html.encode(k,!1,x):u==gx.html.controls.formats.TEXT_W_SPACES&&(k=gx.html.encode(k,!0,x));return k},setGXImageCSSClass:function(k,u){var x=k.jquery?k:e(k);k=e(k)[0];(prevImageClass=x.attr(IMAGE_CLASS_APPLIED_ATT))&&x.removeClass(prevImageClass);[].concat($jscomp.arrayFromIterable(k.classList)).forEach(function(m){m.startsWith("GX_Image_")&&k.classList.remove(m)});x.addClass(u);x.attr(IMAGE_CLASS_APPLIED_ATT,u)},applyCustomHTMLAttributes:function(k){k=
k?e(k):e(document);k.find("input[data-msk-att], textarea[data-msk-att]").each(function(u,x){u=e(x);x=u.attr("data-msk-att");u.attr(x,u.attr("data-"+x))});k.find("img["+IMAGE_URI_ATT+"]").each(function(u,x){u=e(x);x=u.attr(IMAGE_URI_ATT);(x=gx.util.imageName(x))&&gx.html.setGXImageCSSClass(u,"GX_Image_"+x+"_Class")})},encode:function(k,u,x){var m=["<",">","&"],l=["&lt;","&gt;","&amp;"];u&&(m.push(" "),l.push("&nbsp;"));x&&(m.push("\n"),l.push("<br/>"),m.push("\r"),l.push(""));return gx.text.charReplace(k,
m,l)},getHidden:function(k,u){return'<input type="hidden" id="'+k+'" name="'+k+'" value="'+u+'">'},viewportWidth:function(){var k=document.documentElement;return k&&k.clientHeight?Math.max(k.clientWidth,document.body.clientWidth):document.body.clientWidth},viewportHeight:function(){var k=document.documentElement;return k&&k.clientHeight?Math.max(k.clientHeight,document.body.clientHeight)-5:document.body.clientHeight-5},cleanHtmlRefs:function(k,u){(void 0===u||u)&&(k=k.replace(g,""));k=k.replace(c,
"");for(u=[];u;)if(u=k.match(p)){var x=this.nestedScripts(u,k);0<x&&(u=new RegExp("<script([^>]*)>(([\\s\\S]*?<script[^>]*>[\\s\\S]*?<.?/script>[\\s\\S]*?){X})<.?/script>".replace("{X}","{"+x+"}"),"i"),u=k.match(u));(x=u.lastIndex)||(x=u.index+u[0].length);k=k.substring(0,u.index)+k.substring(x)}else break;return k},setOuterHtml:function(k,u){k.outerHTML=u},setInnerHtml:function(k,u,x,m,l){var t=gx.dom.styles(),z=gx.GxObject.WEBCOMPONENT_BODY_CLASS_NAME;gx.dom.shouldPurge()&&gx.dom.purge(k,!0);var G=
e(k).children("."+z).get(0);!G&&m&&(G=document.createElement("div"),gx.dom.addClass(G,z),gx.dom.addClass(G,"Form-fx"),k.appendChild(G));m&&gx.pO.fullAjax&&G&&gx.dom.hasClass(G,z)&&!gx.dom.hasClass(k,"transitioning")?(k=document.createElement("div"),k.innerHTML=this.cleanHtmlRefs(u,l),gx.dom.replaceWithFx(G,k.children[0])):e(k).html(this.cleanHtmlRefs(u,l));gx.util.browser.isIE()&&gx.cache.updateStyles(t,gx.dom.styles());1==x&&this.processCode(u,!1)},setInnerText:function(k,u,x,m){var l=e(k);null!=
k.nodeValue?k.nodeValue=u:gx.util.browser.isChrome()||null==k.innerText?gx.util.browser.isFirefox()||gx.util.browser.isChrome()?l.html(gx.html.encodeCaseFormat(u,x,m)):"TEXT"==k.tagName&&null!=k.innerHTML?l.html(u):l.html("<text>"+u+"</text>"):k.innerText=u},nodesFromText:function(k){var u=document.createElement("div");u.style.visibility="hidden";u.style.display="none";document.body.appendChild(u);gx.dom.shouldPurge()&&gx.dom.purge(u,!0);u.innerHTML=k;k=[];for(var x=u.childNodes.length,m=0;m<x;m++)k.push(u.childNodes[m].cloneNode(!0));
gx.dom.removeControlSafe(u);return k},onTypeAvailable:function(k,u,x,m){try{var l=gx.gen.resolveObjClass(k);try{var t=window.eval(l)}catch(z){}(t=t||eval(l))?x instanceof Array?u.apply(this,x):u():10>m&&setTimeout(function(){gx.html.onTypeAvailable(k,u,x,m+1)},0)}catch(z){10>m&&setTimeout(function(){gx.html.onTypeAvailable(k,u,x,m+1)},150)}},processCSS:function(k){if(""!=k){var u=document.createElement("style");u.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(u);
u.styleSheet?u.styleSheet.cssText=k:(k=document.createTextNode(k),u.appendChild(k))}},nestedScripts:function(k,u){k=k[0].match(d);for(var x=0;k;)u=u.replace(k[1],""),x++,k=(k=u.match(p))?k[0].match(d):null;return x},processCode:function(k,u,x,m,l,t,z){var G=k,F=[],C=!1,w=[],B=[],H=[],E="",J=[];E=[];if(""!=k){if(void 0===t||t)for(;E;){if(E=k.match(q))(t=E.lastIndex)||(t=E.index+E[0].length),k=k.substring(t);else break;H.push(E[1])}k=G;for(E=[];E;){if(E=k.match(h))(t=E.lastIndex)||(t=E.index+E[0].length),
k=k.substring(t);else break;t=E[3];var L=E[2];var N=E[1];t&&!gx.cache.fileLoaded(L)&&(gx.http.loadStyle(L,gx.emptyFn,!0,N,t),gx.cache.addRemoteFile(L))}k=G;for(E=[];E;){if(E=k.match(a))(t=E.lastIndex)||(t=E.index+E[0].length),k=k.substring(t);else break;t=E[1].match(HREF_ELEMENT_ATT_REGEX);N=E[1].match(ID_ELEMENT_ATT_REGEX);t&&!gx.cache.fileLoaded(t[2])&&(B.push({href:t[2],id:N&&2<N.length?N[2]:null}),gx.cache.addRemoteFile(t[2]))}k=G;for(E=[];E;){if(E=k.match(b))(t=E.lastIndex)||(t=E.index+E[0].length),
k=k.substring(t);else break;e("head link[rel='shortcut icon'").remove();e(document.head).append(E[0])}k=G.replace(INPUT_GXSTATE_REGEX,"");k=G;gx.util.browser.isIE()&&(k=k.replace(f,"$1$2$3"));for(E=[];E;){if(E=k.match(p))G=this.nestedScripts(E,k),0<G&&(E=new RegExp("<script([^>]*)>(([\\s\\S]*?<script[^>]*>[\\s\\S]*?<.?/script>[\\s\\S]*?){X})<.?/script>".replace("{X}","{"+G+"}"),"i"),E=k.match(E)),(t=E.lastIndex)||(t=E.index+E[0].length),k=k.substring(t);else break;void 0!=E[1]&&""!=E[1]?(t=E[1].match(SRC_ELEMENT_ATT_REGEX_1),
G=!!E[1].match(r),null==t&&(t=E[1].match(SRC_ELEMENT_ATT_REGEX_2)),t&&!gx.cache.fileLoaded(t[2])?(L=t[2],gx.lang.emptyObject(t[3])||(L+="?"+t[3]),F.push({url:L,isExternal:G,callback:G?void 0:function(T,U){return function(){gx.cache.addRemoteFile(T)}}(t[2],G)})):t&&gx.cache.fileLoaded(t[2])?C=!0:!t&&E[2]&&w.push(E[2])):E[2]&&w.push(E[2])}if(1!=u){E=w.join(";");""!=E&&gx.lang.doEval(E);if("function"==typeof x)gx.http.loadScripts(F,function(T,U){U instanceof Array?T.apply(this,U):T()}.closure(this,[x,
m]),void 0,z);else{u={method:"GET",useCash:!0};u.load=function(T,U){gx.lang.supEval(this,J.push(U))}.closure(this);u.mimetype="text/plain";u.sync=!0;var Q=F.length;for(k=0;k<Q;k++)u.url=F[k].url,gx.http.doCall(u)}E=J.join("");""!=E&&gx.lang.doEval(E);F=document.getElementsByTagName("style");scrQty=B.length;for(k=0;k<scrQty;k++){u=!1;z=F.length;for(w=0;w<z;w++)F[k]&&B[k].href==(F[w].styleSheet&&F[w].styleSheet.cssText?F[w].styleSheet.cssText:F[w].innerHTML)&&(u=!0);u||((u=gx.dom.byId(B[k].id))?u.href=
B[k].href:gx.http.loadStyle(B[k].href,gx.emptyFn,!1,B[k].id))}E=H.join("");gx.html.processCSS(E);if(0==Q&&"function"==typeof x)if(C&&l)gx.html.onTypeAvailable(l,x,m,0);else m instanceof Array?x.apply(this,m):x()}}},getFieldLabel:function(k,u){var x=k.id,m=k.previousSibling;if(m&&"LABEL"===m.tagName&&m.htmlFor===x)labelEl=m;else{if("INPUT"==k.tagName||"SELECT"==k.tagName||"TEXTAREA"==k.tagName)var l=k.id;else"SPAN"==k.tagName?(l=e(k).attr("data-gx-enabled-id"))||0!==x.indexOf("span_")||(l=x.substring(5)):
gx.dom.hasClass(k,gx.uc.gxCssClass)&&(l=gx.uc.CtrlId(k.id));gx.dom.hasClass(k,gx.html.multimediaUpload.gxCssClass)&&(l=gx.html.multimediaUpload.CtrlId(k.id));if(l)return e("label[for='"+l+"']",u).get(0)}},multimediaUpload:{gxPreviewHTMLAtt:"data-gx-preview-image",gxCssClass:"gx-multimedia-upload",setPreviewAtt:function(k,u){(k="Object"===typeof k?k:gx.dom.el(k))&&k.setAttribute(gx.html.multimediaUpload.gxPreviewHTMLAtt,u)},getPreviewAtt:function(k){return(k="Object"===typeof k?k:gx.dom.el(k))?k.getAttribute(gx.html.multimediaUpload.gxPreviewHTMLAtt):
""},getInputFileEl:function(k){return e("#"+k+"[type='file']")[0]},CtrlId:function(k){return k.replace(/_ct$/,"")},resolveFileName:function(k,u){return k||u||""},onOptionChange:function(k){k=this.getElements(k);var u=k.fileField,x=k.uriField;k.uriOption.checked?(gx.dom.removeClass(u,"field-selected"),gx.dom.addClass(x,"field-selected")):(gx.dom.removeClass(x,"field-selected"),gx.dom.addClass(u,"field-selected"))},imageLoadHandler:function(k,u){var x=function(l){var t="IMG"==l.tagName?"src":"href";
return!l[t]||l[t]==document.location.href||"/"==l[t].charAt(l[t].length-1)};gx.dom.removeClass(u,"gx-multimedia-unknown");gx.dom.removeClass(u,"gx-multimedia-download");!k||x(k)?gx.dom.addClass(u,"gx-multimedia-empty"):gx.dom.removeClass(u,"gx-multimedia-empty");x(k)&&u&&!x(u)&&(gx.dom.removeClass(u,"gx-multimedia-empty"),("IMG"!==k.tagName||x(k))&&gx.dom.addClass(u,"gx-multimedia-download"));if(gx.util.browser.isIE()&&k&&"IMG"==k.tagName){u=e(k);x=parseInt(u.css("maxWidth"));var m=parseInt(u.css("maxHeight"));
x<k.width&&(u.css("height",gx.dom.addUnits(x*k.height/k.width)),u.css("width",gx.dom.addUnits(x)));m<k.height&&(u.css("width",gx.dom.addUnits(m*k.width/k.height)),u.css("height",gx.dom.addUnits(m)))}},dialogCloseHandler:function(k,u,x){x=this.getElements(k);u.style.display="none";k.appendChild(u);x.uriOption.checked?this.refreshPreviewImg(k,x.uriField):this.refreshPreviewImg(k,x.fileField);x.action.focus();gx.fx.obs.deleteObserver("gx.keypress",this,this.keypressHandler)},prevImgClickHandler:function(k,
u){k=k||event;var x=gx.evt.source(k);0<e(x).closest(".gx-multimedia-empty").length&&this.actionClickHandler(k,u)},actionClickHandler:function(k,u){var x=gx.html.multimediaUpload.isModal;k=k||event;k.preventDefault?k.preventDefault():k.returnValue=!1;k=this.getElements(u);var m=k.button[1];k.fieldsCt.style.display="block";var l=130,t=500,z=!0;gx.util.browser.isIE()&&gx.util.browser.isCompatMode()&&(u.style.position="static",k.fileField.style.marginTop="0",k.uriField.style.marginTop="0",l=230);gx.runtimeTemplates&&
(z=!1,e(window).width()<t&&(t=e(window).width()-20,l=170));u=gx.popup.openDialog({parentElement:u,w:t,h:l,contentHtml:k.fieldsCt,title:"",showParentPopups:!1,showCloseButton:!0,resizable:z,isModal:void 0===x||x,callbacks:{beforeClose:this.dialogCloseHandler.closure(this,[u,k.fieldsCt,m])}});k.fileOption.focus();gx.evt.attach(m,"click",u.close,u,{single:!0});gx.fx.obs.addObserver("gx.keypress",this,this.keypressHandler)},clearActionHandler:function(k,u){k=k||event;k.preventDefault?k.preventDefault():
k.returnValue=!1;k=this.getElements(u);k.uriField.value="";k.fileField.value="";k.uriOption.checked=!1;k.fileOption.checked=!0;gx.fx.obs.notify("gx.multimedia.clear",[u]);this.clearPreviewImg(u);this.imageLoadHandler(k.previewImg,k.previewLink)},keypressHandler:function(k){13==k.event.keyCode&&(k.cancel=!0,gx.popup.currentPopup.close())},tapHandler:function(k){this.getElements(k).action.focus()},getElements:function(k){k=gx.dom.byId(k);var u=e(k);k=u.find(".change-action")[0];var x=u.find(".clear-action")[0],
m=null,l=e(x).next()[0];u=u.find(".fields-ct");l&&("A"==l.tagName?(m=l,l=l.firstChild):"IMG"!=l.tagName&&(l=null));return{previewLink:m,action:k,clearAction:x,previewImg:l,fieldsCt:u[0],uriField:u.find("input[type='text']")[0],fileField:u.find("input[type='file']")[0],uriOption:u.find("input[type='radio'][value='uri']")[0],fileOption:u.find("input[type='radio'][value='file']")[0],button:u.find("input[type='button']")}},getContainer:function(k){for(k=gx.dom.byId(k);k;){if(gx.dom.hasClass(k,gx.html.multimediaUpload.gxCssClass))return k;
k=k.parentNode}return null},setPreviewImage:function(k,u){k=gx.dom.byId(k);var x=this.getElements(k);0>gx.util.Url.parseWithAnchor(u).protocol.search(/^https?:/)&&x.uriOption.checked||(this.clearPreviewImg(k),x.previewImg&&gx.text.startsWith(gx.util.getContentTypeFromExt(u),"image")&&("IMG"==x.previewImg.tagName&&(x.previewImg.src=u),this.imageLoadHandler(x.previewImg,x.previewLink)))},setPreviewLink:function(k,u){k=gx.dom.byId(k);k=this.getElements(k);k.previewLink&&u&&k.previewLink&&(k.previewLink.href=
u);this.imageLoadHandler(k.previewImg,k.previewLink)},clearPreviewImg:function(k){k=gx.dom.byId(k);(k=this.getElements(k))&&k.previewImg&&k.previewLink&&(k.previewImg.src="",k.previewLink.href="")},refreshPreviewImg:function(k,u){k=gx.dom.byId(k);var x=this.getElements(k);if(x.previewImg&&"INPUT"==u.tagName){this.setPreviewAtt(k,"");if(u==x.fileField){var m;if(u.files&&(m=u.files[0]))if(m.type.match(/image.*/)){var l=new FileReader;l.onload=function(t,z,G){z.src=t.target.result;G.href=t.target.result;
this.setPreviewAtt(k,t.target.result)}.closure(this,[x.previewImg,x.previewLink],!0);l.readAsDataURL(m)}else{x.previewLink.href="#";x.previewLink.className="gx-multimedia-download";this.clearPreviewImg(k);return}u.gxctrldeleted&&this.clearPreviewImg(k)}else u==x.uriField&&(x.previewImg.src=u.value,x.previewLink.href=u.value);this.imageLoadHandler(x.previewImg,x.previewLink)}},setType:function(k,u){k=gx.dom.byId(k);var x=this.getElements(k);x.fileOption.checked=u;x.uriOption.checked=!u;u&&(x.uriField.value=
"");this.onOptionChange(k)},getOptionValue:function(k){k=gx.dom.byId(k);return this.getElements(k).fileOption.checked?"file":"uri"},createControl:function(k){k=gx.dom.byId(k);if(!k._created){k._created=!0;var u=this.getElements(k);gx.dom.addClass(u.fileField,"field-selected");u.action.setAttribute("gxfocusable","1");var x=document.createElement("input");x.type="button";x.className="BtnCancel";x.value=gx.getMessage("GXM_cancel");x.onclick=function(){gx.fn.closeWindow([])};u.fieldsCt.appendChild(x);
x=document.createElement("input");x.type="button";x.className="BtnEnter";x.value=gx.getMessage("GXM_uploadconfirmoption");u.fieldsCt.appendChild(x);x=this.imageLoadHandler.closure(this,[u.previewImg,u.previewLink]);var m=this.onOptionChange.closure(this,[k]);x();u.previewImg&&gx.evt.attach(u.previewImg,"load",x);m();gx.evt.attach(u.uriOption,"click",m);gx.evt.attach(u.fileOption,"click",m);gx.evt.attach(u.action,"click",this.actionClickHandler.closure(this,[k],!0));gx.evt.attach(u.previewImg.parentNode,
"click",this.prevImgClickHandler.closure(this,[k],!0));gx.evt.attach(u.clearAction,"click",this.clearActionHandler.closure(this,[k],!0));gx.evt.attach(k,"touchstart",this.tapHandler.closure(this,[k]))}}},controls:function(){var k={},u={label:'<label class="gx-label {{className}} control-label" {{{additionalAtts}}} for="{{relatedElement}}">{{caption}}</label>',radio:['<span class="{{className}}" style="{{style}}">',"{{#values}}",'<label for="{{itemId}}"><input type="radio" id="{{itemId}}" name="{{id}}" value="{{itemValue}}" title="{{title}}"data-gxoch0="{{data-gxoch0}}"{{#isSelected}} checked{{/isSelected}}{{#isDisabled}} disabled{{/isDisabled}}{{{extraAttributes}}}>{{itemDesc}}</label>',
"{{/values}}","</span>"]},x=function(l,t){var z=gx.lang.isArray(u[l])?u[l].join(""):u[l];k[l]||(k[l]=!0,Mustache.parse(z));return Mustache.render(z,t)},m=/"/g;return{applyTemplate:x,types:{singleLineEdit:1,multipleLineEdit:2,blob:3,radio:4,comboBox:5,listBox:6,checkBox:7,image:8,textBlock:9,button:10,grid:11,userControl:12,userControlContainer:13,webComponent:14,embeddedPage:15,table:16,row:17,cell:18,group:19,multimedia:20,video:21,audio:22,div:23,responsiveRow:24,responsiveCell:25,label:26,divEnd:27,
formGroup:28,formGroupEnd:29},formats:{TEXT:0,HTML:1,RAW_HTML:2,TEXT_W_SPACES:3},isMultiSelection:function(l){return"combo"==l||"dyncombo"==l||"listbx"==l||"dynlistbx"==l?!0:!1},eventJSCode:function(l,t,z,G,F){var C="";if(4==l&&z)C=z;else if(1==l)C="gx.fn.closeWindow();";else if(7==l)l="",G&&F&&(l=",'"+G.gridName+"','"+F.gxId+"'"),C="gx.evt.execCliEvt( "+t+l+",this);";else if(6==l||5==l)C="gx.evt.execEvt("+t+",this,"+G.gridId+");";return C},onJsEventAttributes:function(l,t,z){var G=gx.GxObject,F=
" "+G.GX_EVENT_DATA_ATTR+'="'+l+'"';scriptAttribute="";4===l&&(scriptAttribute=" "+G.GX_EVENT_CODE_DATA_ATTR+'="'+l+'"');z?F=t?F+(" "+G.GX_EVENT_CONDITION_DATA_ATTR+'="'+z+'"'+scriptAttribute):F+scriptAttribute:t&&(F+=scriptAttribute);return F+" "},startAnchor:function(l,t,z,G,F,C,w){w=w?' class="'+w+'"':"";t=this.onJsEventAttributes(t,z,G);G?l.append('<a href="#"'+t+w+">"):z?l.append('<a href="#"'+t+w+">"):F&&(z=F.replace(/(\\")/ig,"\\u0022"),l.append('<a href="'+z+'"'),""!=C&&l.append(' target="'+
C+'"'),l.append(w+">"))},endAnchor:function(l,t,z,G){(t||z||G)&&l.append("</a>")},onJSEvent_impl:function(l,t,z){var G=[];""!=z&&G.push('jsevent="'+z+'" ');G.push(l+'="if( ');""!=t?G.push("gx.evt.jsEvent(this)) {"+t+'} else return false;"'):G.push('!gx.evt.jsEvent(this)) return false;"');return G.join("")},onJSEvent:function(l,t,z,G){l.append(" ");l.append(this.onJSEvent_impl(t,z,G))},htmlControl:function(l,t,z,G,F){this.id=l||"";this.width=t||0;this.widthUnit="px";this.height=z||0;this.heightUnit=
"px";this.cssClass=G||"";this.style=this.ownCssClass=this.roClass="";this.title=F||"";this.value="";this.type=-1;this.dataType="";this.enabled=this.visible=!0;this.rtEnabled=!1;this.jsEvent=this.linkTarget=this.link="";this.hasJsLink=!1;this.extraAttributes="";this.column=this.row=this.grid=null;this.gridRow=this.gridId="";this.buffer=new gx.text.stringBuffer;this.getHtml=function(){this.buffer.clear();this._getHtml();return this.buffer.toString()};this.append=function(C){return this.buffer.append(C)};
this.tagAtt=function(C,w){w=w.toString();w=0<=w.indexOf('"')?w.replace(m,"&quot;"):w;return this.buffer.append(" "+C+(w?'="'+w+'"':""))};this.persistValue=function(){var C=this.getVStruct();!gx.lang.emptyNum(this.column.gxId)&&C&&(this._persistValue?this._persistValue():C.v2v&&C.v2v(this.value))};this.setIndividualProp=function(C,w){this[C]="enabled"==C||"visible"==C||"isPassword"==C||"autoComplete"==C||"hasJsLink"==C?gx.lang.gxBoolean(w):w};this.setGridData=function(C){this.grid=C.grid;this.row=
C.row;this.gridId=C.gridId;this.gridRow=C.gridRow};this.getGridData=function(){return{grid:this.grid,row:this.row,gridId:this.gridId,gridRow:this.gridRow}};this.getVStruct=function(){return this.grid.parentObject.GXValidFnc[this.column.gxId]};this.getEventContext=function(){var C=this.grid.parentObject;return gx.json.serializeJson([C.CmpContext,C.IsMasterPage])}},singleLineEdit:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.singleLineEdit;this.maxLength="";this.isPassword=
!1;this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa,ma,na,ka,Z,Y,la,n,v,A,y,D,I,K,M,P,S,O,X,R,aa){this.id=C;this.inputType=na;this.step=ka;this.title=L;this.placeholder=N;this.width=Z;this.widthUnit=Y;this.height=17==la?0:la;this.heightUnit=n;this.maxLength=v;this.visible=0!=ha;this.enabled=0!=fa;this.rtEnabled=0!=ma;this.isPassword=0!=A;this.format=y;this.link=E;this.linkTarget=J;this.style=da;this.cssClass=U;this.roClass=V;this.columnClass=ba;this.columnHeaderClass=ca;this.vStruct=
gx.O.getValidStructFld(this.column.htmlName);X&&(this.rtEnabled||this.enabled)&&(w=aa);this.formattedValue=""===aa?"":gx.lang.emptyObject(w)?gx.applyPicture(this.vStruct,gx.html.encodeCaseFormat(aa||"",y)):gx.html.encodeCaseFormat(w,y);this.extraAttributes=B;this.jsScrCode=T;this.usrOnclick=Q;this.eventName=H;this.parentId=D;this.hasTheme=I;this.autoComplete=0!=K;this.autoCorrection=0!=M;this.value=aa||"";this.domainName=S;this.rtPicture=R};this._getHtml=function(){var C="",w=this.getVStruct();0==
this.width&&(this.width=this.colSize?this.colSize:this.maxLength,this.widthUnit="chr");0<this.width&&("chr"==this.widthUnit?C=' size="'+this.width+'"':this.style=this.style+";width: "+this.width+this.widthUnit+";");0<this.height&&"row"!=this.heightUnit&&(this.style=this.style+";height: "+this.height+this.heightUnit+";");var B=this.style;this.style+=this.visible?"":";display:none;";if(this.rtEnabled||this.enabled){if(this.dataType==gx.types.date||this.dataType==gx.types.dateTime)this.append("<div"),
this.tagAtt("id",this.id+"_dp_container"),""!=this.column.align&&this.tagAtt("data-align",this.column.align),this.tagAtt("class","dp_container"),""!=this.style&&this.tagAtt("style","white-space:nowrap;display:inline;width:auto;"),this.append(">");this.row.ownerGrid.isFreestyle||void 0!==this.column.titleformat&&this.column.titleformat!=gx.html.controls.formats.TEXT||this.append('<label for="'+this.id+'" style="display:none">'+this.column.title+"</label>");this.append("<input");if(1==this.isPassword)this.tagAtt("type",
"password");else{this.tagAtt("type",this.inputType);if(this.step&&("number"==this.inputType||"range"==this.inputType)){this.tagAtt("step",this.step);var H=Math.pow(10,this.maxLength)-1;this.tagAtt("min",-1*H);this.tagAtt("max",H);"search"==this.inputType&&(this.extraAttributes+=' onsearch="this.onchange();"')}this.dataType==gx.types.geolocation&&(this.extraAttributes+=" data-gx-geolocation")}this.tagAtt("id",this.id);this.tagAtt("name",this.id);this.tagAtt("value",this.dataType==gx.types.numeric?
gx.text.ltrim(this.formattedValue):this.formattedValue);this.append(C);""!=this.title&&this.tagAtt("title",this.title);""!=this.placeholder&&this.tagAtt("placeholder",this.placeholder);this.autoComplete||this.tagAtt("autocomplete","off");this.tagAtt("spellcheck",this.autoCorrection.toString());"date"!=this.inputType&&"datetime"!=this.inputType&&"datetime-local"!=this.inputType&&this.tagAtt("maxlength",this.maxLength);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.rtPicture&&this.tagAtt("data-gx-rt-picture",
this.rtPicture);C=this.style;""!=this.column.align&&(C+=";text-align:"+this.column.align);H=!this.enabled&&this.rtEnabled?";display:none;":"";C+=H;""!=C&&this.tagAtt("style",C);this.append(this.extraAttributes);gx.fn.controlFiresEvent(w)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,w.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()));this.append(">");this.dataType==gx.types.date||this.dataType==gx.types.dateTime?(C=this.grid.parentObject.getValidStructFld(this.id),
void 0!=C.dp&&(0==C.dp.f&&(this.append("<img"),this.tagAtt("src",gx.ajax.getImageUrl(gx,"datepickerImage")),this.tagAtt("id",this.id+"_dp_trigger"),H=!this.enabled&&this.rtEnabled||!this.visible?";display:none;":"",this.tagAtt("style","cursor: pointer"+H),this.append(">")),this.append("</div>"),this.grid.addDatepickerToSetup({CtrlId:this.id,Grid:this.gridId,Row:this.gridRow}))):gx.html.controls.specificDomainCtrls(this)}if(!this.enabled){this.rtEnabled||this.grid.addHiddenControl(this.id,this.dataType==
gx.types.date||this.dataType==gx.types.dateTime?this.formattedValue:this.value);H=this.hasTheme?gx.fn.prefixROClass(0==this.parentId?this.cssClass:this.roClass):this.cssClass;C="";this.format!=gx.html.controls.formats.RAW_HTML&&(gx.runtimeTemplates&&this.append('<p class="form-control-static">'),B+=this.visible?"":";display:none;",this.append("<span"),gx.runtimeTemplates&&this.append(" data-gx-tpl-applied-readonly-atts-vars"),this.append(this.extraAttributes),""!=H&&this.tagAtt("class",H),""!=B&&
this.tagAtt("style",B),this.tagAtt("data-gx-readonly",""),""!=this.title&&this.tagAtt("title",this.title),this.tagAtt("id","span_"+this.id),this.tagAtt("data-gx-enabled-id",this.id),gx.fn.controlFiresEvent(w)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,w.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.tagAtt("tabindex","0")),this.append(">"),C=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row),gx.html.controls.startAnchor(this,
this.jsScrCode,C,this.usrOnclick,this.link,this.linkTarget));if(this.isPassword)for(B=gx.lang.emptyObject(this.maxLength)?3:parseInt(this.maxLength),w=0;w<B;w++)this.append("*");else this.append(this.formattedValue);this.format!=gx.html.controls.formats.RAW_HTML&&(gx.html.controls.endAnchor(this,C,this.usrOnclick,this.link),this.append("</span>"),gx.runtimeTemplates&&this.append("</p>"));this.format==gx.html.controls.formats.RAW_HTML&&gx.html.processCode(this.buffer.toString(),!1);gx.html.controls.specificDomainCtrls(this)}}},
multipleLineEdit:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.multipleLineEdit;this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa,ma,na,ka,Z,Y,la,n,v,A,y,D){this.id=C;this.visible=0!=E;this.enabled=0!=J;this.rtEnabled=0!=L;this.width=N;this.widthUnit=Q;this.height=T;this.heightUnit=U;this.style=V;this.cssClass=ba;this.columnClass=ca;this.columnHeaderClass=ha;this.maxLength=fa;this.extraAttributes=B;this.autoresize=0!=ma;this.format=H;this.link=w;this.linkTarget=
ka;this.placeholder=Z;this.value=D||"";this.autoCorrection=0!=Y;this.domainName=n;this.maxTextLines=na;this.jsScrCode=A;this.title=y};this._getHtml=function(){var C=this.getVStruct();this.style+=!this.visible||!this.enabled&&this.rtEnabled?";display:none;":"";if(this.rtEnabled||this.enabled)this.row.ownerGrid.isFreestyle||void 0!==this.column.titleformat&&this.column.titleformat!=gx.html.controls.formats.TEXT||this.append('<label for="'+this.id+'" style="display:none">'+this.column.title+"</label>"),
this.append("<textarea"),""!=this.placeholder&&this.tagAtt("placeholder",this.placeholder),this.tagAtt("spellcheck",this.autoCorrection.toString()),"chr"==this.widthUnit?this.tagAtt("cols",this.width):this.style=this.style+";width: "+this.width+this.widthUnit,1<this.maxTextLines&&this.tagAtt("data-gx-text-maxlines",this.maxTextLines),"row"==this.heightUnit?this.tagAtt("rows",this.height):this.style=this.style+";height: "+this.height+this.heightUnit,this.tagAtt("id",this.id),this.tagAtt("name",this.id),
this.tagAtt("maxlength",this.maxLength),""!=this.title&&this.tagAtt("title",this.title),this.append('onkeyup = "return gx.evt.checkMaxLength(this,'+this.maxLength+',event);"'),this.append('onkeydown = "return gx.evt.checkMaxLength(this,'+this.maxLength+',event);"'),""!=this.cssClass&&this.tagAtt("class",this.cssClass),""!=this.style&&this.tagAtt("style",this.style),""!=this.title&&this.tagAtt("title",this.title),this.append(this.extraAttributes),this.append(">"),this.append(gx.html.encodeCaseFormat(this.value,
gx.html.controls.formats.TEXT,!1)),this.append("</textarea>");if(!this.enabled){var w=this.visible?"":"display:none;";this.autoresize||(w+='overflow="hidden";');this.rtEnabled||this.grid.addHiddenControl(this.id,this.value);this.cssClass=gx.fn.prefixROClass(this.cssClass);this.append("<span ");this.append(this.extraAttributes);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=w&&this.tagAtt("style",w);this.tagAtt("data-gx-readonly","");""!=this.title&&this.tagAtt("title",this.title);this.tagAtt("id",
"span_"+this.id);C.evt&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,C.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.tagAtt("tabindex","0"));this.format===gx.html.controls.formats.TEXT_W_SPACES&&this.tagAtt("data-text-format",gx.html.controls.formats.TEXT_W_SPACES);this.append(">");gx.html.controls.startAnchor(this,this.jsScrCode,!!C.evt,"",this.link,this.linkTarget);this.append(gx.html.encodeCaseFormat(this.value,this.format,!0));gx.html.controls.endAnchor(this,
!!C.evt,"",this.link);gx.html.controls.specificDomainCtrls(this);this.append("</span>")}}},blob:function(l,t,z,G,F,C,w){this.base(l,t,z,G,F);this.type=gx.html.controls.types.blob;this.display=C||0;this.contentType=w||"text/html";this.parameters=this.url="";this.setProperties=function(B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa,ma,na,ka,Z,Y,la,n,v,A,y,D,I,K,M,P){this.id=B;this.value=H;this.contentType=E||"text/html";this.linkTarget=L;this.parameters=N;this.display=Q;this.visible=0!=U;this.enabled=0!=T;this.alt=
da;this.title=V;this.borderWidth=ba;this.autoresize=0!=ca;this.width=ha;this.widthUnit=fa;this.height=ma;this.heightUnit=na;this.vSpace=ka;this.hSpace=Z;this.jsScrCode=Y;this.usrOnclick=la;this.eventName=n;this.style=v;this.cssClass=A;this.columnClass=y;this.columnHeaderClass=D;this.extraAttributes=I;this.extraDisplayAttributes=K;this.jsDynCode=M;this.url=gx.util.resolveUrl(P)};this._getHtml=function(){this.style+=this.visible?"":";display:none;";this.append('<div class="gx-tbldsp-container"');this.tagAtt("border",
0);this.tagAtt("data-cellpadding",0);this.tagAtt("data-cellspacing",0);this.tagAtt("style","margin:"+this.vSpace+"px "+this.hSpace+"px;");this.tagAtt("title",gx.lang.emptyObject(this.title)?this.id:this.title);this.append("><div>");var B=-1!=this.contentType.toLowerCase().indexOf("image/");if(0==this.display){if(B){this.append("<img");this.tagAtt("alt",this.alt);if(""==this.url||this.url==gx.util.resourceUrl(gx.basePath+gx.staticDirectory))this.url=gx.ajax.getImageUrl(gx,"blankImage");this.tagAtt("src",
this.url)}else this.append("<object"),this.tagAtt("type",this.contentType),""==this.url&&(this.url="about:blank"),this.tagAtt("data",this.url);this.tagAtt("id","Object_"+this.id);this.style+="display:block;";0==this.width||this.autoresize||(this.style=this.style+"width:"+this.width+this.widthUnit+";");0==this.height||this.autoresize||(this.style=this.style+"height:"+this.height+this.heightUnit+";");this.tagAtt("style",this.style);var H=""!=this.cssClass?"BlobContent"+this.cssClass:this.cssClass;this.enabled||
(H=gx.fn.prefixROClass(H));this.tagAtt("class",H);this.append(this.extraDisplayAttributes);this.append(">");B?this.append("</img>"):(this.append(this.parameters),this.append("</object>"))}else 1==this.display&&(this.append("<a"),this.tagAtt("id","Link_"+this.id),this.style=""!=this.url?this.style+"display:block;":this.style+"display:none;",this.tagAtt("style",this.style),this.tagAtt("href",this.url),this.tagAtt("type",this.contentType),""!=this.linkTarget&&this.tagAtt("target",this.linkTarget),this.append("><img"),
this.tagAtt("border","0"),this.tagAtt("src",gx.ajax.getImageUrl(gx,"downloadImage")),this.append("></a>"));this.append("</div><div>");if(this.enabled){var E="";gx.lang.emptyObject(this.value)||(gx.dom.form().encoding="multipart/form-data");H=gx.dom.byId(this.id);this.grid&&this.grid.parentObject.isTransaction()&&H&&this.value===H.value?(B=this.id+"_hook",this.append("<div"),this.tagAtt("id",B),this.append(">"),this.append("</div>"),this.grid.addControlToReuse({el:H,hookId:B})):(this.append("<input"),
this.tagAtt("type","file"),this.tagAtt("id",this.id),this.tagAtt("name",this.id),this.visible||(E+="display:none;"),0!=this.width&&(E=E+"width:"+this.width+";"),this.tagAtt("style",E),this.tagAtt("value",this.value),H=""!=this.cssClass?"BlobInput"+this.cssClass:this.cssClass,this.enabled||(H=gx.fn.prefixROClass(H)),this.tagAtt("class",H),B&&this.tagAtt("accept",this.contentType),this.append(this.extraAttributes),this.append(">"))}this.append("</div></div>")}},radio:function(l,t,z,G,F){this.base(l,
t,z,G,F);this.type=gx.html.controls.types.radio;this.vertical=!0;this.possibleValues=[];this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha){this.possibleValues=C.v||[];this.id=w;this.title=B;this.visible=0!=H;this.enabled=0!=E;this.columns=J;this.orientation=L;this.style=N;this.cssClass=Q;this.columnClass=T;this.columnHeaderClass=U;this.jsScrCode=da;this.usrOnclick=V;this.eventName=ba;this.extraAttributes=ca;this.value=ha};this._getHtml=function(){this.dataType==gx.types.numeric&&(this.value=
gx.text.trim(this.value.toString()));var C=[];C.push(this.enabled?this.cssClass:gx.fn.prefixROClass(this.cssClass));C.push("gx-radio-button");1==this.orientation&&C.push("gx-radio-button-vertical");C=C.join(" ");var w=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row);this.style+=this.visible?"":";display:none;";this.append(x("radio",{id:this.id,className:C,style:this.style,title:this.title,isDisabled:!this.enabled,extraAttributes:this.extraAttributes,gxoch0:gx.html.controls.onJSEvent_impl("data-gxoch0",
w,this.usrOnclick),values:e.map(this.possibleValues,function(B,H){return{itemId:this.id+"_"+H,itemValue:B[0],itemDesc:B[1],isSelected:gx.text.trim(this.value.toString())==gx.text.trim(B[0].toString())}}.closure(this))}))}},comboBox:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.comboBox;this.rows=1;this.possibleValues=[];this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa,ma,na,ka,Z,Y,la,n,v){this.possibleValues=C.v||[];this.id=w;this.title=N;this.visible=
0!=Q;this.enabled=0!=T;this.rtEnabled=0!=U;this.rows=B;this.format=da;this.width=V;this.widthUnit=ba;this.height=ca;this.heightUnit=ha;this.style=fa;this.cssClass=ma;this.columnClass=na;this.columnHeaderClass=ka;this.formattedValue=Y;this.jsScrCode=E;this.usrOnclick=H;this.eventName=J;this.extraAttributes=Z;this.value=v;this.rawValue=C};this._getHtml=function(){this.dataType==gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()));0<this.width&&(this.style=this.style+";width: "+this.width+
this.widthUnit);0<this.height&&(this.style=this.style+";height: "+this.height+this.heightUnit);var C=this.style+" ;overflow:hidden;",w=this.enabled||this.rtEnabled;this.style+=!this.visible||!this.enabled&&this.rtEnabled?";display:none;":"";if(w){var B=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row);this.append("<select");1<this.rows&&this.tagAtt("size",this.rows);this.tagAtt("id",this.id);this.tagAtt("name",this.id);""!=this.title&&this.tagAtt("title",this.title);
""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.enabled||(this.append(" disabled"),gx.util.addOnce(gx.disabledControls,this.id,this.id));this.append(this.extraAttributes);gx.html.controls.onJSEvent(this,"data-gxoch0",B,this.usrOnclick);this.append(">");B=this.possibleValues.length;for(var H=0;H<B;H++){var E=this.possibleValues[H];this.append("<option");this.tagAtt("value",E[0]);gx.text.trim(E[0].toString())==gx.text.trim(gx.lang.htmlDecode(this.value.toString()))&&
this.append(" selected");this.append(">");this.append(E[1]);this.append("</option>")}this.append("</select>")}if(!this.enabled){this.rtEnabled||this.grid.addHiddenControl(this.id,this.value);B=gx.fn.prefixROClass(this.cssClass);C+=this.visible?"":";display:none;";this.append("<span ");this.tagAtt("id","span_"+this.id);""!=this.title&&this.tagAtt("title",this.title);""!=B&&this.tagAtt("class",B);""!=C&&this.tagAtt("style",C);gx.O.DSO&&this.tagAtt("data-gx-readonly","");w||this.tagAtt(gx.GxObject.GX_DATA_RAW_VALUE_ATTR,
gx.json.serializeJson(this.rawValue));this.append(this.extraAttributes);this.append(">");B=this.possibleValues.length;for(H=0;H<B;H++)if(E=this.possibleValues[H],gx.text.trim(E[0].toString())==gx.text.trim(gx.lang.htmlDecode(this.value.toString()))){this.append(E[1]);break}this.append("</span>")}}},listBox:function(l,t,z,G,F,C){this.base(l,t,z,G,F);this.type=gx.html.controls.types.listBox;this.rows=C},checkBox:function(l,t,z,G,F,C,w,B){this.base(l,t,z,G,F);this.type=gx.html.controls.types.checkBox;
this.caption=C||"";this.checkedValue=w;this.uncheckedValue=B;this.setProperties=function(H,E,J,L,N,Q,T,U,da,V,ba,ca,ha){this.id=H;this.title=E;this.visible=0!=L;this.enabled=0!=N;this.checkedValue=Q;this.caption=T;this.style=U;this.cssClass=da;this.columnClass=V;this.columnHeaderClass=ba;this.extraAttributes=ca;this.value=ha;this.labelCaption=J};this._getHtml=function(){var H=this.getVStruct();this.dataType==gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()),this.checkedValue=gx.text.trim(this.checkedValue.toString()));
var E=this.cssClass;this.enabled||(E=gx.fn.prefixROClass(this.cssClass));this.style+=this.visible?"":";display:none;";this.append("<label");this.tagAtt("for",this.id);""!=E&&this.tagAtt("class",E);""!=this.style&&this.tagAtt("style",this.style);this.append("><input");this.tagAtt("id",this.id);this.tagAtt("type","checkbox");this.tagAtt("name",this.id);this.value.toString()==this.checkedValue.toString()?(this.append(" checked"),this.tagAtt("value",this.checkedValue)):this.tagAtt("value",this.uncheckedValue);
""!=this.title&&this.tagAtt("title",this.title);this.enabled||this.append(" disabled");this.append(this.extraAttributes);gx.fn.controlFiresEvent(H)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,H.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()));this.append(">");this.append(this.caption);this.append("</label>")}},imageReadOnly:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.image;this.alt="";this.setProperties=function(C,w,B,H,E,J,L,
N,Q,T,U,da,V,ba,ca,ha,fa,ma,na,ka,Z,Y,la,n,v,A,y,D,I,K){this.id=C;this.accessKey=H;this.visible=0!=J;this.enabled=0!=L;this.alt=N;this.title=Q;this.borderWidth=T;this.autoresize=0!=U;this.width=da;this.widthUnit=V;this.height=ba;this.heightUnit=ca;this.vSpace=ha;this.hSpace=fa;this.link=w;this.linkTarget=B;this.jsScrCode=ma;this.usrOnclick=na;this.eventName=ka;this.style=Z;this.cssClass=Y;this.columnClass=la;this.columnHeaderClass=n;this.align=v;this.extraAttributes=A;this.useMap=y;this.jsDynCode=
D;this.imgSrcSet=I;this.value=this.imageUrl=K};this._getHtml=function(){var C=this.getVStruct();this.grid.addHiddenControl(this.id,this.imageUrl);""!=this.eventName&&gx.text.endsWith(this.eventName,".'")&&(this.eventName=this.eventName.replace(".'","."+this.gridRow+"'"));var w=gx.util.accessKey(this.title);this.title=gx.util.accessKeyCaption(this.title);""!=w&&(this.accessKey=w);this.style+=this.visible?"":";display:none;";w=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,this.jsDynCode,
this.grid,this.row);this.enabled&&""!=this.link&&gx.html.controls.startAnchor(this,this.jsScrCode,w,this.usrOnclick,this.link,this.linkTarget,"gx-image-link");this.append("<img");this.tagAtt("src",this.value);this.imgSrcSet&&this.tagAtt("srcset",this.imgSrcSet);this.enabled||(this.cssClass=(this.cssClass||"")+" gx-disabled");""!=this.accessKey&&this.tagAtt("accesskey",this.accessKey);this.tagAtt("id",this.id);0!=this.vSpace&&this.tagAtt("vspace",this.vSpace);0!=this.hSpace&&this.tagAtt("hspace",this.hSpace);
""!=this.align&&this.tagAtt("align",this.align);if(""==this.cssClass||0<this.borderWidth)this.tagAtt("border",this.borderWidth),""!=this.cssClass&&(this.style=this.style+";border-width: "+this.borderWidth);this.tagAtt("alt",this.alt||this.title);""!=this.title&&this.tagAtt("title",this.title);0<this.width&&(this.style=this.style+";width: "+this.width+this.widthUnit);0<this.height&&(this.style=this.style+";height: "+this.height+this.heightUnit);""!=this.cssClass&&this.tagAtt("class",this.cssClass);
""!=this.style&&this.tagAtt("style",this.style);""!=this.useMap&&this.tagAtt("usemap",this.useMap);this.extraAttributes&&this.append(this.extraAttributes);C.evt&&(this.tagAtt("tabindex","0"),this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,C.fld),this.tagAtt(gx.GxObject.GX_EVENT_DATA_ATTR,""),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.usrOnclick&&this.tagAtt(gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR,this.usrOnclick));this.append(">");this.enabled&&""!=this.link&&
""==w&&gx.html.controls.endAnchor(this,w,this.usrOnclick,this.link)};this._persistValue=function(){var C=this.getVStruct();C.v2v&&C.v2v(this.imageUrl)}},multimedia:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.multimedia;this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa,ma,na,ka,Z,Y,la){this.id=C;this.text=w;this.display=0!=B;this.visible=0!=H;this.enabled=0!=E;this.autoresize=0!=J;this.width=L;this.widthUnit=N;this.height=Q;this.heightUnit=T;this.jsScrCode=
U;this.usrOnclick=da;this.eventName=V;this.style=ba;this.cssClass=ca;this.columnClass=ha;this.columnHeaderClass=fa;this.extraInputAttributes=ma;this.jsDynCode=ka;this.readOnly=0!=Z;this.isBlob=gx.lang.gxBoolean(Y);this.multimediaUrl=la;this.value=gx.util.resolveUrl(la)};this.startMultimediaUploadControl=function(C,w,B,H){return['<div id="',C,'_ct" class="',gx.html.multimediaUpload.gxCssClass,'" style="',(H||"")+(w?"":"display:none;"),'" ',gx.html.multimediaUpload.gxPreviewHTMLAtt,'="',this.value,
'" ">'].join("")};this.endMultimediaUploadControl=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha){B=[];H=gx.html.multimediaUpload.getInputFileEl(this.id);E="checked";J="";L=C.match(/([\w]+)(_\d{4})$/);L=L[1]+"_GXI"+L[2];if(ca||void 0===ca)E="",J="checked",w="";ca=['<div id="',C,'_ct_fields" class="fields-ct">','<label class="option">','<input name="',C,'Option" type="radio" value="file" ',J,"/>",gx.getMessage("GXM_uploadfileoption"),"</label>",'<label class="option">','<input name="',C,'Option" type="radio" value="uri" ',
E,"/>",gx.getMessage("GXM_uploadurioption"),"</label>",'<input type="text" class="field ',U,'" id="',L,'" name="',L,'" value="',w,'" ',V," />"];B.push(ca.join(""));ca=H?['<div id="',C,'_hook"></div>']:['<input type="file" class="field ',U,'" id="',C,'" name="',C,'" accept="',ha,'" ',V,"/>"];B.push(ca.join(""));ca=["</div>","</div>"];B.push(ca.join(""));return B.join("")};this.getPreviewHtml=function(){var C=gx.fn.prefixROClass(this.cssClass||""),w=this.value,B=w?' href="'+w+'"':"",H=this.readOnly||
!this.enabled,E=H?this.id:"";return(gx.text.startsWith(gx.util.getContentTypeFromExt(w),"image")||!H&&""===w?["<a",' class="'," gx-multimedia-ro",'"',' target ="_blank"',B,">",'<img id = "Object_',this.id,'" class = "',C,'" alt = "',this.alt,'" src = "',w,'" />','<span id="',E,'" class="',this.placeHolderClass,'"></span>',"</a>"]:["<a",w?" download":"",' class="'," gx-multimedia-ro",'"',' target = "_blank"',B,">",'<span id = "',E,'" class = "',C," ",this.placeHolderClass,'" title = "',gx.getMessage("GXM_multimediaalttext"),
'"></span>',"</a>"]).join("")};this._getHtml=function(){!this.readOnly&&this.enabled?(this.append(this.startMultimediaUploadControl(this.id,this.visible,this.width,this.style)),this.append('<a class="action change-action" gxfocusable="1" href=""'+this.extraInputAttributes+">"+gx.getMessage("GXM_multimediachange")+"</a>"),this.append('<a gxfocusable="1" href="" class="action clear-action"></a>')):this.grid.addHiddenControl(this.id,this.multimediaUrl);this.append(this.getPreviewHtml());if(!this.readOnly&&
this.enabled){this.append(this.endMultimediaUploadControl(this.id,this.value,"",this.width,this.widthUnit,this.height,this.heightUnit,this.usrOnclick,this.eventName,this.style,this.cssClass,"",this.extraInputAttributes,this.readOnly,this.isBlob,this.accept));var C=gx.html.multimediaUpload.getInputFileEl(this.id);this.grid&&this.grid.parentObject.isTransaction()&&C&&this.grid.addControlToReuse({el:C,hookId:this.id+"_hook"})}};this._persistValue=function(){var C=this.getVStruct();C.v2v&&C.v2v(gx.html.multimediaUpload.getPreviewAtt(this.id+
"_ct")||this.multimediaUrl)}},image:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.image;this.alt="";this.innerImage=new gx.html.controls.imageReadOnly;this.placeHolderClass="gx-image-placeholder";this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa,ma,na,ka,Z,Y,la,n,v,A,y,D,I,K,M,P,S,O){this.id=C;this.accessKey=H;this.visible=0!=J;this.enabled=0!=L;this.alt=N;this.title=Q;this.borderWidth=T;this.autoresize=0!=U;this.width=da;this.widthUnit=V;this.height=ba;
this.heightUnit=ca;this.vSpace=ha;this.hSpace=fa;this.link=w;this.linkTarget=B;this.jsScrCode=ma;this.usrOnclick=na;this.eventName=ka;this.style=Z;this.cssClass=Y;this.columnClass=la;this.columnHeaderClass=n;this.align=v;this.extraInputAttributes=A;this.extraImageAttributes=y;this.useMap=D;this.jsDynCode=I;this.readOnly=0!=K;this.isBlob=gx.lang.gxBoolean(M);this.isAttribute=gx.lang.gxBoolean(P);this.imgSrcSet=S;this.multimediaUrl=O;this.value=gx.util.resolveUrl(O);this.themeName=E;this.className=
Y;P&&(this.className=gx.fn.prefixROClass(Y));C=this.getGridData();this.updateinnerImageProperties();this.innerImage.setGridData(C);this.innerImage.column=this.column};this.updateinnerImageProperties=function(){this.innerImage.setProperties(this.id,this.link,this.linkTarget,this.accessKey,this.themeName,this.visible,this.enabled,this.alt,this.title,this.borderWidth,this.autoresize,this.width,this.widthUnit,this.height,this.heightUnit,this.vSpace,this.hSpace,this.jsScrCode,this.usrOnclick,this.eventName,
this.style,this.className,this.columnClass,this.columnHeaderClass,this.align,this.extraImageAttributes,this.useMap,this.jsDynCode,this.imgSrcSet,this.value)};this.getPreviewHtml=function(){var C=this.value,w=gx.fn.prefixROClass(this.cssClass||"");return['<a target="_blank" class="gx-multimedia-ro"><img id="Object_',this.id,'" class="',w,'" alt="',this.alt,'" src="',C,'" /><span class="',this.placeHolderClass,'"></span></a>'].join("")};this._getHtml=function(){if(this.readOnly||!this.enabled)this.buffer=
this.innerImage.buffer,this.updateinnerImageProperties(),this.innerImage._getHtml();else{this.append(this.startMultimediaUploadControl(this.id,this.visible,this.width,this.style));this.append('<a class="action change-action" gxfocusable="1" href=""'+this.extraInputAttributes+">"+gx.getMessage("GXM_multimediachange")+"</a>");this.append('<a gxfocusable="1" href="" class="action clear-action"></a>');this.append(this.getPreviewHtml());this.append(this.endMultimediaUploadControl(this.id,this.value,this.title,
this.width,this.widthUnit,this.height,this.heightUnit,this.usrOnclick,this.eventName,this.style,this.cssClass,this.align,this.extraInputAttributes,this.readOnly,this.isBlob,"image/*"));var C=gx.html.multimediaUpload.getInputFileEl(this.id);this.grid&&this.grid.parentObject.isTransaction()&&C&&this.grid.addControlToReuse({el:C,hookId:this.id+"_hook"})}}},video:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.video;this.accept="video/*";this.placeHolderClass="gx-video-placeholder"},
audio:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.audio;this.accept="audio/*";this.placeHolderClass="gx-audio-placeholder"},file:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.audio;this.placeHolderClass="gx-download-placeholder"},textBlock:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.textBlock;this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba){this.id=C;this.visible=0!=T;this.enabled=0!=U;this.rtEnabled=
0!=da;this.format=V;this.title=Q;this.link=w;this.linkTarget=B;this.jsScrCode=N;this.usrOnclick=H;this.eventName=E;this.extraAttributes=J;this.cssClass=L;this.value=gx.text.replaceAll(ba,"�","'")};this._getHtml=function(){var C=this.getVStruct(),w=this.enabled||this.rtEnabled;if(this.format!=gx.html.controls.formats.RAW_HTML){if(this.format==gx.html.controls.formats.HTML){var B=(this.visible?";display:inline;":";display:none;")+this.extraAttributes;this.append("<div ")}else B=(this.visible?"":";display:none;")+
this.extraAttributes,this.append("<span ");this.tagAtt("id",this.id);this.enabled||(this.cssClass=(this.cssClass||"")+" gx-disabled");""!=this.cssClass&&this.tagAtt("class",this.cssClass);this.tagAtt("data-gxformat",this.format);""!=B&&this.tagAtt("style",B);""!=this.title&&this.tagAtt("title",this.title);gx.fn.controlFiresEvent(C)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,C.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.tagAtt("tabindex","0"));this.append(">")}w?
(B=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row),gx.html.controls.startAnchor(this,this.jsScrCode,B,this.usrOnclick,this.link,this.linkTarget)):B="";this.append(gx.html.encodeCaseFormat(this.value,this.format));w&&gx.html.controls.endAnchor(this,B,this.usrOnclick,this.link);this.format==gx.html.controls.formats.HTML?this.append("</div>"):this.format!=gx.html.controls.formats.RAW_HTML&&this.append("</span>");this.format==gx.html.controls.formats.RAW_HTML&&gx.html.processCode(this.buffer.toString(),
!1)}},label:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.label;this.setProperties=function(C,w,B,H,E,J){this.referencedEl=C;this.labelCaption=w;this.labelClass=B;this.extraStyle=J;this.addAttributes=[0===H?"data-gx-sr-only":"",this.extraStyle?'style="'+this.extraStyle+'"':""].join(" ")};this._getHtml=function(){this.append(x("label",{caption:this.labelCaption,className:this.labelClass,additionalAtts:this.addAttributes,relatedElement:this.referencedEl}))}},button:function(l,
t,z,G,F,C){this.base(l,t,z,G,F);this.type=gx.html.controls.types.button;this.caption="";this.buttonStyle=C||"rounded";this.setProperties=function(w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa){this.reset=ha;this.id=w;this.title=J;this.accessKey=L;this.style=N;this.cssClass=Q;this.visible=0!=T;this.enabled=0!=U;this.buttonStyle=da;this.jsScrCode=E;this.usrOnclick=H;this.eventName=V+(5==this.jsScrCode?"+'"+this.gridRow+"'":"");this.extraAttributes=ba;this.jsCode=B;this.jsDynCode=ca;this.caption=fa};this._getHtml=
function(){var w=this.getVStruct();this.style+=this.visible?"":";display:none;";var B="BaseRBtn R"+this.cssClass;"rounded"==this.buttonStyle&&(this.cssClass="BtnText",this.append("<span "),this.tagAtt("onclick","gx.evt.doClick('"+this.id+"', event);"),""!=this.style&&this.tagAtt("style",this.style),this.tagAtt("class",B),this.append('><span class="BtnLeft"><span class="BtnRight"><span class="BtnBackground">'));this.append("<input");B="button";1==this.reset?B="submit":0==this.reset&&(B="reset");this.tagAtt("type",
B);B=gx.util.accessKey(this.caption);this.caption=gx.util.accessKeyCaption(this.caption);""==B&&(B=gx.util.accessKey(this.title),this.title=gx.util.accessKeyCaption(this.title));""!=B&&(this.accessKey=B);this.tagAtt("name",this.id);this.tagAtt("id",this.id);this.tagAtt("value",this.caption);""!=this.title&&this.tagAtt("title",this.title);""!=this.accessKey&&this.tagAtt("accesskey",this.accessKey);this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.enabled||this.append(" disabled");
this.append(gx.html.controls.onJsEventAttributes(this.jsScrCode,this.jsCode,this.usrOnclick));this.append(this.extraAttributes);gx.fn.controlFiresEvent(w)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,w.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()));this.append(">");"rounded"==this.buttonStyle&&this.append("</span></span></span></span>")}},grid:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.grid;this.containerName="";this.setProperties=
function(C){this.containerName=C;this.id=this.grid.gxComponentContext+this.containerName+"Div_"+this.gridRow};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.append("></div>")}},userControl:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.userControl;this.containerName="";this.setProperties=function(C,w){this.id=this.containerName=C;this.visible=0!=w};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("class",gx.uc.gxCssClass);
this.append("></div>");this.grid.addUsercontrolToDraw({r:this.gridRow,c:this.column})}},userControlContainer:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.userControlContainer;this.containerName=this.parentName="";this.setProperties=function(C,w){this.parentName=C;this.containerName=w;this.id=this.parentName+this.containerName+"_"+this.gridRow};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("style","display:none;");this.tagAtt("class",
"gx_usercontrol_child");this.append(">")}},webComponent:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.webComponent;this.content=this.controlName="";this.setProperties=function(C){this.controlName=C;var w=this.grid.parentObject.getComponentData(this.controlName);C=w.Prefix;var B=this.grid.gxComponentContext+"gxHTMLWrp"+C+this.gridRow,H=gx.dom.byId(B),E="";this.grid.addOldComponent(this.gridRow,this.grid.gxComponentContext+C+this.gridRow);if(null!=H)w=B+"_hook",this.grid.addComponentToDraw({create:!1,
existingEl:w,el:B,p:this.grid.gxComponentContext+C+this.gridRow}),B=w;else if(!gx.lang.emptyObject(gx.csv.lastEvtResponse)&&!gx.lang.emptyObject(gx.csv.lastEvtResponse.gxComponents))if(H=gx.csv.lastEvtResponse.gxComponents[B],gx.lang.emptyObject(H))E="";else{E=gx.html.cleanHtmlRefs(H);var J=gx.fn.getHidden(this.grid.gxComponentContext+C+this.gridRow);J||(J=w.GXClass);gx.lang.emptyObject(J)||this.grid.addComponentToDraw({load:!0,n:J.toLowerCase(),p:this.grid.gxComponentContext+C+this.gridRow,c:H})}this.id=
B;this.content=E};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("class",gx.GxObject.WEBCOMPONENT_CLASS_NAME);this.append(">");this.append(this.content);this.append("</div>")}},embeddedPage:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.embeddedPage;this.align="center";this.scrollbars="auto";this.borderStyle="1";this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U){this.id=C;this.value=w;this.visible=0!=B;this.width=H;this.widthUnit=E;this.height=
J;this.heightUnit=L;this.borderStyle=N;this.align=Q;this.title=T;this.scrollbars=U};this._getHtml=function(){this.style+=this.visible?"":";display:none;";this.append("<iframe");this.tagAtt("frameborder",this.borderStyle);this.tagAtt("align",this.align);this.tagAtt("scrolling",this.scrollbars);0<this.height&&this.tagAtt("height",this.height+this.heightUnit);0<this.width&&this.tagAtt("width",this.width+this.widthUnit);""!=this.title&&this.tagAtt("title",this.title);""!=this.id&&(this.tagAtt("id",this.id),
this.tagAtt("name",this.id));""!=this.value&&this.tagAtt("src",this.value);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.append(">");this.append("</iframe>")}},table:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.table;this.backColor=this.cellPadding=this.cellSpacing="";this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa){this.id=C;this.visible=0!=w;this.cssClass=B;this.background=H;this.backColor=
E;this.borderColor=J;this.align=L;this.title=N;this.borderWidth=Q;this.cellPadding=T;this.cellSpacing=U;this.height=da;this.width=V;this.rules=ba;this.heightUnit=ca;this.widthUnit=ha;this.style="";this.header=fa};this._getHtml=function(){var C=this.getVStruct();this.style+=this.visible?"":";display:none;";""!=this.background&&(this.background=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+this.background,!0),this.style=this.style+"background-image: url("+this.background+");");if(""!=this.backColor){var w=
parseInt(this.backColor);w=isNaN(w)?this.backColor:gx.color.html(w).Html;this.style=this.style+"background-color: "+w+";"}""!=this.borderColor&&(w=parseInt(this.borderColor),w=isNaN(w)?this.borderColor:gx.color.html(w).Html,this.style=this.style+"border-color: "+w+";");""!=this.borderWidth&&(this.style=this.style+"border-width: "+this.borderWidth+";");""!=this.height&&(this.style=this.style+"height: "+this.height+this.heightUnit+";");""!=this.width&&(this.style=this.style+"width: "+this.width+this.widthUnit+
";");this.append("<table");this.tagAtt("id",this.id);this.tagAtt("align",this.align);""!=this.borderWidth&&this.tagAtt("border",this.borderWidth);""!==this.cellSpacing&&this.tagAtt("data-cellspacing",this.cellSpacing);""!==this.cellPadding&&this.tagAtt("data-cellpadding",this.cellPadding);""!=this.rules&&"none"!=this.rules&&this.tagAtt("rules",this.rules);""!=this.title&&this.tagAtt("title",this.title);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);
C.evt&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,C.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.tagAtt("tabindex","0"));this.append(">");""!=this.header&&(this.append("<caption>"),this.append(this.header),this.append("</caption>"))}},row:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.row;this.verticalAlign=this.align=this.borderColor=this.backColor="";this.isFreestyleRow=!1;this.oncontextmenu="";this.setProperties=function(C,
w,B){w&&(this.cssClass=this.ownCssClass?w+(this.ownCssClass?" "+this.ownCssClass:""):w);this.style=B};this._getHtml=function(){this.append("<tr");""!=this.id&&this.tagAtt("id",this.id);this.isFreestyleRow&&this.tagAtt("data-gxrow",this.gridRow);""!=this.backColor&&(this.style=this.style+"background-color:"+this.backColor+";");""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);
""!=this.style&&this.tagAtt("style",this.style);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.oncontextmenu&&this.tagAtt("oncontextmenu",this.oncontextmenu);this.append(">")}},cell:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.cell;this.className=this.rowSpan=this.colSpan=this.verticalAlign=this.align=this.borderColor=this.backColor=this.background=this.style="";this.setProperties=function(C,w,B){this.background=C;this.cssClass=B;w&&""!=w&&0<w.indexOf("style=")&&
(this.style=w.substring(8),this.style=this.style.substring(0,this.style.length-1)+";")};this._getHtml=function(){this.append("<td");"undefined"!=typeof this.width&&0!=this.width&&this.tagAtt("width",this.width);"undefined"!=typeof this.height&&0!=this.height&&this.tagAtt("height",this.height);""!=this.background&&this.tagAtt("background",this.background);""!=this.backColor&&(this.style+="background-color:"+this.backColor+";");""!=this.style&&this.tagAtt("style",this.style);""!=this.borderColor&&this.tagAtt("bordercolor",
this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.colSpan&&this.tagAtt("colspan",this.colSpan);""!=this.rowSpan&&this.tagAtt("rowspan",this.rowSpan);""!=this.cssClass&&this.tagAtt("class",this.cssClass);this.append(">")}},responsiveRow:function(l,t,z,G,F){this.base(l,t,z,G,F);this._getHtml=function(){this.append("<div");""!=this.id&&this.tagAtt("id",this.id);this.isFreestyleRow&&this.tagAtt("data-gxrow",
this.gridRow);""!=this.backColor&&(this.style=this.style+"background-color:"+this.backColor+";");""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.style&&this.tagAtt("style",this.style);this.tagAtt("class","row "+(this.cssClass||""));""!=this.oncontextmenu&&this.tagAtt("oncontextmenu",this.oncontextmenu);this.append(">")}},responsiveCell:function(l,t,
z,G,F){this.base(l,t,z,G,F);this._getHtml=function(){this.append("<div");"undefined"!=typeof this.width&&0!=this.width&&this.tagAtt("width",this.width);"undefined"!=typeof this.height&&0!=this.height&&this.tagAtt("height",this.height);""!=this.background&&this.tagAtt("background",this.background);""!=this.backColor&&(this.style+="background-color:"+this.backColor+";");""!=this.style&&this.tagAtt("style",this.style);""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&
this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.colSpan&&this.tagAtt("colspan",this.colSpan);""!=this.rowSpan&&this.tagAtt("rowspan",this.rowSpan);this.tagAtt("class","col-xs-12 "+(this.cssClass||""));this.append(">")}},group:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.group;this.caption="";this.setProperties=function(C,w,B,H,E,J,L,N,Q){this.id=C;this.caption=w;this.visible=0!=B;this.width=H;this.widthUnit=
E;this.height=J;this.heightUnit=L;this.cssClass=N;this.extraAtts=Q};this._getHtml=function(){this.append("<fieldset");this.tagAtt("id",this.id);this.tagAtt("name",this.id);""!=this.cssClass&&this.tagAtt("class",this.cssClass);var C="-moz-border-radius:3pt;";"0"!=this.width&&(C+="width: "+this.width+this.widthUnit+";");"0"!=this.height&&(C+="height: "+this.height+this.heightUnit+";");this.visible||(C+="display:none;");this.tagAtt("style",C);""!=this.extraAtts&&this.append(this.extraAtts);this.append(">");
this.append("<legend");""!=this.cssClass&&this.tagAtt("class",this.cssClass+"Title");this.append(">");this.append(gx.getMessage(this.caption));this.append("</legend>")}},div:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.div;this.setProperties=function(C,w,B,H,E,J,L,N,Q,T,U){this.id=C;this.visible=0!=w;this.width=B;this.widthUnit=H;this.height=E;this.heightUnit=J;this.cssClass=L;this.align=N;this.vAlign=Q;this.extraAtts=T;this.extraStyle=U};this._getHtml=function(){var C=
this.getVStruct(),w=this.align&&"left"!=this.align.toLowerCase()&&"start"!=this.align.toLowerCase(),B=this.vAlign&&"top"!=this.vAlign.toLowerCase(),H=this.visible?"":";display:none;",E=this.align.toLowerCase(),J=this.vAlign.toLowerCase(),L=E,N=J;"justify"===L&&(L="space-evenly");"middle"===N?N="center":"bottom"===N&&(N="end");""!=this.height&&(H=H+"height: "+this.height+this.heightUnit+";");""!=this.width&&(H=H+"width: "+this.width+this.widthUnit+";");H+=this.extraStyle;this.append("<div");this.id&&
this.tagAtt("id",this.id);""!=this.cssClass&&this.tagAtt("class",this.cssClass);if(w||B)this.tagAtt("data-valign",""),H="display:flex;justify-content:"+L+";"+H,B&&(H=H+";flex-wrap:wrap;align-content:"+N+";");""!=H&&this.tagAtt("style",H);""!=this.extraAtts&&this.append(this.extraAtts);w&&this.tagAtt("data-align",E);B&&this.tagAtt("data-valign",J);gx.fn.controlFiresEvent(C)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,C.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),
this.tagAtt("tabindex","0"));this.append(">")}},divEnd:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.divEnd;this.setProperties=function(C,w){this.align=C;this.vAlign=w};this._getHtml=function(){this.append("</div>")}},formGroup:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.formGroup;this.setProperties=function(C){this.captionPosition=C};this._getHtml=function(){1===this.captionPosition&&this.append('<div class="form-group gx-form-group">')}},
formGroupEnd:function(l,t,z,G,F){this.base(l,t,z,G,F);this.type=gx.html.controls.types.formGroupEnd;this.setProperties=function(C){this.captionPosition=C};this._getHtml=function(){1===this.captionPosition&&this.append("</div>")}},specificDomainCtrls:function(l){if(l.domainName==gx.domains.component&&0==l.enabled){var t=l.enabled?";display:none;":"",z=l.id+"_comp_trigger",G=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"Resources\\"+gx.theme+"\\Select.png",!1);l.append("<img");l.tagAtt("src",
G);l.tagAtt("id",z);l.tagAtt("class","");l.tagAtt("style",t+" margin-left:2px; cursor:pointer;");l.tagAtt("onclick","gx.popup.openUrl('"+l.value+"')");l.append("/>");t=[];t.push(l.column.gxId)}else l.dataType==gx.types.geolocation&&(t=l.enabled?"":";display:none;",z=l.id+"_geoLocMe",l.append("<img"),l.tagAtt("src",gx.ajax.getImageUrl(gx,"myLocationImage")),l.tagAtt("id",z),l.tagAtt("class","GeoLocOption"),l.tagAtt("style",t),l.tagAtt("onclick","gx.geolocation.getMyPosition(this)"),l.append(">"),t=
[],t.push(l.column.gxId))},_init:function(){gx.lang.inherits(this.singleLineEdit,this.htmlControl);gx.lang.inherits(this.multipleLineEdit,this.singleLineEdit);gx.lang.inherits(this.blob,this.htmlControl);gx.lang.inherits(this.radio,this.htmlControl);gx.lang.inherits(this.comboBox,this.htmlControl);gx.lang.inherits(this.listBox,this.comboBox);gx.lang.inherits(this.checkBox,this.htmlControl);gx.lang.inherits(this.imageReadOnly,this.htmlControl);gx.lang.inherits(this.textBlock,this.htmlControl);gx.lang.inherits(this.button,
this.htmlControl);gx.lang.inherits(this.grid,this.htmlControl);gx.lang.inherits(this.userControl,this.htmlControl);gx.lang.inherits(this.userControlContainer,this.htmlControl);gx.lang.inherits(this.webComponent,this.htmlControl);gx.lang.inherits(this.embeddedPage,this.htmlControl);gx.lang.inherits(this.table,this.htmlControl);gx.lang.inherits(this.row,this.htmlControl);gx.lang.inherits(this.cell,this.htmlControl);gx.lang.inherits(this.group,this.htmlControl);gx.lang.inherits(this.multimedia,this.htmlControl);
gx.lang.inherits(this.image,this.multimedia);gx.lang.inherits(this.video,this.multimedia);gx.lang.inherits(this.file,this.multimedia);gx.lang.inherits(this.audio,this.multimedia);gx.lang.inherits(this.div,this.htmlControl);gx.lang.inherits(this.divEnd,this.htmlControl);gx.lang.inherits(this.responsiveRow,this.row);gx.lang.inherits(this.responsiveCell,this.cell);gx.lang.inherits(this.label,this.htmlControl);gx.lang.inherits(this.formGroup,this.htmlControl);gx.lang.inherits(this.formGroupEnd,this.htmlControl)}}}()}}(gx.$);
gx.util.Observable=function(){var e={};return{observers:[],initialObservers:[],addObserver:function(q,g,h,a){new gx.thread.Mutex(this,this.addObserverSync,arguments)},addObserverSync:function(q,g,h,a){a=a||{};if(!1===a.unique||0>this.indexOf(q,g,h)){var b={e:q,o:g,f:h,cfg:a};a&&a.observerKey&&(e[a.observerKey]=e[a.observerKey]||[],e[a.observerKey].push(b));this.observers.push(b);!0===a.doNotDelete&&this.initialObservers.push({e:q,o:g,f:h,cfg:a})}},deleteObserverByKey:function(q){e[q]&&($.each(e[q],
function(g,h){gx.fx.obs.deleteObserver(h.e,h.o,h.f)}),e[q]=[])},deleteObserver:function(q,g,h){new gx.thread.Mutex(this,this.deleteObserverSync,[q,g,h])},deleteObserverSync:function(q,g,h){q=this.indexOf(q,g,h);0<=q&&this.observers.splice(q,1)},removeAll:function(){this.observers=this.initialObservers.slice()},indexOf:function(q,g,h){for(var a=this.observers.length,b=0;b<a;b++){var c=this.observers[b];if(c&&c.e==q&&c.o==g&&c.f==h)return b}return-1},notify_count:0,notify:function(q,g,h){g||(g=[]);
var a=this.observers.length;this.notify_count+=1;for(var b=[],c,d=0;d<a;d++){var f=this.observers[d];if(f&&f.e==q&&!f.removed)try{f.cfg&&f.cfg.single&&(f.removed=!0),c=f.f.apply(f.o,g),f.cfg&&f.cfg.async&&b.push(c)}catch(p){gx.dbg.logEx(p,"gxfx.js","gx.obs.notify")}}gx.$.when.apply($,b).then(function(){--this.notify_count;if(0===this.notify_count)for(var p=this.observers.length-1;0<=p;p--)this.observers[p].removed&&this.observers.splice(p,1);h&&h()}.closure(this))}}};
gx.fx={GX_DATA_SUGGEST_LENGTH:"data-gx-suggest-length",GX_DATA_SUGGEST:"data-gx-suggest",delayedSuggest:function(){gx.$.each(gx.suggestControls,function(e,q){gx.fx.installSuggest(q,!0)})},installSuggest:function(e,q){if(!q&&document.readyState&&"complete"!=document.readyState)gx.suggestControls[e.id]=e;else try{var g=gx.O.getValidStructFld(e.id);if(g&&!gx.lang.emptyObject(g.gxsgprm)){var h=0<g.grid?gx.fn.currentGridRowImpl(g.grid):"main",a=g.gxsgprm;a.installed||(a.installed={});a.installed[h]||(gx.ajax.suggest(gx.O,
a[1],e.id,a[0],a[3],a[2]),a.installed[h]=!0,$(e).attr(gx.fx.GX_DATA_SUGGEST,"true"),$(e).attr(gx.fx.GX_DATA_SUGGEST_LENGTH,$(e).val().length))}}catch(b){gx.dbg.logEx(b,"gxfx.js","installSuggest")}},updateSuggestParms:function(e){if(e)for(var q=e.length,g=0;g<q;g++){var h=gx.fn.validStruct(e[g]);h&&"function"==typeof h.c2v&&h.c2v()}},firesuggest:function(e,q,g,h){gx.evt.isComposing?gx.evt.firesuggestdelayed||(gx.evt.firesuggestdelayed=!0,gx.evt.doAfterComposing(function(){gx.fx.firesuggestimpl(e,q,
g,h)},this)):gx.fx.firesuggestimpl(e,q,g,h)},firesuggestimpl:function(e,q,g,h){gx.evt.firesuggestdelayed=!1;this.updateSuggestParms(h);if(e.textbox.value)return q.requestSuggestions(e.sdtParms,function(){q.values?e.autosuggest(q.values,g):e.hideSuggestions();delete gx.fx.delayedValidation;gx.fx.obs.notify("gx.validation")});if(""===e.textbox.value)gx.evt.onchange_impl(e.textbox);delete gx.fx.delayedValidation;gx.fx.obs.notify("gx.validation")},autoSuggestControl:function(e,q,g,h,a,b){this.cur=-1;
this.layer=this.IFrameControl=null;this.provider=q;this.textbox=e;"undefined"==typeof this.textbox.GXonblur&&(this.textbox.GXonblur=e.onblur);this.ControlRefresh=g;this.typeahead=h;this.suggestParms=a||[];this.sdtParms=b||[];this.requestSuggestions=function(c,d,f){gx.fx.delayedValidation=!0;var p=this.suggestParms;this.timer&&window.clearTimeout(this.timer);this.timer=window.setTimeout(function(){gx.fx.firesuggest(c,d,f,p)},400)};this.hideSuggestions=function(){$(this.IFrameControl).hide();$(this.layer).hide()};
this.highlightSuggestion=function(c){for(var d=this.layer.childNodes.length,f=0;f<d;f++){var p=this.layer.childNodes[f];p==c?p.className="current":"current"==p.className&&(p.className="")}};this.init=function(){var c=function(d){d||(d=window.event);this.handleKeyUp(d)};gx.evt.attach(this.textbox,"keyup",c.closure(this));gx.evt.attach(this.textbox,"keydown",function(d){d||(d=window.event);this.handleKeyDown(d)}.closure(this));gx.evt.attach(this.textbox,"blur",function(){this.hideSuggestions();this.textbox.GXonblur()}.closure(this));
gx.util.browser.isFirefox()&&gx.evt.attach(this.textbox,"input",c.closure(this));this.createDropDown()};this.nextSuggestion=function(){var c=this.layer.childNodes;0<c.length&&(this.cur=this.cur<c.length-1?this.cur+1:0,c=c[this.cur],this.highlightSuggestion(c),this.pickvalue(c.firstChild.nodeValue))};this.previousSuggestion=function(){var c=this.layer.childNodes;0<c.length&&(this.cur=0<this.cur?this.cur-1:c.length-1,c=c[this.cur],this.highlightSuggestion(c),this.pickvalue(c.firstChild.nodeValue))};
this.selectRange=function(c,d){if(this.textbox.createTextRange){var f=this.textbox.createTextRange();f.moveStart("character",c);f.moveEnd("character",d-this.textbox.value.length);f.select()}else this.textbox.setSelectionRange&&this.textbox.setSelectionRange(c,d);gx.csv.stopOnError&&this.textbox.focus()};this.showSuggestions=function(c){this.cur=-1;this.setupLayer();gx.dom.shouldPurge()&&gx.dom.purge(this.layer,!0);this.layer.innerHTML="";if(!this.IFrameControl){var d=!1;this.IFrameControl=gx.dom.byId("gxAutosuggestIFrame");
this.IFrameControl||(d=!0,this.IFrameControl=document.createElement("IFRAME"),this.IFrameControl.src="about:blank",this.IFrameControl.id="gxAutosuggestIFrame");$(this.IFrameControl).css({zIndex:1,display:"none",position:"absolute"});this.IFrameControl.frameBorder="0";d&&document.body.appendChild(this.IFrameControl)}for(var f=c.length,p=0;p<f;p++)d=document.createElement("div"),d.appendChild(document.createTextNode(c[p].d)),d.style.width=this.textbox.offsetWidth,this.layer.appendChild(d);this.layer.style.left=
this.getLeft()+"px";this.layer.style.top=this.getTop()+this.textbox.offsetHeight+"px";this.layer.style.zIndex=2;this.IFrameControl.style.top=this.layer.style.top;this.IFrameControl.style.left=this.layer.style.left;this.IFrameControl.style.height=this.layer.offsetHeight;this.IFrameControl.style.width=this.layer.offsetWidth;$([this.IFrameControl,this.layer]).show()};this.typeAhead=function(c){if(this.textbox.createTextRange||this.textbox.setSelectionRange){var d=this.textbox.value.length;this.pickvalue(c);
c=c.length;d<c&&this.selectRange(d,c)}};this.pickvalue=function(c,d){for(var f=this.aSuggestions.length,p=0;p<f;p++)if(this.aSuggestions[p].d==c){this.textbox.value=c;!0===d&&gx.evt.fireEvent(this.textbox,"input");gx.evt.onchange_impl(this.textbox,void 0,!0);break}};this.autosuggest=function(c,d){this.aSuggestions=c;c=this.aSuggestions.length;if(d&&null!=this.aSuggestions&&1==c)this.typeAhead(this.aSuggestions[0].d);else if(this.textbox==gx.csv.lastControl&&null!=this.aSuggestions&&0<c&&(1==c&&this.aSuggestions[0].d!=
this.textbox||1<c)){this.showSuggestions(this.aSuggestions);return}this.hideSuggestions()};this.createDropDown=function(){var c=!1;this.layer=gx.dom.byId("gxAutosuggestElement");this.layer||(c=!0,this.layer=document.createElement("div"),this.layer.className="suggestions",this.layer.id="gxAutosuggestElement");this.setupLayer();c&&document.body.appendChild(this.layer)};this.setupLayer=function(){$(this.layer).hide();this.textbox.offsetWidth&&$(this.layer).width(this.textbox.offsetWidth);this.layer.onmousedown=
this.layer.onmouseup=this.layer.onmouseover=function(c){c=c||window.event;var d=gx.evt.source(c);"mousedown"==c.type?(gx.evt.cancel(c,!0),this.pickvalue(d.firstChild.nodeValue,!0),this.hideSuggestions(),window.setTimeout(function(){gx.fn.setFocus(this.textbox)},100)):"mouseover"==c.type?this.highlightSuggestion(d):this.textbox.focus()}.closure(this)};this.getLeft=function(){for(var c=this.textbox,d=0;null!=c&&"BODY"!=c.tagName;)d+=c.offsetLeft,c=c.offsetParent;for(c=this.textbox;null!=c&&"BODY"!=
c.tagName;)d-=c.scrollLeft,c=c.parentNode;return d};this.getTop=function(){for(var c=this.textbox,d=0;null!=c&&"BODY"!=c.tagName;)d+=c.offsetTop,c=c.offsetParent;for(c=this.textbox;null!=c&&"BODY"!=c.tagName;)d-=c.scrollTop,c=c.parentNode;return d};this.handleKeyDown=function(c){switch(c.keyCode){case 38:this.previousSuggestion();break;case 40:this.nextSuggestion();break;case 13:this.hideSuggestions()}};this.handleKeyUp=function(c){c=c.keyCode;if(9==c)this.hideSuggestions();else if(8==c||46==c)this.requestSuggestions(this,
this.provider,!1);else if(!(32>c||33<=c&&46>c||112<=c&&123>=c))this.requestSuggestions(this,this.provider,this.typeahead);else if(0===c){c=this.textbox.value.length;var d=parseInt($(this.textbox).attr(gx.fx.GX_DATA_SUGGEST_LENGTH)||"0",10);c!==d&&this.requestSuggestions(this,this.provider,this.typeahead)}$(this.textbox).attr(gx.fx.GX_DATA_SUGGEST_LENGTH,this.textbox.value.length)};this.init()},suggestProvider:function(e,q,g,h){this.requestSuggestions=function(a,b,c,d){var f,p=gx.ajax.gxObjectUrl(e)+
"?",r="gxajaxSuggest_"+h,k=q.length;for(f=0;f<k;f++)r+=","+encodeURIComponent(gx.fn.evalCtxScope(e,q[f]));r+=","+encodeURIComponent(void 0===d?gx.fn.getControlValue_impl(g):d);k=a.length;for(f=0;f<k;f++)r+=","+encodeURIComponent(gx.fn.evalCtxScope(e,a[f]));p+=gx.ajax.encryptParms(e,r);gx.http.doCall({method:"GET",url:p,handler:function(u,x){u=gx.json.evalJSON(x);this.values=gx.fx.returnSuggestValues(this.VarRefresh,u[0]);b()},error:c,obj:this})}},returnSuggestValues:function(e,q){return q},addElement:function(e,
q,g){if(!this.elementExists(e,q,g)){var h=q.id;!0===g&&(h+=q.types.sort().join(""));e.splice(0,0,q);e[h]=q}},elementExists:function(e,q,g){var h=q.id;!0===g&&(h+=q.types.sort().join(""));return e[h]?!0:!1},deleteElement:function(e,q,g){var h=q;g&&(h+=g.sort().join(""));e[h]&&delete e[h];h=e.length;for(var a=0;a<h;a++){var b=e[a];if(b.id==q)if(g){if(this.matchingTypes(g,b.types)){e.splice(a,1);break}}else{e.splice(a,1);break}}return e},matchingTypes:function(e,q){for(var g=q.length,h=0;h<g;h++){for(var a=
!1,b=e.length,c=0;c<b;c++)q[h].toLowerCase()==e[c].toLowerCase()&&(a=!0);if(!a)return!1}return!0},findControl:function(e,q,g,h){q=gx.dom.el(g);if(null!=q&&"none"!==$(q).css("display"))return q;q=gx.fn.getRONode(g,!1);if(h&&null!=q&&$(q).is(":visible"))return q;q=gx.dom.el("gxHTMLWrp"+g);if(null!=q)return q;h&&!e.id&&"A"===e.tagName&&(e=e.parentNode);g="(^"+(h?"("+gx.fn.getRONodePrefix()+")?":"")+"v?"+g+"_(?:(?:[0-9]){4})+$)";g=new RegExp(g);return null!=e&&g.test(e.id)?e:null},isUnderMouse:function(e){var q=
gx.evt.mouse.x,g=gx.evt.mouse.y,h=gx.dom.position(e),a=gx.dom.dimensions(e);return q>=h.x&&q<=h.x+a.w&&g>=h.y&&g<=h.y+a.h||"DIV"==e.tagName&&0===a.w&&0===a.h&&e.firstChild&&(h=gx.dom.position(e.firstChild),a=gx.dom.dimensions(e.firstChild),q>=h.x&&q<=h.x+a.w&&g>=h.y&&g<=h.y+a.h)?!0:!1},dom:{generics:[],dblclicks:[],getEventHandlers:function(e){return"dblclick"==e?this.dblclicks:this.generics},addEventHandler:function(e,q,g,h){g=gx.lang.emptyObject(e)?g:e.CmpContext+g;e={id:q+g,cId:g,type:q,obj:e,
hdl:h};q=this.getEventHandlers(q);gx.fx.addElement(q,e,!1)},deleteEventHandlers:function(e){for(var q=[this.dblclicks,this.generics],g=q.length,h=0;h<g;h++){for(var a=[],b=q[h],c=b.length,d=0;d<c;d++){var f=b[d];f.obj==e&&a.push(f)}c=a.length;for(d=0;d<c;d++)gx.fx.deleteElement(b,a[d].id)}},hasEventHandler:function(e,q){var g=gx.evt.source(q);e=this.getEventHandlers(e);for(var h=e.length,a=!1,b=0;b<h&&!a;b++){var c=e[b];c=gx.fx.findControl(g,c.obj,c.cId,!0);null!=c&&(a=q.currentTarget===c||gx.fx.isUnderMouse(c))}return a},
delayedDispatch:function(e){return gx.fx.dom.hasEventHandler("dblclick",e)},raiseEvent:function(e,q){q=gx.evt.source(q);var g=$(q),h=gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR;"dblclick"==e&&(clearTimeout(parseInt(g.attr(h),10)),g.removeAttr(h));e=this.getEventHandlers(e);g=e.length;for(h=0;h<g;h++){var a=e[h],b=gx.fx.findControl(q,a.obj,a.cId,!0);null!=b&&gx.fx.isUnderMouse(b)&&a.hdl.call(a.obj)}},highlight:function(e,q,g){var h=gx.color.fromRGB(q[0],q[1],q[2]),a=gx.dom.getStyle(e,"backgroundColor"),
b="transparent"==a||"rgba(0, 0, 0, 0)"==a;return{play:function(){e.style.backgroundColor=h.Html;setTimeout(this.end,g)},end:function(){var c=a;b&&(c="transparent");e.style.backgroundColor=c}}}},obs:new gx.util.Observable,dnd:{obj:null,dragCtrl:null,clonCtrl:null,sources:[],targets:[],dropCtrl:null,noDropCtrl:null,toHdl:null,drag:function(e,q,g){g&&(gx.evt.setEventRow(e,this.dragCtrl),this.obj=g.call(e,this.dragCtrl),this.obj.gxDragTypes=q)},drop:function(e,q,g){g&&g.call(q,e,this.dragCtrl,this.obj)},
noDrop:function(){var e=this.noDropCtrl;null!=e&&e.gxDndClassName&&(e.className=e.gxDndClassName+"NoAcceptDrag")},out:function(){var e=this.dropCtrl;e&&e.gxClassName&&(e.className=e.gxClassName);this.dropCtrl=null;e=this.noDropCtrl;null!=e&&e.gxClassName&&(e.className=e.gxClassName);this.noDropCtrl=null},over:function(){var e=this.dropCtrl;null!=e&&e.gxDndClassName&&(e.className=e.gxDndClassName+"AcceptDrag")},deleteClonControl:function(){null!=this.clonCtrl&&gx.dom.removeControlSafe(this.clonCtrl);
this.clonCtrl=null},restoreControl:function(){var e=this.clonCtrl;null!=e&&(null==this.toHdl&&(e.dropLeft=parseFloat(e.style.left||"0"),e.dropTop=parseFloat(e.style.top||"0"),this.toHdl=setInterval("gx.fx.dnd.restoreControl()",2)),this.controlRestored()?(clearInterval(this.toHdl),this.toHdl=null,this.deleteClonControl()):(e=this.nextCoords(),this.moveDragControl(e.X,e.Y)))},nextCoords:function(){var e=this.clonCtrl,q=parseFloat(e.style.left||"0"),g=parseFloat(e.style.top||"0");q>=g?(--q,g=e.dropTop-
(e.dropTop-e.originalTop)*(e.dropLeft-q)/(e.dropLeft-e.originalLeft)):(--g,q=e.dropLeft-(e.dropTop-g)*(e.dropLeft-e.originalLeft)/(e.dropTop-e.originalTop));q<=e.originalLeft&&(q=e.originalLeft);g<=e.originalTop&&(g=e.originalTop);return{X:q,Y:g}},moveControl:function(e){if(null==this.clonCtrl){var q=document.createElement("DIV");q.style.position="absolute";e.gxDndClassName&&(q.className=e.gxDndClassName+"Dragging");gx.dom.shouldPurge()&&gx.dom.purge(q,!0);q.innerHTML=this.dragInfo();gx.fn.setOpacity(50,
q);document.body.appendChild(q);q.originalLeft=gx.evt.mouse.x-10;q.originalTop=gx.evt.mouse.y-10;q.diffLeft=10;q.diffTop=10;this.clonCtrl=q}this.moveDragControl(gx.evt.mouse.x,gx.evt.mouse.y)},controlRestored:function(){var e=this.clonCtrl;if(null==e)return!0;var q=parseFloat(e.style.left||"0"),g=parseFloat(e.style.top||"0")-e.originalTop;return 0>=q-e.originalLeft&&0>=g?!0:!1},moveDragControl:function(e,q){try{var g=this.clonCtrl;null!=g&&(g.style.left=e-g.diffLeft+"px",g.style.top=q-g.diffTop+"px")}catch(h){this.deleteClonControl()}},
dragInfo:function(){if(null!=this.obj){var e="",q="",g;for(g in this.obj){if("gxDragTypes"!=g){var h=[e];if("function"==typeof this.obj[g])continue;q+=g+": "+this.obj[g]+"</br>";e=h[0]}if(5<=e){q+="...";break}e++}return q}return""},deleteHandlers:function(e){gx.thread.Mutex(this,this.deleteHandlersSync,[e])},deleteHandlersSync:function(e){var q=[],g,h=this.sources.length;for(g=0;g<h;g++){var a=this.sources[g];a.obj!=e&&q.push(a)}this.sources=q;q=[];h=this.targets.length;for(g=0;g<h;g++)a=this.targets[g],
a.obj!=e&&q.push(a);this.targets=q},addSource:function(e,q,g,h,a){gx.thread.Mutex(this,this.addSourceSync,[e,q,g,h,a])},addSourceSync:function(e,q,g,h,a){q=gx.lang.emptyObject(e)?q:e.CmpContext+q;gx.fx.addElement(this.sources,{id:q,cssClass:g,types:h,obj:e,hdl:a},!1)},addTarget:function(e,q,g,h,a){gx.thread.Mutex(this,this.addTargetSync,[e,q,g,h,a])},addTargetSync:function(e,q,g,h,a){q=gx.lang.emptyObject(e)?q:e.CmpContext+q;gx.fx.addElement(this.targets,{id:q,cssClass:g,types:h,obj:e,hdl:a},!0)},
deleteSource:function(e){gx.thread.Mutex(this,this.deleteSourceSync,[e])},deleteSourceSync:function(e){this.sources=gx.fx.deleteElement(this.sources,e)},getSource:function(e){e=gx.evt.source(e);for(var q=this.sources.length,g=0;g<q;g++){var h=this.sources[g],a=this.dragCtrl=gx.fx.findControl(e,h.obj,h.id);if(null!=a&&(a.gxClassName=a.className,a.gxDndClassName=h.cssClass,gx.fx.isUnderMouse(a)))return h}return this.obj=this.dragCtrl=null},getTarget:function(e,q){e=gx.evt.source(e);for(var g=this.targets.length,
h=0;h<g;h++){var a=this.targets[h],b=gx.fx.findControl(e,a.obj,a.id);if(null!=b&&(b.gxClassName=b.className,b.gxDndClassName=a.cssClass,gx.fx.isUnderMouse(b))){if(gx.fx.matchingTypes(q,a.types))return this.noDropCtrl=null,this.dropCtrl=b,a;this.out();this.noDropCtrl=b;this.noDrop();return null}}this.out();return null}},notifications:{queuedEvents:[],initialize:function(e){e.notifications||(e.notifications=[],gx.fx.obs.addObserver("gx.ws.onMessage.notifications",e,gx.fx.notifications.notify.closure(e),
{single:!1,doNotDelete:e.IsMasterPage}),gx.fx.obs.addObserver("gx.onafterevent",e,gx.fx.notifications.fireQueuedEvents.closure(e),{single:!1,doNotDelete:e.IsMasterPage}));if(!this.webSocket){e.fullAjax||gx.dbg.write('Warning: WebNotifications are not supported with "Web User Experience": "Previous versions". You must use Smooth.');e=gx.fn.getHidden("GX_WEBSOCKET_PORT");var q=gx.basePath&&0<gx.basePath.length?"/":"";this.webSocket=new gx.webSocket({port:e,clientId:gx.fn.getHidden("GX_WEBSOCKET_ID"),
wsProtocol:"https:"===location.protocol?"wss://":"ws://",host:e?location.hostname+":"+e+"/":location.host+"/",resourceUrl:q+"gxwebsocket?",basePath:gx.basePath,namespace:"notifications"})}},deinit:function(){gx.fx.notifications.queuedEvents=[]},addTracker:function(e,q,g,h,a,b){gx.fx.notifications.initialize(e);e.notifications[q||""]={gxO:e,handler:a,eventName:g,type:h,noWait:b}},notify:function(e){e=gx.json.evalJSON(e);var q=this.notifications[e.GroupName||""];q&&(gx.fx.notifications.queuedEvents.push({notifObj:q,
data:e}),(q.noWait||gx.isInputEnabled())&&gx.fx.notifications.fireQueuedEvents())},fireQueuedEvents:function(){for(var e=0;e<gx.fx.notifications.queuedEvents.length;e++){var q=gx.fx.notifications.queuedEvents[e];if(!q.executed){gx.fx.notifications.queuedEvents.splice(e--,1);var g=q.notifObj.gxO;q.executed=!0;if(gx.lang.emptyObject(q.data.Object)||q.data.Object.toUpperCase()==g.ServerClass.toUpperCase()){var h=q.notifObj.type,a=q.notifObj.eventName;if(a){var b=g.isServerEvent(a),c={};c[h[0][0]]=q.data;
g.setEventParameters(q.notifObj.type,c);gx.evt.dispatcher.dispatch(g.getServerEventName(a),g,0,0,b,void 0,void 0,!0)}else q.notifObj.handler(q.data)}}}}},ctx:{setters:[],trackers:[],deleteHandlers:function(e){gx.thread.Mutex(this,this.deleteHandlersSync,[e])},deleteHandlersSync:function(e){var q,g=[],h=this.setters.length;for(q=0;q<h;q++){var a=this.setters[q];a.obj!=e&&g.push(a)}this.setters=g;g=[];h=this.trackers.length;for(q=0;q<h;q++)a=this.trackers[q],a.obj!=e&&g.push(a);this.trackers=g},addSetter:function(e,
q,g,h,a){gx.thread.Mutex(this,this.addSetterSync,[e,q,g,h,a])},addSetterSync:function(e,q,g,h,a){q=gx.lang.emptyObject(e)?q:e.CmpContext+q;gx.fx.addElement(this.setters,{id:q,cssClass:g,types:h,obj:e,hdl:a},!1)},addTracker:function(e,q,g){gx.thread.Mutex(this,this.addTrackerSync,[e,q,g])},addTrackerSync:function(e,q,g){gx.fx.addElement(this.trackers,{id:e.CmpContext+e.IsMasterPage.toString(),cssClass:"",types:q,obj:e,hdl:g},!0)},deleteSetter:function(e){gx.thread.Mutex(this,this.deleteSetterSync,
[e])},deleteSetterSync:function(e){this.setters=gx.fx.deleteElement(this.setters,e)},notify:function(e,q,g){gx.thread.Mutex(this,this.notifySync,[e,q,g])},notifySync:function(e,q,g){if(e&&e.forcedFocus)e.forcedFocus=!1;else{var h,a=gx.lang.emptyObject,b=function(r,k){var u=gx.O;gx.setGxO(r);k();gx.setGxO(u)},c=null;if(a(q)||a(g)){var d=this.setters.length;for(h=0;h<d;h++){var f=this.setters[h];if(a(e)){if(c=gx.fx.findControl(null,f.obj,f.id),null!=c&&a(c.onfocus)&&gx.fx.isUnderMouse(c)){b.apply(this,
[f.obj,function(){gx.evt.setEventRow(f.obj,c);q=f.types;g=f.hdl.call(f.obj,c)}]);break}}else if(e.id==f.id){b.apply(this,[f.obj,function(){c=e;gx.evt.setEventRow(f.obj,c);q=f.types;g=f.hdl.call(f.obj,c)}]);break}}}if(!a(q)&&(g||""===g))for(a=this.trackers.length,h=0;h<a;h++){var p=this.trackers[h];gx.fx.matchingTypes(q,p.types)&&b.apply(this,[p.obj,function(){p.hdl.call(p.obj,null,c,g)}])}}}}};
gx.date=function(){var e=/([0-9]{1,4})\/?-?([0-9]{1,2})\/?-?([0-9]{1,4})\s?T?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?\.?([0-9]{1,3})?\s?(AM|PM)?/i,q=/([0-9]{1,2}):?([0-9]{1,2})?:?([0-9]{1,2})?[\.:]?([0-9]{1,3})?\s?(AM|PM)?/i,g=/^[0-9]{4}[/-]{1}[0-9]{2}[/-]{1}[0-9]{2}$/,h=/^([ ]*([\/|\-][ ]*[\/|\-][ ]*((00|12)(:00(:00(\.000)?)?)?[ ]*(a|am)?)?)?)?[ ]*$/i,a=new Date(0,0,0,0,0,0,0);return{UTC_Offset:(new Date).getTimezoneOffset(),clone:function(){return new Date(this.getTime())},equalsNoTime:function(b){return this.getDay()==
b.getDay()&&this.getMonth()==b.getMonth()&&this.getFullYear()==b.getFullYear()?!0:!1},toJson:function(){var b=new gx.date.gxdate("");b.assign_date(this);return b.json()},isoString:function(b){return b.toISOString()},jsonNullFormat:{Default:0,YearOne:1},gxdate:function(b,c){this.json=function(){var d=this.TimeFmt;this.TimeFmt=24;var f=this.HasTimePart,p=this.HasDatePart;this.HasDatePart=this.HasTimePart=!0;var r=this.getStringWithFmt("Y4MD")+" "+(f?this.getTimeString(!0,!0,!0,0<this.Value.getMilliseconds()):
"00:00:00");this.TimeFmt=d;this.HasTimePart=f;this.HasDatePart=p;return r};this.mapCTODFormatToPattern=function(d){return"ANSI"==d?"Y4MD":d};this.emptyDateString=function(d){return-1==d.indexOf("Y4")?gx.blankWhenEmpty?"        ":"  /  /  ":gx.blankWhenEmpty?"          ":"Y4MD"==d?"    /  /  ":"  /  /    "};this.getStringWithFmt=function(d){d=this.mapCTODFormatToPattern(d);if(0===this.Value-a)return this.emptyDateString(d);var f=d,p,r=this.FormatPos(d);if(this.JsonNullFormat===gx.date.jsonNullFormat.YearOne){var k=
p="01";var u="0001"}else p=gx.text.padl(this.Value.getDate().toString(),2,"0"),k=gx.text.padl((this.Value.getMonth()+1).toString(),2,"0"),u=gx.text.padl(this.Value.getFullYear().toString(),4,"0");f=f.replace("D",p+(3>r.DPos?"/":""));f=f.replace("M",k+(3>r.MPos?"/":""));-1==d.indexOf("Y4")?(u=u.slice(2,4),f=f.replace("Y",u+(3>r.YPos?"/":""))):f=f.replace("Y4",u+(3>r.YPos?"/":""));return f};this.getString=function(d){gx.lang.emptyObject(d)&&(d=gx.dateFormat);return this.getStringWithFmt(d)};this.toISOString=
function(){return this.Value.toISOString()};this.toString=function(){var d=this.HasTimePart?" "+this.getTimeString(!0,!0):"";return this.getString()+d};this.gxdtoc=function(d,f){return this.getStringWithFmt(this.mapCTODFormatToPattern(d)).replace("/",f)};this.getUrlVal=function(){if(gx.date.isNullDate(this))return"";if(this.HasDatePart){var d=gx.text.padl(this.Value.getDate().toString(),2,"0");var f=gx.text.padl((this.Value.getMonth()+1).toString(),2,"0");var p=gx.text.padl(this.Value.getFullYear().toString(),
4,"0")}else f=d="01",p="0001";var r=this.HasTimePart?gx.text.padl(this.Value.getHours().toString(),2,"0"):"",k=this.HasTimePart?gx.text.padl(this.Value.getMinutes().toString(),2,"0"):"",u=this.HasTimePart?gx.text.padl(this.Value.getSeconds().toString(),2,"0"):"",x=this.HasTimePart?gx.text.padl(this.Value.getMilliseconds().toString(),3,"0"):"";return p+f+d+r+k+u+x};this.getTimeString=function(d,f,p,r){if(gx.date.isNullDate(this)&&gx.blankWhenEmpty){var k="";p&&(k+="  ");d&&(k+="   ");f&&(k+="   ");
r&&(k+="    ");return k}k="";var u=this.Value.getHours();p=p||!0;12==this.TimeFmt&&12<=u?(12<u&&(u-=12),k=" PM"):12==this.TimeFmt&&(k=" AM");var x=this.HasTimePart?gx.text.padl(u.toString(),2,"0"):"",m=this.HasTimePart?gx.text.padl(this.Value.getMinutes().toString(),2,"0"):"",l=this.HasTimePart?gx.text.padl(this.Value.getSeconds().toString(),2,"0"):"",t=this.HasTimePart?gx.text.padl(this.Value.getMilliseconds().toString(),3,"0"):"";0===u&&""!==k&&(x="12");u="";p&&(u=x);d&&(u=u+":"+m);f&&(u=u+":"+
l);r&&(u=u+"."+t);return u+k};this.FormatPos=function(d){if("ANSI"==d){var f=1;var p=2;d=3}else{var r=d.indexOf("Y4");f=-1==r?d.indexOf("Y")+1:r+1;p=d.indexOf("M");0!==r&&p++;d=d.indexOf("D");0!==r&&d++}return{YPos:f,MPos:p,DPos:d}};this.assign_date=function(d){d instanceof gx.date.gxdate?(this.Value=d.Value,this.HasTimePart=d.HasTimePart,this.HasDatePart=d.HasDatePart):this.Value=void 0===d?a:d};this.toUTC=function(){if(gx.date.isNullDate(this)||"undefined"==typeof gx.StorageTimeZone||gx.StorageTimeZone==
gx.NULL_TIMEZONEOFFSET)return this;var d=new gx.date.gxdate("");d.Value.setTime(this.Value.getTime()+6E4*this.Value.getTimezoneOffset());d.HasTimePart=this.HasTimePart;d.HasDatePart=this.HasDatePart;return d};this.fromUTC=function(){if(gx.date.isNullDate(this)||"undefined"==typeof gx.StorageTimeZone||gx.StorageTimeZone==gx.NULL_TIMEZONEOFFSET)return this;var d=new gx.date.gxdate("");d.Value.setTime(this.Value.getTime()-6E4*this.Value.getTimezoneOffset());d.HasTimePart=this.HasTimePart;d.HasDatePart=
this.HasDatePart;return d};this.assign_string=function(d,f,p,r){var k=e,u=k.exec(d),x=0;if(null!=u){var m=d.indexOf(u[0]);0<m&&"."==gx.text.substring(d,m,1)&&(u=null)}if(null==u)-1!=d.indexOf("  /  /  ")&&(p=!0);else{m=u.length;for(var l=1;l<m;l++)gx.lang.emptyObject(u[l])||x++}var t=this.FormatPos(f),z=l=m=f=0,G=0,F=0,C=0;try{this.HasDatePart=!0;if(6==t.DPos+t.MPos+t.YPos&&null!=u&&3<=x){null!=u[t.YPos]&&(f=parseInt(u[t.YPos],10));if(isNaN(f))throw"InvalidDate";f<this.FYearOfCentury?f+=2E3:100>f?
f+=1900:1E3>f&&(f+=1E3);null!=u[t.MPos]&&(m=parseInt(u[t.MPos],10)-1);if(isNaN(m)||0>m||11<m)throw"InvalidDate";null!=u[t.DPos]&&(l=parseInt(u[t.DPos],10));if(isNaN(l)||0>l||l>gx.date.maxDays(m,f))throw"InvalidDate";}else this.HasDatePart=!1;this.HasTimePart=!1;t=0;null==u?(k=q,u=k.exec(d),null!=u&&(t=1,this.HasTimePart=!0)):3<x&&(t=4,this.HasTimePart=!0);if(this.HasTimePart&&!p){null!=u[t]&&(z=parseInt(u[t],10));if(gx.lang.emptyObject(u[t])||isNaN(z))throw this.HasTimePart=!1,"InvalidHour";null!=
u[t+1]&&(G=parseInt(u[t+1],10));isNaN(G)&&(G=0);null!=u[t+2]&&(F=parseInt(u[t+2],10));isNaN(F)&&(F=0);null!=u[t+3]&&(C=parseInt(u[t+3],10));isNaN(C)&&(C=0);if(!this.validTime(-1!=d.toLowerCase().indexOf("m"),z,G,F,C))throw"InvalidHour";(-1!=d.indexOf("PM")||-1!=d.indexOf("pm"))&&12>z&&(z+=12);-1==d.indexOf("AM")&&-1==d.indexOf("am")||12!=z||(z=0)}}catch(w){if(r)throw w;"InvalidDate"==w&&(C=F=G=z=l=m=f=0);"InvalidHour"==w&&(C=F=G=z=0)}this.Value=new Date(f,m,l,z,G,F,C);0<f+m+l+z+G+F+C&&(!this.HasTimePart||
p)&&this.Value.getDate()!=l&&(this.Value=new Date(Date.UTC(f,m,l,z+12,G,F,C)))};this.validTime=function(d,f,p,r,k){return d&&12<f||!d&&(24<f||24==f&&0<p+r)?!1:59>=p||59>=r||999>=k};this.compare=function(d){return"string"==typeof d?this.compare_string(d):this.compare_date(d)};this.compare_string=function(d){d=new gx.date.gxdate(d);return this.compare_date(d.Value)};this.compare_date=function(d){if(!d)return null;d=d instanceof gx.date.gxdate?d.Value:d;return this.HasTimePart?this.Value-d:this.Value.getFullYear()>
d.getFullYear()?1:this.Value.getFullYear()<d.getFullYear()?-1:this.Value.getMonth()>d.getMonth()?1:this.Value.getMonth()<d.getMonth()?-1:this.Value.getDate()>d.getDate()?1:this.Value.getDate()<d.getDate()?-1:0};this.JsonNullFormat=gx.date.jsonNullFormat.Default;this.TimeFmt=gx.timeFormat||12;this.SFmt=c||gx.dateFormat;this.FYearOfCentury=gx.centuryFirstYear||40;"string"==typeof b?this.assign_string(b,this.SFmt):this.assign_date(b)},isANSIDateTime:function(b){return"string"==typeof b&&e.test(b)?!0:
!1},isANSIDate:function(b){return"string"==typeof b&&g.test(b)?!0:!1},isLeapYear:function(b){return 0===b%400?!0:0===b%100?!1:0===b%4?!0:!1},dateObject:function(b){return b instanceof this.gxdate?b.Value:"string"==typeof b?(new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0)).Value:b instanceof Date?b:new Date},gxdateObject:function(b){if(b instanceof this.gxdate)return b;if("string"==typeof b)return new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0);if(b instanceof Date){var c=new this.gxdate("");
c.assign_date(b);return c}return new this.gxdate("")},clonedDate:function(b,c){var d=new this.gxdate("");d.assign_date(c);b instanceof this.gxdate&&(d.SFmt=b.SFmt,d.HasTimePart=b.HasTimePart,d.HasDatePart=b.HasDatePart);return d},nullDate:function(){return(new this.gxdate("")).Value},now:function(){var b=this.today();b.HasTimePart=!0;b.HasDatePart=!0;return b},today:function(){var b=new this.gxdate("");b.assign_date(new Date);return b},ctot:function(b,c){return new this.gxdate(b,c)},ctod:function(b,
c){b=new this.gxdate(b,c);b.Value.setHours(0,0,0,0);return b},ymdtod:function(b,c,d){b=new this.gxdate(b+"/"+c+"/"+d,"ANSI");b.Value.setHours(0,0,0,0);return b},ymdhmstot:function(b,c,d,f,p,r){return new this.gxdate(b+"/"+c+"/"+d+" "+f+":"+p+":"+r,"ANSI")},hour:function(b){return(new this.gxdate(b)).Value.getHours()},minute:function(b){return(new this.gxdate(b)).Value.getMinutes()},second:function(b){return(new this.gxdate(b)).Value.getSeconds()},millisec:function(b){return 864E5*b},day:function(b){return(new this.gxdate(b)).Value.getDate()},
month:function(b){return(new this.gxdate(b)).Value.getMonth()+1},year:function(b){return(new this.gxdate(b)).Value.getFullYear()},addDays:function(b,c){return this.addMill(b,this.dayToMillisec(c))},addSec:function(b,c){return this.addMill(b,this.secToMillisec(c))},addMill:function(b,c){var d=this.dateObject(b).clone(),f=new this.gxdate;f.assign_date(d);var p=d.getMilliseconds();d.setMilliseconds(p+c);return f.getString(this.isANSIDate(b)?"Y4MD":-1==gx.dateFormat.indexOf("Y4")?gx.dateFormat.replace("Y",
"Y4"):gx.dateFormat)},secDiff:function(b,c){return this.millisecToSec(this.milliDiff(b,c))},daysDiff:function(b,c){return this.millisecToDay(this.milliDiff(b,c))},milliDiff:function(b,c){b=this.gxdateObject(b);c=this.gxdateObject(c);b=b.Value.valueOf();c=c.Value.valueOf();return b-c},dayToMillisec:function(b){return 864E5*b},secToMillisec:function(b){return 1E3*b},millisecToDay:function(b){return b/24/60/60/1E3},millisecToSec:function(b){return b/1E3},dateParm:function(b){return"string"==typeof b?
new this.gxdate(b):b},urlDate:function(b,c){b="undefined"!=typeof b.value?b.value:gx.dom.spanValue(b)||b;c=new this.gxdate(b,c);return this.isNullDate(c)?"":c.Value.getFullYear().toString()+gx.text.padl((c.Value.getMonth()+1).toString(),2,"0")+gx.text.padl(c.Value.getDate().toString(),2,"0")},urlDateTime:function(b,c){b="undefined"!=typeof b.value?b.value:gx.dom.spanValue(b)||b;c=new this.gxdate(b,c);return c.HasDatePart?this.isNullDate(c)?"":c.Value.getFullYear().toString()+gx.text.padl((c.Value.getMonth()+
1).toString(),2,"0")+gx.text.padl(c.Value.getDate().toString(),2,"0")+gx.text.padl(c.Value.getHours().toString(),2,"0")+gx.text.padl(c.Value.getMinutes().toString(),2,"0")+gx.text.padl(c.Value.getSeconds().toString(),2,"0")+(0===c.Value.getMilliseconds()?"":gx.text.padl(c.Value.getMilliseconds().toString(),3,"0")):"00010101"+gx.text.padl(c.Value.getHours().toString(),2,"0")+gx.text.padl(c.Value.getMinutes().toString(),2,"0")+gx.text.padl(c.Value.getSeconds().toString(),2,"0")},isNullDate:function(b){b instanceof
this.gxdate&&(b=b.Value);var c=this.nullDate();return c.getFullYear()!=b.getFullYear()||c.getMonth()!=b.getMonth()||c.getDate()!=b.getDate()||c.getHours()!=b.getHours()||c.getMinutes()!=b.getMinutes()||c.getSeconds()!=b.getSeconds()||c.getMilliseconds()!=b.getMilliseconds()?!1:!0},dtoc:function(b,c,d){return(new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0)).gxdtoc(c,d)},dttoc:function(b,c,d){b=new this.gxdate(b,this.isANSIDateTime(b)?"Y4MD":void 0);var f=gx.dateFormat,p="";0<c&&(8<c&&-1==f.indexOf("Y4")&&
(f=f.replace("Y","Y4")),p=b.getStringWithFmt(f)+" ");return 0<d?p+b.getTimeString(3<d,8<=d,1<d,12<=d):p},nulldate_toc:function(b,c){var d=new this.gxdate("");d.HasTimePart=!0;d.HasDatePart=!0;var f=gx.dateFormat,p="";0<b&&(8<b&&-1==f.indexOf("Y4")&&(f=f.replace("Y","Y4")),p=d.getStringWithFmt(f)+" ");return 0<c&&!gx.blankWhenEmpty?p+d.getTimeString(3<c,8<=c,1<c,12<=c):p},addyr:function(b,c){return this.addmth(b,12*c)},addmth:function(b,c){var d=this.gxdateObject(b);b=new Date(this.dateObject(b).getTime());
var f=b.getDate();b.setDate(1);b.setMonth(b.getMonth()+1*c);b.setDate(Math.min(f,this.maxDays(b.getMonth(),b.getFullYear())));return this.clonedDate(d,b)},dtadd:function(b,c){var d=this.gxdateObject(b);b=new Date(this.dateObject(b).getTime());var f=b.getMilliseconds();b.setMilliseconds(f+1E3*c);return this.clonedDate(d,b)},dtdiff:function(b,c){b=this.dateObject(b);c=this.dateObject(c);return(b-c)/1E3},maxDays:function(b,c){return[31,this.isLeapYear(c)?29:28,31,30,31,30,31,31,30,31,30,31][b]},eom:function(b){var c=
this.gxdateObject(b);b=this.dateObject(b);b=new Date(b.getTime());var d=this.maxDays(b.getMonth(),b.getFullYear());b.setDate(d);return this.clonedDate(c,b)},dow:function(b){b=this.dateObject(b);return b.equalsNoTime(this.nullDate())?0:b.getDay()+1},age:function(b,c){b=this.dateObject(b);c=this.dateObject(c);var d=this.nullDate();if(b.equalsNoTime(d)||c.equalsNoTime(d)||b.equalsNoTime(c))return 0;if(c>=b){d=36E5*c.getUTCHours()+6E4*c.getUTCMinutes()+1E3*c.getUTCSeconds()-(36E5*b.getUTCHours()+6E4*
b.getUTCMinutes()+1E3*b.getUTCSeconds());if(c.getUTCDate()>b.getUTCDate()||c.getUTCDate()==b.getUTCDate()&&0<=d)d=new Date(Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds()));else for(d=new Date(Date.UTC(c.getUTCFullYear(),c.getUTCMonth()-1,b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds())),c=c.getUTCMonth()-1,-1==c&&(c=11);d.getUTCMonth()!=c;)d.setUTCDate(d.getUTCDate()-1);return b=d.getUTCMonth()>=b.getUTCMonth()?d.getUTCFullYear()-
b.getUTCFullYear():d.getUTCFullYear()-1-b.getUTCFullYear()}return 0},valid_date:function(b,c,d,f,p,r,k,u){var x=k||!1,m=!1;r=b.value;k=d;var l="^[ ]*(",t=0<c?"GXM_invaliddate":"GXM_invalidtime";var z=gx.num.replaceFullWidthNumerals(r);z=z.split("\n")[0];d="YMD"==d?1:0;p=12==p?1:0;if(h.test(z))m=!0,r=z="";else if(0<c&&(4===z.length||5===z.length&&"/"===z[2])){var G=(new Date).getFullYear().toString().substring(10===c?0:2);z=1===d?G+z:z+G}l=0<c?8==c?0===d?l+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{2})":
l+"([0-9]{2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":0===d?x?l+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{4})":l+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{2,4})":x?l+"([0-9]{4})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":l+"([0-9]{2,4})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":l+"( )?( )?( )?";0<f&&(l+="(",0<c&&(l+="[ ]*"),l+="([0-9]{1,2})",l=2<f?l+"(:?([0-9]{1,2}))?":l+"(( )?)?",l=5<f?l+"(:?([0-9]{1,2}))?":l+"(( )?)?",l=8<f?l+"(\\.?([0-9]{1,3}))?":l+"(( )?)?",l=(1==p?l+"[ ]*(a|am|p|pm)?":l+"(( )?)?")+")?");
d=new RegExp(l+")?[ ]*$","i");if(d.test(z)){x=z.match(d);0<c?(d="/",0<z.indexOf("-")&&(d="-"),x[2]?d=x[2]+d+x[3]+d+x[4]:(d=1==u?"        ":"  "+d+"  "+d+"  ",10==c&&(d+="  "))):d="";0<f&&(0<c&&(d+=" "),1!=u||x[6]||x[8]||x[10]||x[12]?(x[6]?d+=x[6]:m?(u=z.match(h),d=u[4]?d+u[4]:d+(1==p?"12":"00")):d+=1==p?"12":"00",2<f&&(d=x[8]?d+":"+x[8]:d+":00"),5<f&&(d=x[10]?d+":"+x[10]:d+":00"),8<f&&(d=x[12]?d+"."+x[12]:d+".000"),1==p&&(d="p"==(x[13]?x[13].substr(0,1):"a").toLowerCase()?d+" PM":d+" AM")):d+="        ");
p=new this.gxdate("",k);try{p.assign_string(d,k,0>=f,!0),""!==gx.text.trim(d)&&(d=this.formatDateTime(f,c,k,p))}catch(F){return gx.fn.alert(b,gx.getMessage(t)),gx.csv.setFormatError(b),!1}if(d!=r){b.value=d;if(-1!=navigator.userAgent.indexOf("Firefox/2"))b.onchange();(c=gx.O.getValidStructFld(b))&&gx.O.refreshDependantGrids(c)}gx.csv.setFormatError(b,!1);return!0}gx.fn.alert(b,gx.getMessage(t));gx.csv.setFormatError(b);return!1},formatDateTime:function(b,c,d,f){var p="";0<b&&f.HasTimePart&&(p=f.getTimeString(4<=
b,8<=b,void 0,12<=b));b=d;8<c&&-1==b.indexOf("Y4")&&(b=b.replace("Y","Y4"));return 0<c?f.getStringWithFmt(b)+(f.HasTimePart?" "+p:""):f.HasTimePart?p:""},_init:function(){Date.prototype.equalsNoTime=this.equalsNoTime;Date.prototype.clone=this.clone;Date.prototype.json=this.toJson}}}();
gx.text={stringBuffer:function(e){this.capacity=e||10;this.buffer=[];this.append=function(q){this.buffer.push(q);return this};this.clear=function(){delete this.buffer;this.buffer=[]};this.toString=function(){return 0===this.buffer.length?"":this.buffer.join("")};this.length=function(){return this.toString().length}},format:function(){for(var e=arguments[0],q=arguments.length,g=1;g<q;g++)e=e.replace("%"+g,gx.text.rtrim(arguments[g].toString()));return e},formatString:function(e,q,g,h){if(g)return gx.text.padl("",
q,"*");if(!gx.lang.emptyObject(h)&&this.startsWith(h,"@")&&0<h.indexOf("!")){q="";g=this.padr("",e?e.length:0,"!");h=this.replaceAll(g,"!"," ");if(e)for(var a=0,b=0,c;a<h.length&&b<e.length;)c=e[b],this.isSeparator(g[a])?(c==g[a]?(b++,q+=c):q+=h[a],a++):(q+=this.getCaret(g,c,a,q),a++,b++);else q=h;return gx.text.rtrim(q)}return e},getCaret:function(e,q,g,h){switch(e[g]){case "9":if(!isNaN(q))return q;break;case "X":return q;case "A":case "M":case "!":return q.toUpperCase();case "Z":if("1"<=q&&"9">=
q)return q;if("0"==q){e=!0;for(q=0;q<g;q++)if(" "!=h[q]){e=!1;break}if(!e)return"0"}}return" "},isSeparator:function(e){return"9"!=e&&"X"!=e&&"!"!=e&&"Z"!=e&&"A"!=e&&"M"!=e},replaceAll:function(e,q,g){return-1!=e.toString().indexOf(q)?String(e).split(q).join(g):e},charReplace:function(e,q,g){for(var h="",a=e.length,b=0;b<a;b++){for(var c=!1,d=q.length,f=0;f<d;f++)if(e.charAt(b)==q[f]&&f<g.length){h+=g[f];c=!0;break}!1===c&&(h+=e.charAt(b))}return h},length:function(e){return e.length},upper:function(e){return e.toUpperCase()},
lower:function(e){return e.toLowerCase()},padr:function(e,q,g){var h=q-e.length;if(1>h)return e.substring(0,q);for(q=0;q<h;q++)e+=g;return e},padl:function(e,q,g){var h=q-e.length;if(1>h)return e.substring(0,q);q="";for(var a=0;a<h;a++)q+=g;return q+e},ltrimstr:function(e,q,g){return this.ltrim(gx.num.str(e,q,g))},ltrim:function(e){return e.toString().replace(/^ */,"")},rtrim:function(e){return e.toString().replace(/ *$/,"")},trim:function(e){return this.rtrim(this.ltrim(e))},chr:function(e){return String.fromCharCode(e)},
like:function(e,q){if(null===q)return!1;q=q.replace(/([\.\\\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:\-])/g,"\\$1");return(new RegExp(q.replace(/%/g,".*").replace(/_/g,"."))).test(e)},compare:function(e,q){return this.rtrim(e).localeCompare(this.rtrim(q))},concat:function(e,q,g){return this.rtrim(e)+g+q},space:function(e){for(var q="",g=0;g<e;g++)q+=" ";return q},substring:function(e,q,g){return 0>g?e.toString().substring(q-1):e.toString().substring(q-1,q-1+g)},tostring:function(e){return e.toString()},toformattedstring:function(e){return e.toString().replace(".",
gx.decimalPoint)},newline:function(){return"\n"},escapeMapping:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escapeRegex:{start:/["\\\x00-\x1f]/,end:/([\x00-\x1f\\"])/g},escapeFn:function(e,q){if(e=gx.text.escapeMapping[q])return e;e=q.charCodeAt();return"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16)},escapeString:function(e){return this.escapeRegex.start.test(e)?'"'+e.replace(this.escapeRegex.end,this.escapeFn)+'"':'"'+e+'"'},indexOf:function(e,q,g){if(g>
e.length)return 0;0>=g&&(g=1);return e.indexOf(q,g-1)+1},lastIndexOf:function(e,q,g){if(g>e.length)return 0;0>=g&&(g=e.length);return e.lastIndexOf(q,g-1)+1},endsWith:function(e,q){return-1!==e.indexOf(q,e.length-q.length)},startsWith:function(e,q){return 1==this.indexOf(e,q)},contains:function(e,q){return 0<this.indexOf(e,q)},charAt:function(e,q){return e.charAt(q-1)}};
gx.num=function(){var e=/[\uFF10-\uFF19]|[\uFF0C-\uFF0E]|\u2015|\u30FC|\uFF0F/g,q=function(g,h,a,b){var c=gx.lang.instanceOf,d="undefined"==typeof gx.num.dec?null:gx.num.dec.bigDecimal,f=gx.thousandSeparator,p=gx.decimalPoint;"string"==typeof a&&(a=gx.num.parseFloat(a,f,p));"string"==typeof b&&(b=gx.num.parseFloat(b,f,p));return c(a,d)&&c(b,Number)?a[g](new d(b.toString())).toString():c(a,Number)&&c(b,d)?(new d(a.toString()))[g](b).toString():c(a,Number)&&c(b,Number)||"undefined"==typeof gx.num.dec?
h(a,b):a[g](b)};return{str:function(g,h,a){if("string"===typeof g)return g;"undefined"==typeof h&&(h=10);if("undefined"==typeof a||h-1<=a)a=0;g=g.toFixed(a);return g.length<=h?gx.text.padl(g,h," "):gx.text.padr("",h,"*")},compare:function(g,h){if("number"===typeof g&&"number"===typeof h)return g>h?1:g===h?0:-1;"number"===typeof g&&(g=new gx.num.dec.bigDecimal(g.toString()));"number"===typeof h&&(h=new gx.num.dec.bigDecimal(h.toString()));return gx.lang.instanceOf(g,gx.num.dec.bigDecimal)&&gx.lang.instanceOf(h,
gx.num.dec.bigDecimal)?g.compareTo(h):g-h},maxNumericPrecision:function(){return 15},extractValue:function(g,h){h=gx.num.replaceFullWidthNumerals(h);if(gx.lang.instanceOf(h,Number)||this.overflowNumber(h))return h;var a=void 0===h?"":h;if(g)for(h="+"==g.charAt(0)||"-"==g.charAt(0)?g.replace(/[\+\-\d,*\.*Z*\s]+/,""):g.replace(/[\d,*\.*Z*\s]+/g,""),g.lastIndexOf(".")!=g.indexOf(".")&&(a=gx.text.replaceAll(a,".","")),g=0;g<h.length;g++)a=a.replace(h.charAt(g),"");return gx.text.trim(a)},formatNumber:function(g,
h,a,b,c,d,f){if(!a||""===g&&"Blank"===f)return g?g.toString():"";g=gx.lang.emptyObject(g)?"0":g;b=-1!=a.indexOf(",")?gx.thousandSeparator:"";f=gx.decimalPoint;var p=!1,r=gx.numericLenDec(a),k=r.Integers;h=r.Decimals;"string"==typeof g&&b&&(g=gx.text.replaceAll(g,b,""));"string"==typeof g&&(g=g.replace(f,"."));if(gx.num.overflowNumber(g))return g;try{g="undefined"!=typeof gx.num.dec&&g instanceof gx.num.dec.bigDecimal||0!==h?gx.num.setScale(g,h,f):gx.num.trunc(g,0).toString()}catch(m){g=g.toString()}r=
g.split(".");r[0]||(r[0]="0");r[1]||(r[1]="");if(d){if(r[1].length>h&&r[1].replace(/0*$/,"").length>h)throw"InvalidNumber";if(c&&"-"==r[0].charAt(0)&&r[0].replace(/0*/,"").length>k||!c&&"-"==r[0].charAt(0)||r[0].replace(/[+]?0*/,"").length>k)throw"InvalidNumber";}k=r[0].substring(0,k);0>g&&(c=!0);if(r[1].length<h){var u=r[1];for(d=r[1].length+1;d<=h;d++)u+="0";r[1]=u}u="";c&&("-"==k.charAt(0)?(u="-",k=k.substring(1)):"+"==a.charAt(0)&&(0!==Number(g)&&(u="+"),"+"==k.charAt(0)&&(k=k.substring(1))));
if(b&&3<k.length){c=k;k="";for(g=3;g<c.length;g+=3)d=c.slice(c.length-g,c.length-g+3),k=b+d+k+"";g=c.substr(0,0===c.length%3?3:c.length%3);k=g+k}f=r[1]?f:"";0<h?(g=a.split("."),g[1]==gx.text.padr("",h,"Z")&&(p=!0)):(g=Array(a),0<g.length&&0===gx.text.replaceAll(gx.text.replaceAll(g[0],",",""),"Z","").length&&(p=!0));h=0;a="";if(1<g.length)for(c=g[1],d=0;d<c.length;d++){var x=c.charAt(d);"9"==x||"Z"==x?r[1].length>h?(a+=r[1].charAt(h),h++):a+="0":"."!=x&&","!=x&&(a+=x)}r="";g=g[0];h=k.length-1;for(d=
g.length-1;0<=d;d--)if(c=g.charAt(d),"9"==c||"Z"==c)if(0<=h){if("Z"!=c||0!==Number(k.substring(0,h+1)))r=k.charAt(h)+r;h--}else r=("9"==c?"0":"")+r;else"Z"!=c&&","!=c&&"+"!=c?r=c+r:","==c&&k.charAt(h)==b&&(r=k.charAt(h)+r,h--);return!p||"0"!=r&&""!==r||0!==a.replace(/0+$/,"").length?u+r+(a?f+a:""):""},add:function(g,h){return q("add",function(a,b){return a+b},g,h)},subtract:function(g,h){return q("substract",function(a,b){return a-b},g,h)},multiply:function(g,h){return q("multiply",function(a,b){return a*
b},g,h)},divide:function(g,h){return q("divide",function(a,b){return a/b},g,h)},negate:function(g){return gx.lang.instanceOf(g,Number)||"undefined"==typeof gx.num.dec?-g:g.negate()},pow:function(g,h){return q("pow",function(a,b){return Math.pow(a,b)},g,h)},mod:function(g,h){return q("remainder",function(a,b){return a%b},g,h)},setScale:function(g,h){if(gx.lang.instanceOf(g,Number))return g.toFixed(h);"string"==typeof g&&(g=gx.text.trim(g));if(g.length<this.maxNumericPrecision()||"undefined"==typeof gx.num.dec){if(0===
g.length&&0===h)return"0";var a=g.split(".");a[1]||(a[1]="");if(a[1].length<h){var b=a[1];for(g=a[1].length+1;g<=h;g++)b+="0";a[1]=b;return a[0]+(""===a[1]?"":".")+a[1]}return Number(parseFloat(g)).toFixed(h)}return(new gx.num.dec.bigDecimal(g)).setScale(h,gx.num.dec.ROUND_UP).toString()},parseFloat:function(g,h,a){if(gx.lang.instanceOf(g,Number)||this.overflowNumber(g))return g;g=this.toInvariant(g,h,a);return g.length>this.maxNumericPrecision()&&"undefined"!=typeof gx.num.dec?new gx.num.dec.bigDecimal(g):
parseFloat(g)},toInvariant:function(g,h,a){return"number"==typeof g||"undefined"!=typeof gx.num.dec&&g instanceof gx.num.dec.bigDecimal?g:gx.text.replaceAll(g,h,"").replace(a,".")},parseInt:function(g,h,a){if("number"==typeof g)return g;g=gx.text.replaceAll(g,a,"");return parseInt(g,h)},overflowNumber:function(g){return/\*(\**)/.test(g)},urlDecimal:function(g,h,a){return"undefined"!=typeof g?(g="undefined"!=typeof g.value?g.value:g,g=this.parseFloat(g,h,a),g.toString()):""},random:function(){return Math.random()},
intval:function(g){g="undefined"!=typeof g?g.toString():"";g=g.length<gx.num.maxNumericPrecision()||"undefined"==typeof gx.num.dec?parseInt(g,0):(new gx.num.dec.bigDecimal(g)).setScale(0,gx.num.dec.ROUND_UP);isNaN(g)&&(g=0);return g},val:function(g){g=gx.text.trim(g).replace(",",".");g=this.parseFloat(g);isNaN(g)&&(g=0);return g},trunc:function(g,h){var a=g;g=g.toString();var b=g.indexOf(".");if(-1!=b){a=g.substring(0,b);if(0===h)return Number(a);g=g.substring(b+1,b+1+h);a=gx.num.parseFloat(a+"."+
g);isNaN(a)&&(a=0)}return a},round:function(g,h){return 0<=h?parseFloat(gx.num.decimalAdjust("round",g,-h).toFixed(h)):gx.num.roundNeg(g,h)},decimalAdjust:function(g,h,a){if("undefined"===typeof a||0===+a)return Math[g](h);h=+h;a=+a;if(isNaN(h)||"number"!==typeof a||0!==a%1)return NaN;h=h.toString().split("e");h=Math[g](+(h[0]+"e"+(h[1]?+h[1]-a:-a)));h=h.toString().split("e");return+(h[0]+"e"+(h[1]?+h[1]+a:a))},roundNeg:function(g,h){g=g.toString();var a=g.indexOf(".");var b=parseInt(h,0)+1;b=""+
"0000000000000000000000".substring(1,b);var c=parseFloat("."+b+"5");-1==a?(a="0000000000000000000000",b=""+g):0===a?(b="0",g=0+parseFloat(g)+parseFloat(c),g+="0000000000000000000000",a=""+g.substring(1,g.length)):(g=parseFloat(g)+c,b=g.toString().substring(0,a),a=""+(""+g+"0000000000000000000000").substring(a+1,a+1+parseInt(h,0)));a=a.substring(0,parseInt(h,0));h=parseFloat(b+"."+a);isNaN(h)&&(h=0);return h},normalize_decimal_sep:function(g,h,a,b){var c=b.lastIndexOf(a);0<=g.indexOf(".")&&","==a&&
-1==c&&b.lastIndexOf(".")==b.indexOf(".")?b=b.replace(".",a):-1==g.indexOf(h)&&"."==a&&-1==c&&b.lastIndexOf(",")==b.indexOf(",")&&(b=b.replace(",",a));return b},truncate:function(g,h,a){h=g.lastIndexOf(h);var b=g;-1!=h&&(b=0<a?1:0,b=g.slice(0,h+parseInt(a,10)+b));return b},valid_decimal:function(g,h,a,b){var c=g.value,d=!0,f=gx.O.getValidStructFld(g),p=gx.rtPicture(f,g);b=p?gx.numericLenDec(p).Decimals:b;c=this.normalize_decimal_sep(p,h,a,c);gx.lang.emptyObject(f)||(c=gx.num.extractValue(p,c));var r=
new RegExp("^[ ]*((([+-]{1}[0-9]+)||([0-9]*))(\\"+h+"[0-9]{3})*(\\"+a+"[0-9]*)?)?[ ]*$");if(c)if(r.test(c)){b=gx.num.truncate(c,a,b);try{gx.lang.emptyObject(f)||(b=gx.num.formatNumber(b,f.dec,p,f.len,f.sign,!0,f.emptyAsNull)),"."!=a&&"SELECT"==g.tagName&&(b=gx.num.toInvariant(b,h,a))}catch(k){d=!1}if(d&&b!=gx.text.trim(g.value)&&(g.value=b,gx.util.browser.isIEStrict()||-1!=navigator.userAgent.indexOf("Firefox/2")))g.onchange()}else d=!1;else d=!0;d?gx.csv.setFormatError(g,!1):(gx.csv.setFormatError(g),
gx.fn.alert(g,gx.getMessage("GXM_badnum")))},valid_integer:function(g,h){var a=gx.O.getValidStructFld(g),b=gx.lang.emptyObject(a);var c=g.value;b||(c=gx.num.extractValue(gx.rtPicture(a,g),c));h=b||-1==gx.rtPicture(a,g).indexOf(",")?/^[ ]*(([+-]{1}[0-9]+)||([0-9]*))[ ]*$/:new RegExp("^[ ]*([+-]{1}[0-9]+||[0-9]*)(\\"+h+"[0-9]{3})*[ ]*$");var d=!0;if(c)if(h.test(c)){try{b||(c=gx.num.formatNumber(c,a.dec,gx.rtPicture(a,g),a.len,a.sign,!0,a.emptyAsNull))}catch(f){d=!1}if(c!=gx.text.trim(g.value)&&(g.value=
c,-1!=navigator.userAgent.indexOf("Firefox/2")))g.onchange()}else d=!1;else d="number"===g.type&&"undefined"!==typeof g.validity?g.validity.valid:!0;d?gx.csv.setFormatError(g,!1):(gx.csv.setFormatError(g),gx.fn.alert(g,gx.getMessage("GXM_badnum")))},replaceFullWidthNumerals:function(g){return"string"===typeof g?g.replace(e,function(h){return 8213==h.charCodeAt()||12540==h.charCodeAt()?String.fromCharCode(45):String.fromCharCode(h.charCodeAt()-65248)}):g}}}();
gx.color={rgb:function(e,q,g){return 65536*e+256*q+g},css:function(e){return"rgb"==e.substring(0,3)?eval(e):"#"==e.charAt(0)?parseInt(e.substring(1),16):0},html:function(e){e=this.toHex(e);gx.lang.emptyObject(e)&&(e="000000");e=gx.text.padl(e,6,"0");var q={};q.Hexa=e;q.Html="#"+e;q.R=parseInt(e.substring(0,2),16);q.G=parseInt(e.substring(2,4),16);q.B=parseInt(e.substring(4,6),16);return q},fromRGB:function(e,q,g){var h={};"undefined"!=typeof e&&"undefined"!=typeof q&&"undefined"!=typeof g&&(h.Hexa=
this.toHex(e)+this.toHex(q)+this.toHex(g),h.Html="#"+h.Hexa,h.R=e,h.G=q,h.B=g);return h},ARGBToHex:function(e){var q=this.toHex(e>>16&255),g=this.toHex(e>>8&255);e=this.toHex(e&255);return q+g+e},toHex:function(e){if(void 0===e)return"000000";if(0>e)return gx.color.ARGBToHex(e);if(0===e)return e+"0";for(var q,g="";0!==e;)q=e%16,e=(e-q)/16,g="0123456789ABCDEF".charAt(q)+g;0!==g.length%2&&(g="0"+g);return g}};
gx.grid=function(e){return{drawAtServer:!1,deleteMethods:{images:0,menu:1,none:2},deletePositions:{left:0,right:1,bottomR:2,bottomL:3,topR:4,topL:5},deleteMethod:null,deleteImage:null,undeleteImage:null,deletePosition:null,deletePositionFree:null,deleteTooltip:null,deleteTitle:null,lastFocusCtrl:null,styles:{none:0,uniform:1,header:2,report:3,0:"none",1:"uniform",2:"header",3:"report"},getImplClass:function(q,g){return g?(gx.lang.inherits(gx.ui.grid,gx.uc.UserControl,!0),gx.lang.inherits(gx.ui.grid,
q.isResponsive?gx.grid.responsiveGrid:gx.grid.impl,!0),gx.lang.inherits(g,gx.ui.grid,!0),g=new g(gx.$),q&&(g.ParentObject=q.parentObject,g.ControlName=q.gridName,q.parentObject.setUserControl(g)),g):q.isResponsive?new gx.grid.responsiveGrid("gx"):new gx.grid.impl("gx")},validGridColsValue:function(q){q=void 0!=q?q:1;return 0!=q?q:9999},setActiveGridRow:function(q,g){"string"===typeof q&&(q=(q=gx.O.getGrid(q))?q.grid:null);q&&q.gxAllowSelection&&(gx.csv.currentGridSelection=q,"undefined"!==typeof g&&
(q.toggleRowHoverById(q.gxHoveredRowId,!1),q.gxHoveredRowId=parseInt(g,10)-1,gx.grid.clearActiveGridHandlerInstalled||(gx.fx.obs.addObserver("gx.onclick",this,gx.grid.clearActiveGridHandler),gx.grid.clearActiveGridHandlerInstalled=!0)))},clearActiveGrid:function(q){q&&gx.csv.currentGridSelection!==q.grid||(delete gx.csv.currentGridSelection,delete gx.grid.clearActiveGridHandlerInstalled,gx.fx.obs.deleteObserver("gx.onclick",this,gx.grid.clearActiveGridHandler))},clearActiveGridHandler:function(q){q=
gx.evt.source(q.event);q=gx.fn.rowGridId(q);(q=gx.fn.getGridObj(q))&&q.grid.gxAllowSelection||gx.grid.clearActiveGrid()},handleKeyUpEvt:function(q){var g=gx.csv.currentGridSelection,h=!1;if(!g||!g.gxAllowSelection||g.gxAllowHovering)return h;switch(q.keyCode){case 38:case 40:g.ownerGrid.setSelection(g.ownerGrid.getSelection(),!0),gx.evt.cancel(q,!0),h=!0}return h},handleKeyPressEvt:function(q){var g=gx.csv.currentGridSelection,h=!1;if(!g||!g.gxAllowHovering&&!g.gxAllowSelection)return h;var a=g.gxAllowHovering;
switch(q.keyCode){case 38:a?h=g.setPreviousRowHovered():g.ownerGrid.setPreviousRowSelected(!1);gx.evt.cancel(q,!0);break;case 40:a?h=g.setNextRowHovered():g.ownerGrid.setNextRowSelected(!1);gx.evt.cancel(q,!0);break;case 13:h=g.ownerGrid.setSelection(g.gxHoveredRowId)&&g.gxOnLineActivate}return h},grid:function(q,g,h,a,b,c,d,f,p,r,k,u,x,m,l,t,z,G,F,C,w,B,H,E,J,L,N,Q,T,U,da,V,ba,ca,ha,fa,ma,na){var ka=function(n){return function(v){v=this.parentObject.getGridById(a,v||gx.fn.currentGridRow(a));return n.call(this,
v||this)}.closure(this)}.closure(this);this.parentObject=q;this.parentObject["sub"+b+"_Rows"]=ka(function(n){return n.grid.pageSize/n.grid.gxGridCols});this.parentObject[c.toUpperCase()+(p?"_MPAGE":"")+"_nFirstRecordOnPage"]=ka(function(n){return n.grid.firstRecordOnPage});this.parentObject[c.toUpperCase()+(p?"_MPAGE":"")+"_nEOF"]=ka(function(n){return n.grid.eof});this.gridLvl=g;this.gridLvlName=h;this.gridId=a;this.gridName=b;this.realGridName=c;this.containerName=d||this.gridName+"Container";this.parentName=
r||"";this.pagingParms=[];this.lvlKey=k||[];this.isFreestyle=u||!1;this.isResponsive=ba||!1;this.allowHovering=(this.allowSelection=m||!1)&&l||!1;this.allowCollapsing=da||!1;this.collapsed=!1;this.sortable=!0;this.hoverColor=this.selectionColor=null;this.visible=!0;this.refreshTimer=null;this.pageSizeParm=L||!1;this.hasAddlines=N||!1;this.hasForEachLine=Q||!1;this.width=void 0!=w?w:0;this.widthUnit=B||"";this.height=void 0!=H?H:0;this.heightUnit=E||"";this.gridCols=void 0!=x?x:1;this.gridCols=0!=
this.gridCols?this.gridCols:9999;this.gridRows=void 0!=t?t:5;this.gridResponsiveCols=ca||[1,1,1,1];this.usePaging=(this.usePaging=z||!1)&&!this.isFreestyle;this.eof=1;this.firstRecordOnPage=0;this.defaultDragable=G||!1;this.defaultSetsContext=F||!1;this.boundedCollType=C||"";this.boundedCollName=V||"";this.gxContainerCtrl=this.contextMenu=null;this.lastRefreshParms="";this.gxComponentContext=f;this.isMasterPageGrid=p;this.htmlTags="";this.onLineActivate=U;this.addingRows=!1;this.deleteMethod=gx.grid.deleteMethod;
this.DatePickersControls=[];this.GridUserControls=[];this.GridComponents=[];this.GridControls=[];this.IsValidState=[];this.implClass=T;this.grid=gx.grid.getImplClass(this,T);this.grid.ownerGrid=this;this.grid.parentGxObject=this.parentObject;this.grid.gxLvl=this.gridLvl;this.grid.gxId=this.gridId;this.grid.gxGridName=this.gridName;this.grid.gxGridObject=this.containerName;this.grid.gxParentName=this.parentName;this.grid.gxIsFreestyle=this.isFreestyle;this.grid.gxWidth=this.width;this.grid.gxWidthUnit=
this.widthUnit;this.grid.gxHeight=0;this.grid.gxAllowSelection=this.allowSelection;this.grid.gxAllowHovering=this.allowHovering;this.grid.gxAllowCollapsing=this.allowCollapsing;this.grid.gxCollapsed=this.collapsed;this.grid.gxSortable=this.sortable;this.grid.gxSelectionColor=this.selectionColor;this.grid.gxHoverColor=this.hoverColor;this.grid.gxVisible=this.visible;this.grid.gxGridCols=this.gridCols;this.grid.gxGridResponsiveCols=this.gridResponsiveCols;this.grid.gxCmpContext=this.gxComponentContext;
this.grid.gxHtmlTags=this.htmlTags;this.grid.gxIsMasterPageGrid=this.isMasterPageGrid;this.grid.gxDragable=this.defaultDragable;this.grid.gxHasAddlines=this.hasAddlines;this.grid.gxHasForEachLine=this.hasForEachLine;this.grid.gxOnLineActivate=this.onLineActivate;this.grid.gxNewRowText=void 0!=J?J:"New Row";this.grid.beforeRenderCallbacks=[];this.grid.isAbstract=ma;this.isUsercontrol=gx.lang.instanceOf(this.grid,gx.uc.UserControl);this.useUserControlModelValues=function(){return this.isUsercontrol&&
!this.grid.useNativeChildControls};this.currentBuffer=this.grid.gxBuffer;this.parentGrid=null;this.childGrids=[];this.hiddens=[];this.grid.selectedRows=[];this.oldCmps={};this.ColumnPropertiesAfterRender=[];this.grid.useHiddensForControlValues=this.isUsercontrol&&(this.grid.useHiddensForControlValues||"undefined"===this.grid.useHiddensForControlValues);this.gxCreateGridCode=function(n){var v=new gx.grid.grid(this.parentObject,this.gridLvl,this.gridLvlName,this.gridId,this.gridName+"_"+n,this.gridName,
this.containerName+"_"+n,this.gxComponentContext,this.isMasterPageGrid,this.parentName,this.lvlKey,this.isFreestyle,this.gridCols,this.allowSelection,this.allowHovering,this.gridRows,this.usePaging,this.defaulDragable,this.defaultSetsContext,this.boundedCollType,this.width,this.widthUnit,this.height,this.heightUnit,this.grid.gxNewRowText,this.pageSizeParm,this.hasAddlines,this.hasForEachLine,this.implClass,this.onLineActivate,this.allowCollapsing,this.boundedCollName,this.isResponsive,this.gridResponsiveCols,
!1,0,this.grid.isAbstract,this.InverseLoading),A=this.grid,y=v.grid;v.emptyText=this.emptyText;y.ControlLvl=this.gridLvl;y.GridId=this.gridId;y.GridRow=n;y.GridBaseName=this.gridName;if(A.Properties)for(D in A.Properties)y.setProp(D,A.Properties[D],A[D],A.PropTypes[D]);if(A.DynProperties)for(n=0,len=A.DynProperties.length;n<len;n++){var D=A.DynProperties[n];y.setDynProp(D,A.Properties[D],A[D],A.PropTypes[D],!0)}return v}.closure(this);this.gxAddColumnsCode=[];this.grid.usePaging=this.usePaging;this.grid.eof=
this.eof;this.grid.firstRecordOnPage=this.firstRecordOnPage;this.postingVariables=[];this.InfiniteScrolling=ha;this.InverseLoading=na;this.ScrollType=fa;this.isAbstract=ma;this.addColumnDinCode=function(n,v){this.gxAddColumnsCode.push(function(){n.apply(this,v)})};this.addSingleLineEdit=function(n,v,A,y,D,I,K,M,P,S,O,X,R,aa,W,ea,oa,pa,ia,qa,ra,ua,sa,ta){this.addColumnDinCode(this.addSingleLineEdit,arguments);var ja=this.newColumn(y,K,X,M);ja.visible=oa;ja.htmlName=A;ja.gxId=v;ja.gxAttId=n;ja.gxAttName=
I;ja.gxTooltip=D;ja.gxWidthUnit=P;ja.gxColSize=O;ja.gxSetsContext=ia;ja.gxCssClass=ra;ja.gxColumnClass=sa;ja.gxColumnHeaderClass=ta;ja.gxControl=new gx.html.controls.singleLineEdit;ja.gxControl.column=ja;ja.gxControl.isPassword=qa;ja.gxControl.visible=ja.visible;ja.gxControl.dataType=ja.type;ja.gxControl.clickEvent=R;this.grid.addColumn(ja)};this.addPostingVar=function(n){this.postingVariables.push(n)};this.addMultipleLineEdit=function(n,v,A,y,D,I,K,M,P,S,O,X,R,aa,W,ea,oa,pa){this.addColumnDinCode(this.addMultipleLineEdit,
arguments);var ia=this.newColumn(y,I,R,K);ia.visible=W;ia.htmlName=A;ia.gxId=v;ia.gxAttId=n;ia.gxAttName=D;ia.gxWidthUnit=M;ia.gxSetsContext=ea;ia.gxColumnClass=pa;ia.gxControl=new gx.html.controls.multipleLineEdit;ia.gxControl.column=ia;ia.gxControl.dataType=ia.type;ia.gxControl.visible=ia.visible;ia.gxControl.heightUnit=S;ia.gxControl.clickEvent=aa;this.grid.addColumn(ia)};this.addBlob=function(n,v,A,y,D,I,K,M,P,S,O,X,R,aa){this.addColumnDinCode(this.addBlob,arguments);var W=this.newColumn(y,I,
"left",P);W.visible=X;W.htmlName=A;W.gxId=v;W.gxAttId=n;W.gxAttName=D;W.gxWidthUnit=O;W.gxSetsContext=R;W.gxColumnClass=aa;W.gxControl=new gx.html.controls.blob;W.gxControl.column=W;W.gxControl.dataType=W.type;W.gxControl.visible=W.visible;W.gxControl.height=M;W.gxControl.width=P;this.grid.addColumn(W)};this.addRadioButton=function(n,v,A,y,D,I,K,M,P,S,O){this.addColumnDinCode(this.addRadioButton,arguments);var X=this.newColumn(y,I,"left","");X.visible=P;X.htmlName=A;X.gxId=v;X.gxAttId=n;X.gxAttName=
D;X.gxSetsContext=S;X.gxColumnClass=O;X.gxControl=new gx.html.controls.radio;X.gxControl.column=X;X.gxControl.dataType=X.type;X.gxControl.vertical=M;X.gxControl.visible=X.visible;X.gxControl.clickEvent=K;this.grid.addColumn(X)};this.addComboBox=function(n,v,A,y,D,I,K,M,P,S,O,X,R){this.addColumnDinCode(this.addComboBox,arguments);var aa=this.newColumn(y,I,"left",O);aa.visible=P;aa.htmlName=A;aa.gxId=v;aa.gxAttId=n;aa.gxAttName=D;aa.gxSetsContext=S;aa.gxWidthUnit=X;aa.gxColumnClass=R;aa.gxControl=new gx.html.controls.comboBox;
aa.gxControl.column=aa;aa.gxControl.dataType=aa.type;aa.gxControl.rtEnabled=1==M;aa.gxControl.visible=aa.visible;aa.gxControl.clickEvent=K;this.grid.addColumn(aa)};this.addListBox=function(n,v,A,y,D,I,K,M,P,S,O,X,R,aa){this.addColumnDinCode(this.addListBox,arguments);var W=this.newColumn(y,I,"left",O);W.visible=P;W.htmlName=A;W.gxId=v;W.gxAttId=n;W.gxAttName=D;W.gxSetsContext=S;W.gxWidthUnit=X;W.gxColumnClass=R;W.gxControl=new gx.html.controls.listBox;W.gxControl.column=W;W.gxControl.dataType=W.type;
W.gxControl.rows=void 0!==aa?aa:4;W.gxControl.rtEnabled=1==M;W.gxControl.visible=W.visible;W.gxControl.clickEvent=K;this.grid.addColumn(W)};this.addCheckBox=function(n,v,A,y,D,I,K,M,P,S,O,X,R,aa,W){this.addColumnDinCode(this.addCheckBox,arguments);var ea=this.newColumn(y,K,"left",R);ea.visible=O;ea.htmlName=A;ea.gxId=v;ea.gxAttId=n;ea.gxAttName=I;ea.gxChecked=M;ea.gxUnChecked=P;ea.gxSetsContext=X;ea.gxWidthUnit=aa;ea.gxColumnClass=W;ea.gxControl=new gx.html.controls.checkBox;ea.gxControl.column=ea;
ea.gxControl.checkedValue=M;ea.gxControl.uncheckedValue=P;ea.gxControl.dataType=ea.type;ea.gxControl.visible=ea.visible;ea.gxControl.clickEvent=S;this.grid.addColumn(ea)};this.addBitmap=function(n,v,A,y,D,I,K,M,P,S,O,X){this.addColumnDinCode(this.addBitmap,arguments);var R=this.newColumn(S,"","left",y);R.htmlName=v;R.gxId=A;R.gxAttId=n;R.gxWidthUnit=D;R.gxControl=new gx.html.controls.image;R.gxControl.column=R;R.gxControl.dataType=R.type;R.gxControl.width=y;R.gxControl.widthUnit=D;R.gxControl.height=
I;R.gxControl.heightUnit=K;R.gxControl.clickEvent=M;R.gxCssClass=O;R.gxColumnClass=X;this.grid.addColumn(R)};this.addVideo=function(n,v,A,y,D,I,K,M,P,S,O,X){this.addColumnDinCode(this.addVideo,arguments);var R=this.newColumn(S,"","left",y);R.htmlName=v;R.gxId=A;R.gxAttId=n;R.gxWidthUnit=D;R.gxControl=new gx.html.controls.video;R.gxControl.column=R;R.gxControl.dataType=R.type;R.gxControl.width=y;R.gxControl.widthUnit=D;R.gxControl.height=I;R.gxControl.heightUnit=K;R.gxControl.clickEvent=M;R.gxCssClass=
O;R.gxColumnClass=X;this.grid.addColumn(R)};this.addAudio=function(n,v,A,y,D,I,K,M,P,S,O,X){this.addColumnDinCode(this.addAudio,arguments);var R=this.newColumn(S,"","left",y);R.htmlName=v;R.gxId=A;R.gxAttId=n;R.gxWidthUnit=D;R.gxControl=new gx.html.controls.audio;R.gxControl.column=R;R.gxControl.dataType=R.type;R.gxControl.width=y;R.gxControl.widthUnit=D;R.gxControl.height=I;R.gxControl.heightUnit=K;R.gxControl.clickEvent=M;R.gxCssClass=O;R.gxColumnClass=X;this.grid.addColumn(R)};this.addFile=function(n,
v,A,y,D,I,K,M,P,S,O,X){this.addColumnDinCode(this.addVideo,arguments);var R=this.newColumn(S,"","left",y);R.htmlName=v;R.gxId=A;R.gxAttId=n;R.gxWidthUnit=D;R.gxControl=new gx.html.controls.file;R.gxControl.column=R;R.gxControl.dataType=R.type;R.gxControl.width=y;R.gxControl.widthUnit=D;R.gxControl.height=I;R.gxControl.heightUnit=K;R.gxControl.clickEvent=M;R.gxCssClass=O;R.gxColumnClass=X;this.grid.addColumn(R)};this.addTextBlock=function(n,v,A){this.addColumnDinCode(this.addTextBlock,arguments);var y=
this.newColumn("","","left");y.gxId=A;y.htmlName=n;y.gxControl=new gx.html.controls.textBlock;y.gxControl.column=y;y.gxControl.dataType=y.type;y.gxControl.clickEvent=v;this.grid.addColumn(y)};this.addLabel=function(n){this.addColumnDinCode(this.addLabel,arguments);var v=this.newColumn("","","left");v.htmlName=n;v.gxControl=new gx.html.controls.label;v.gxControl.column=v;this.grid.addColumn(v)};this.addButton=function(n,v,A,y,D){this.addColumnDinCode(this.addButton,arguments);var I=this.newColumn("",
"","left");I.htmlName=v;I.gxId=n;I.gxControl=new gx.html.controls.button;I.gxControl.column=I;I.gxControl.dataType=I.type;this.grid.addColumn(I)};this.addGrid=function(n){this.addColumnDinCode(this.addGrid,arguments);this.childGrids.push(n);var v=this.newColumn("","","left");v.htmlName=n.getContainerControlId();v.gxControl=new gx.html.controls.grid;v.gxControl.column=v;this.grid.addColumn(v)};this.addUsercontrol=function(n,v,A,y,D,I,K,M,P,S){this.addColumnDinCode(this.addUsercontrol,arguments);var O=
"",X=this.parentObject;X.GridUCsProps&&X.GridUCsProps[D]&&(O=X.GridUCsProps[D].title||"");O=this.newColumn(O,"","left");O.gxUCId=n;O.gxUCLastId=v;O.gxUCClassName=A;O.gxUCContainerName=y;O.gxUCControlName=D;O.gxUCFieldName=I;O.gxShowFunc=K;O.gxC2VFuncs=M;O.gxV2CFuncs=P;O.visible=S;O.gxControl=new gx.html.controls.userControl;O.gxControl.column=O;O.gxControl.dataType=O.type;O.htmlName=D.toUpperCase();O.isUserControl=!0;this.grid.addColumn(O)};this.startContainer=function(){this.addColumnDinCode(this.startContainer,
arguments);var n=this.newColumn("","","left");n.gxControl=new gx.html.controls.userControlContainer;n.gxControl.column=n;n.gxControl.dataType=n.type;this.grid.addColumn(n)};this.endContainer=function(){this.addColumnDinCode(this.endContainer,arguments);this.currentBuffer.append("</div>")};this.addWebComponent=function(n){this.addColumnDinCode(this.addWebComponent,arguments);var v=this.newColumn("","","left");v.gxControl=new gx.html.controls.webComponent;v.gxControl.column=v;v.gxControl.dataType=v.type;
this.grid.addColumn(v)};this.addEmbeddedPage=function(n){this.addColumnDinCode(this.addEmbeddedPage,arguments);var v=this.newColumn("","","left");v.gxControl=new gx.html.controls.embeddedPage;v.gxControl.column=v;v.gxControl.dataType=v.type;this.grid.addColumn(v)};this.addHtmlCode=function(n){this.addColumnDinCode(this.addHtmlCode,arguments);this.currentBuffer.append(n)};this.startTable=function(n,v,A){this.addColumnDinCode(this.startTable,arguments);var y=this.newColumn("","","left");y.gxId=v;y.htmlName=
n+"_"+v;y.gxControl=new gx.html.controls.table;y.gxControl.column=y;y.gxControl.width=A;y.gxControl.dataType=y.type;this.grid.addColumn(y)};this.endTable=function(){this.addColumnDinCode(this.endTable,arguments);this.currentBuffer.append("</table>")};this.startRow=function(n,v,A,y,D,I){this.addColumnDinCode(this.startRow,arguments);var K=this.newColumn("","","left");K.gxControl=new gx.html.controls.row;K.gxControl.column=K;K.gxControl.title=n;K.gxControl.align=v;K.gxControl.verticalAlign=A;K.gxControl.backColor=
y;K.gxControl.borderColor=D;K.gxControl.cssClass=I;K.gxControl.ownCssClass=I;K.gxControl.dataType=K.type;this.grid.addColumn(K)};this.endRow=function(){this.addColumnDinCode(this.endRow,arguments);this.currentBuffer.append("</tr>")};this.startCell=function(n,v,A,y,D,I,K,M,P,S){this.addColumnDinCode(this.startCell,arguments);var O=this.newColumn("","","left");O.gxControl=new gx.html.controls.cell;O.gxControl.column=O;O.gxControl.title=n;O.gxControl.align=v;O.gxControl.verticalAlign=A;O.gxControl.backColor=
y;O.gxControl.borderColor=D;O.gxControl.height=I;O.gxControl.width=K;O.gxControl.colSpan=M;O.gxControl.rowSpan=P;O.gxControl.cssClass=S;O.gxControl.dataType=O.type;this.grid.addColumn(O)};this.endCell=function(){this.addColumnDinCode(this.endCell,arguments);this.isResponsive?this.currentBuffer.append("</div>"):this.currentBuffer.append("</td>")};this.startGroup=function(n,v,A,y,D){this.addColumnDinCode(this.startGroup,arguments);var I=this.newColumn("","","left");I.htmlName=n;I.gxControl=new gx.html.controls.group;
I.gxControl.column=I;I.gxControl.id=n;I.gxControl.caption=v;I.gxControl.height=A;I.gxControl.width=y;I.gxControl.cssClass=D;I.gxControl.dataType=I.type;this.grid.addColumn(I)};this.endGroup=function(){this.addColumnDinCode(this.endGroup,arguments);this.currentBuffer.append("</fieldset>")};this.startDiv=function(n,v,A,y){this.addColumnDinCode(this.startDiv,arguments);var D=this.newColumn("","","left");D.gxId=n;D.htmlName=v+"_"+n;D.gxControl=new gx.html.controls.div;D.gxControl.column=D;D.gxControl.width=
y;D.gxControl.height=A;D.gxControl.dataType=D.type;this.grid.addColumn(D)};this.endDiv=function(){this.addColumnDinCode(this.endDiv,arguments);var n=this.newColumn("","","left");n.gxControl=new gx.html.controls.divEnd;n.gxControl.column=n;this.grid.addColumn(n)};this.startFormGroup=function(n,v,A,y){this.addColumnDinCode(this.startFormGroup,arguments);var D=this.newColumn("","","left");D.gxId=n;D.htmlName=v+"_"+n;D.gxControl=new gx.html.controls.formGroup;D.gxControl.column=D;D.gxControl.width=y;
D.gxControl.height=A;D.gxControl.dataType=D.type;this.grid.addColumn(D)};this.endFormGroup=function(){this.addColumnDinCode(this.endFormGroup,arguments);var n=this.newColumn("","","left");n.gxControl=new gx.html.controls.formGroupEnd;n.gxControl.column=n;this.grid.addColumn(n)};this.newColumn=function(n,v,A,y){v=this.getColumnType(v);n=new gx.grid.column(n,v,y,A);this.currentBuffer=n.buffer;n.htmlName="";n.gxId="";n.gxAttId="";n.gxAttName="";return n};this.getColumnType=function(n){switch(n){case "decimal":case "int":n=
gx.types.numeric;break;case "date":n=gx.types.date;break;case "dtime":n=gx.types.dateTime;break;case "boolean":n=gx.types.bool;break;case "GeneXus\\Geolocation":n=gx.types.geolocation;break;default:n=gx.types.character}return n};this.addOldComponent=function(n,v){"undefined"==typeof this.oldCmps[n]&&(this.oldCmps[n]=[]);this.oldCmps[n].push(v)};this.updateOldComponents=function(){for(var n=this.grid.rows.length,v=0;v<n;v++)delete this.oldCmps[this.grid.rows[v].gxId];for(var A in this.oldCmps){for(n=
this.oldCmps[A];0<n.length;)v=n.shift(),gx.fn.deleteHidden(v);delete this.oldCmps[A]}};this.addHidden=function(n){this.hiddens.push(n)};this.addHiddenControl=function(n,v,A){gx.fn.setHidden(n,v);1!=A&&this.addHidden(n)};this.clearHiddens=function(){for(var n=0;n<this.hiddens.length;n++)gx.fn.deleteHidden(this.hiddens[n]);this.hiddens=[]};var Z={};this.setHtmlTags=function(n){gx.lang.apply(Z,n);var v=' style="'+("0"==Z.Visible?"display:none;":"");n=' class="'+Z.Class+'"';var A=gx.lang.emptyObject;
v+=A(Z.Background)?"":"background:"+Z.Background+";";v+=A(Z.Backcolor)||"0"==Z.Backcolor?"":"background-color:"+gx.color.html(Z.Backcolor).Html+";";v+=A(Z.Bordercolor)||"0"==Z.Bordercolor?"":"border-color:"+gx.color.html(Z.Bordercolor).Html+";";v+=A(Z.Borderwidth)||"0"==Z.Borderwidth?"":" border-width:"+Z.Borderwidth+";";v+=A(Z.Width)||"0"==Z.Width?"":" width:"+gx.dom.addUnits(Z.Width,this.width==Z.Width?this.widthUnit:"")+";";v+=A(Z.Height)||"0"==Z.Height?"":"max-height:"+gx.dom.addUnits(Z.Height,
this.height==Z.Height?this.heightUnit:"")+";";n+=A(Z.Align)?"":' align="'+Z.Align+'"';n+=A(Z.Tooltiptext)?"":' title="'+Z.Tooltiptext+'"';n+=A(Z.Cellpadding)?"":' data-cellpadding="'+Z.Cellpadding+'"';n+=A(Z.Cellspacing)?"":' data-cellspacing="'+Z.Cellspacing+'"';this.htmlTags=gx.text.trim(n+(v+'"'));this.grid.gxHtmlTags=this.htmlTags;A(Z.Width)||(this.grid.gxWidth=Z.Width);A(Z.Height)||(this.grid.gxHeight=Z.Height)};var Y={};this.setGridStyles=function(n){gx.lang.apply(Y,n);this.grid.header=n.Header;
this.visible=void 0!=Y.Visible?gx.lang.gxBoolean(Y.Visible):!0;this.setSortable(void 0!=Y.Sortable?gx.lang.gxBoolean(Y.Sortable):!0);this.background=void 0!=Y.Background?Y.Background:"";this.cssClass=void 0!=Y.Class?Y.Class:"";this.titleBackstyle=void 0!=Y.Backcolorstyle?Y.Backcolorstyle:gx.grid.styles.none;this.titleFont=void 0!=Y.Titlefont?Y.Titlefont:"";this.linesFont=void 0!=Y.Linesfont?Y.Linesfont:"";this.borderWidth=void 0!=Y.Borderwidth?Y.Borderwidth:"";this.toolTipText=void 0!=Y.Tooltiptext?
Y.Tooltiptext:"";try{this.backcolor=void 0!=Y.Backcolor?gx.color.html(Y.Backcolor).Html:"",this.titleBackcolor=void 0!=Y.Titlebackcolor?gx.color.html(Y.Titlebackcolor).Html:"",this.titleForecolor=void 0!=Y.Titleforecolor?gx.color.html(Y.Titleforecolor).Html:"",this.linesBackcolorOdd=void 0!=Y.Backcolorodd?gx.color.html(Y.Backcolorodd).Html:"",this.linesBackcolorEven=void 0!=Y.Backcoloreven?gx.color.html(Y.Backcoloreven).Html:"",this.bordercolor=void 0!=Y.Bordercolor?gx.color.html(Y.Bordercolor).Html:
""}catch(v){gx.dbg.logEx(v,"gxgrid.js","setGridStyles")}this.borderWidth=void 0!=Y.Borderwidth?Y.Borderwidth:"";this.toolTipText=void 0!=Y.Tooltiptext?Y.Tooltiptext:"";this.grid.gxCssClass="";this.grid.gxTitleClass="";this.grid.gxFooterClass="";this.grid.gxOddLlinesClass="";this.grid.gxEvenLinesClass="";this.grid.gxBackColor=this.backcolor;this.grid.gxTitleBackColor=this.titleBackcolor;this.grid.gxTitleForeColor=this.titleForecolor;this.grid.gxTitleBackstyle=this.titleBackstyle;this.grid.gxTitleFont=
this.titleFont;this.grid.gxLinesFont=this.linesFont;this.grid.gxBackground=this.background;this.grid.gxLinesBackcolorOdd=this.linesBackcolorOdd;this.grid.gxLinesBackcolorEven=this.linesBackcolorEven;this.grid.gxBorderWidth=this.borderWidth;this.grid.gxBordercolor=this.bordercolor;this.grid.gxToolTipText=this.toolTipText;this.grid.gxVisible=this.visible;""!=this.cssClass&&(this.grid.gxCssClass=this.cssClass,this.grid.gxTitleClass=this.cssClass+"Title",this.grid.gxFooterClass=this.cssClass+"Footer",
this.titleBackstyle==gx.grid.styles.none?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.uniform?(this.grid.gxOddLlinesClass=this.cssClass+"Uniform",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.header?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.report&&(this.isFreestyle&&
0>=this.gridCols?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.cssClass+"Even")))};this.setSortable=function(n){if(this.sortable!=n){this.sortable=n;for(var v=this.grid.columns.length,A=0;A<v;A++)this.grid.columns[A].sortable=n}};this.lastRowId=0;this.addRow=function(n){var v,A=this.lastRowId++,y=gx.grid.rowId(A+1);y=new gx.grid.row(A,n,y,this.grid.gxParentRowId);
y.gxCmpContext=this.gxComponentContext;y.Grids=n.Grids;y.ownerGrid=this;y.gxLvl=this.gridLvl;this.setRowHiddens(n.Hiddens);for(var D=this.grid.columns,I=D.length,K=0;K<I;K++){var M=D[K];if(0!==A){var P=this.grid.rows[0].gxProps[K];var S=n.Props[K].length;for(v=this.grid.rowsValues?P.length-1:P.length;S<v;S++)y.gxProps[K].push(P[S])}v=n.Props[K];v=v[v.length-1];(P=this.grid.rowsValues)&&!this.autoRefreshing&&(S=P[A],void 0!==S&&0<S.length&&(v=P[A][K]));y.values[K]=v;this.grid.rowsValues&&y.gxProps[K].push(v);
this.parentObject.isTransaction()&&(M=this.columnIndexInKey(M.gxAttId),-1!=M&&(y.gxKeyValues[M]=v))}this.isFreestyle&&(y.IsNew=!0,this.installChildGrids(y));this.grid.addRow(y);return y};this.installChildGrids=function(n){for(var v=this.childGrids.length,A=0;A<v;A++){var y=this.childGrids[A],D=y.gxCreateGridCode(n.gxId);D.grid.parentGxObject=this.parentObject;var I=(D.isMasterPageGrid?"MP":this.grid.gxCmpContext)+D.realGridName+"Container";D.gxContainerDivName=I+"Div_"+n.gxId;D.gxContainerDataName=
I+"Data_"+n.gxId;D.gxContainerValuesName=I+"DataV_"+n.gxId;n.gxGrids.push(D);D.parentGrid=this;D.parentRow=n;this.parentObject.setGrid(D);y.copyPropertiesTo(D);D.grid.gxCmpContext=this.grid.gxCmpContext;D.grid.gxParentRowId=n.gxId;this.installChildGridColumns(D,y)}};this.installChildGridColumns=function(n,v){for(var A=v.gxAddColumnsCode.length,y=0;y<A;y++)v.gxAddColumnsCode[y].call(n)};this.copyPropertiesTo=function(n){n.cssClass=this.cssClass;n.titleBackstyle=this.titleBackstyle;n.titleBackcolor=
this.titleBackcolor;n.linesBackcolorOdd=this.linesBackcolorOdd;n.linesBackcolorEven=this.linesBackcolorEven;n.grid.gxCssClass=this.grid.gxCssClass;n.grid.gxTitleClass=this.grid.gxTitleClass;n.grid.gxOddLlinesClass=this.grid.gxOddLlinesClass;n.grid.gxEvenLinesClass=this.grid.gxEvenLinesClass;n.grid.gxAllowCollapsing=this.grid.gxAllowCollapsing;n.grid.gxCollapsed=this.grid.gxCollapsed};this.setRowHiddens=function(n){if(n&&this.parentObject.isTransaction())for(var v in n)gx.fn.setHidden(v,n[v])};this.executeEvent=
function(n,v){gx.evt.setGridEvt(this.gridId.toString(),v);this.instanciateRow(v);this.parentObject[n].call(this.parentObject,v)};this.getHiddenName=function(n){var v="";this.parentRow&&(v="_"+this.parentRow.gxId);return this.grid.gxCmpContext+this.realGridName.toUpperCase()+(this.isMasterPageGrid?"_MPAGE":"")+"_"+n+v};this.updatePagingVars=function(n,v){void 0==n&&void 0==v?(this.grid.eof=gx.fn.getHidden(this.getHiddenName("nEOF")),this.grid.firstRecordOnPage=gx.fn.getHidden(this.getHiddenName("nFirstRecordOnPage"))):
(this.grid.eof=n,this.grid.firstRecordOnPage=v)};this.setPagingVars=function(n,v){this.grid.eof=n;this.grid.firstRecordOnPage=v;gx.fn.setHidden(this.getHiddenName("nEOF"),n);gx.fn.setHidden(this.getHiddenName("nFirstRecordOnPage"),v)};this.clearDefaultEventHandlers=function(){if(this.defaultDragable||this.defaultSetsContext){var n=this.grid.rows.length;for(var v=0;v<n;v++){var A=this.containerName+"Row_"+this.grid.rows[v].gxId;this.defaultDragable&&gx.fx.dnd.deleteSource(A);this.defaultSetsContext&&
gx.fx.ctx.deleteSetter(A)}}n=this.grid.columns.length;for(v=0;v<n;v++)if(A=this.grid.columns[v],1==A.gxSetsContext)for(var y=this.grid.rows.length,D=0;D<y;D++)gx.fx.ctx.deleteSetter(A.htmlName+"_"+this.grid.rows[D].gxId)};this.setDefaultEventHandlers=function(){var n=0,v=this.additiveResponse?this.firstAdditiveRow:0,A=this.getRowAsTypes();if(this.defaultDragable||this.defaultSetsContext)if(gx.lang.emptyObject(this.boundedCollType)){n=this.grid.rows.length;for(var y=v;y<n;y++){var D=this.gxComponentContext+
this.containerName+"Row_"+this.grid.rows[y].gxId;D=gx.dom.byId(D);null!=D&&(D.gxGrid=this.containerName,D.gxGridName=this.gridName,D.gxId=this.grid.rows[y].gxId);D=this.containerName+"Row_"+this.grid.rows[y].gxId;I=function(M){return this.returnRowData(M)}.closure(this);this.defaultDragable&&gx.fx.dnd.addSource(this.parentObject,D,this.cssClass,A,I);this.defaultSetsContext&&gx.fx.ctx.addSetter(this.parentObject,D,this.cssClass,A,I)}}else{n=this.grid.gxCmpContext+this.containerName+"Div";var I=function(){return this.returnGridData()}.closure(this);
this.defaultDragable&&gx.fx.dnd.addSource(this.parentObject,n,this.cssClass,[this.boundedCollType],I);this.defaultSetsContext&&gx.fx.ctx.addSetter(this.parentObject,n,this.cssClass,[this.boundedCollType],I)}if(this.parentGrid)for(I=gx.fx.ctx.setters[this.gxComponentContext+this.realGridName+"ContainerTbl"],n=this.grid.rows.length,y=v;y<n;y++)D=this.containerName+"Row_"+this.grid.rows[y].gxId,I&&I.hdl&&gx.fx.ctx.addSetter(this.parentObject,D,this.cssClass,A,I.hdl);if(!this.additiveResponse)for(n=this.grid.columns.length,
y=0;y<n;y++)if(A=this.grid.columns[y],1==A.gxSetsContext)for(D=this.grid.rows.length,I=v;I<D;I++){var K=gx.dom.el(this.gxComponentContext+A.htmlName+"_"+this.grid.rows[I].gxId,!0);null!=K&&(K.gxHtmlName=A.htmlName,gx.fx.ctx.addSetter(this.parentObject,A.htmlName+"_"+this.grid.rows[I].gxId,"",[A.gxAttName],this.returnColumnContext))}};this.infinite_scrolling_ensure_loading_scroll=function(){if(!this.mock_element){var n=e("#"+this.getGridInnerTableId());this.mock_element=e('<div class="gx-grid-loading" style="visibility:hidden;">'+
gx.getMessage("GXM_Loading")+"</div>");this.mock_element.insertAfter(n)}};this.infinite_scrolling_before_scroll=function(){this.infinite_scrolling_ensure_loading_scroll();!0!==this.isScrolling&&(this.mock_element.css("visibility","visible"),this.isScrolling=!0)};this.hide_loading_message=function(){this.mock_element&&this.mock_element.css("visibility","hidden")};this.remove_loading_message=function(){this.mock_element&&(e(this.mock_element).remove(),this.mock_element=void 0)};this.infinite_scrolling_after_scroll=
function(){var n=this.getGridInnerTableId();e("#"+n);this.fixColumnsWidth(this.fixedColumnsWidth);this.isScrolling=!1;this.hide_loading_message()};this.fixColumnsWidth=function(n){if(!this.isFreestyle){var v=this.getGridInnerTableId();rows=e("#"+v).find("tbody tr[data-gxrendering_row]");e.each(rows,function(A,y){e(y).children().map(function(D,I){I.style.width=n[D]+"px";I.style.maxWidth=n[D]+"px"})});rows.removeAttr("data-gxrendering_row")}};this.unInstallScrollListener=function(){this.ScrollingElement&&
(e(this.ScrollingElement).scrollTop(0),this.remove_loading_message(),this.ScrollingElement.removeEventListener("scroll",this.ScrollingHandler,{passive:!0}))};this.installScrollListener=function(n,v,A,y){var D=gx.grid.scrollingThreshold||4,I=function(){if(this.InverseLoading)return n.scrollTop<=30*n.clientHeight/100;if(1==this.ScrollType){var P=e(window);var S=e(document).height();var O="CSS1Compat"===(document.compatMode||"");O=void 0!==window.pageXOffset?window.pageYOffset:O?document.documentElement.scrollTop:
document.body.scrollTop;P=P.height()}else S=n.scrollHeight,O=n.scrollTop,P=n.clientHeight;var X=O;var R=M.lastPosition;M.lastPosition=X;return X<R?!1:S-O-P<P*D}.closure(this),K=this,M={allow:!0,reallow:function(){M.allow=!0;M.runAfterReallow&&(M.runAfterReallow=!1,K.ScrollingHandler())},lastPosition:0,runAfterReallow:!1,delay:300};this.ScrollingHandler=function(){gx.lang.requestAnimationFrame(function(){if(M.allow){var P=K.grid;!0!==K.isScrolling&&!P.isLastPage()&&I()&&(K.infinite_scrolling_before_scroll(),
P.changeGridPage("NEXT",!1));M.allow=!1;setTimeout(M.reallow,M.delay)}else M.runAfterReallow=!0})};this.infinite_scrolling_ensure_loading_scroll();n.addEventListener("scroll",this.ScrollingHandler,{passive:!0})};this.installFixedGridHeader=function(){if(!this.usePaging&&!this.InfiniteScrolling&&!this.isFreestyle&&this.grid.gxHeight&&0<this.grid.rows.length){var n=this.getContainerControl();if(n){var v=e(n),A=this,y=this.getGridInnerTableId();n=e("#"+y);var D=n.find("tbody tr:first").children(),I=
e("#"+y+"> tbody"),K=e("#"+y+"> thead > tr"),M=e("#"+y+"> thead");y=gx.util.browser.isOldIE();this.fixedContainerWidth||(this.fixedContainerWidth=n.width());this.fixedColumnsWidth||(this.fixedColumnsWidth=D.map(function(){return e(this).width()}).get());v.addClass("gx-infinite-scrolling-container");if(!this.width||y)y?(v.addClass("gx-grid-fixed-header-ie7"),v.wrap("<div style='position:relative;'>"),n.css("width",""),v.width(this.fixedContainerWidth+e.position.scrollbarWidth()+2),D=M.position(),K.css("top",
D.top),D=K.outerHeight(!0),v.css("paddingTop",gx.dom.addUnits(D,"px")),n.attr("data-bkgstyle",""),D=n.css("background-color"),M=K.css("background-color"),!D||M&&"transparent"!==M||K.css("background-color",D)):n.width(this.fixedContainerWidth+e.position.scrollbarWidth()+2);0<this.fixedColumnsWidth.length&&(n.find("thead tr").children().each(function(P,S){e(S)[0].style.width=A.fixedColumnsWidth[P]+"px"}),this.fixColumnsWidth(this.fixedColumnsWidth));I.addClass("gx-infinite-scrolling-element");v=y?v:
I;n.css("max-height","");v.css({"max-height":gx.dom.addUnits(this.grid.gxHeight,this.grid.gxHeight==this.height?this.heightUnit:"px")})}}};this.handleInfiniteScrolling=function(){if(this.InfiniteScrolling){var n=this.getContainerControl();if(n){var v=e(n);v.removeClass("gx-infinite-scrolling-container");if(0<this.grid.rows.length){var A=this,y=this.getGridInnerTableId();if(1==this.ScrollType){var D=window;this.fixedColumnsWidth=[]}else{this.ScrollingHeight&&e(D).css({height:this.ScrollingHeight});
var I=e("#"+y),K=I.find("tbody tr:first").children(),M=e("#"+y+">tbody"),P=e.grep(this.grid.columns,function(W){return 1==W.visible}).length;this.fixedColVisibleCount!=P&&(this.fixedColVisibleCount=P,this.isFreestyle||(this.fixedColntainerWidth=I.width(),this.fixedColumnsWidth=K.map(function(){return this.offsetWidth}).get()));v.addClass("gx-infinite-scrolling-container");this.isFreestyle||I.width(this.fixedColntainerWidth+e.position.scrollbarWidth()+2);!this.isFreestyle&&0<this.fixedColumnsWidth.length&&
(I.find("thead tr").children().each(function(W,ea){e(ea)[0].style.width=A.fixedColumnsWidth[W]+"px"}),this.fixColumnsWidth(this.fixedColumnsWidth));D=0<M.length?M[0]:n;e(D).addClass("gx-infinite-scrolling-element")}this.ScrollingHeight&&1!=this.ScrollType&&e(D).css({height:this.ScrollingHeight});this.ScrollingElement=D;this.infinitScrollingInstalled=!0;n=this.InverseLoading?this.grid.firstItemSelector:this.grid.lastItemSelector;var S=this.infinite_scrolling_before_scroll.closure(this);if(!this.ScrollingHeight&&
(this.isFreestyle||this.grid.rows.length>=this.grid.pageSize&&0<this.grid.pageSize)){if(1!=this.ScrollType){var O=e(D).height()-2;e(D).css({height:O})}this.ScrollingHeight=O}if(D){var X=0,R=function(){var W;if(10==X)return X=0,!1;(W=this.InverseLoading?0==D.scrollTop:1==this.ScrollType?gx.popup.ispopup()?document.body.scrollHeight<document.body.clientHeight:document.body.scrollHeight<=document.body.clientHeight:D.clientHeight==D.scrollHeight)&&X++;return W}.closure(this),aa=function(){if(!this.grid.isLastPage()&&
R())return S(),this.grid.changeGridPage("NEXT",!1).then(function(){A.InverseLoading&&(D.scrollTop=D.scrollHeight);aa()})}.closure(this);gx.lang.requestAnimationFrame(function(W,ea,oa,pa){aa();this.installScrollListener(W,ea,oa,pa)}.closure(this,[this.ScrollingElement,y,M,n]))}}}}};this.returnColumnContext=function(n){n="SPAN"==n.nodeName?gx.dom.spanValue(n):gx.fn.getControlValue_impl(n.id);return null!=n?n:""};this.returnRowData=function(n){var v={};if(n=this.grid.getRowByGxId(n.gxId))for(var A=this.grid.columns.length,
y=0;y<A;y++){var D=this.grid.columns[y].gxAttName;""!=D&&(v[D]=n.values[y])}return v};this.returnGridData=function(){for(var n=[],v=this.grid.rows.length,A=0;A<v;A++){var y={};n[A]=y;for(var D=this.grid.rows[A],I=this.grid.columns.length,K=0;K<I;K++){var M=this.grid.columns[K].gxAttName;""!=M&&(y[M]=D.values[K])}}return n};this.doDrop=function(n){this.getNewRows(void 0!=n.length?ropObj.length:1,null,function(v){this.addDropedRows(v,n)})};this.addDropedRows=function(n,v){n.gxHiddens&&gx.fn.setJsonHiddens(null,
n.gxHiddens);n=n.gxContainer?n.gxContainer:n;var A=v.length;if(void 0!=A)for(var y=0;y<A;y++)this.setDroppedRow(n[y],v[y]);else this.setDroppedRow(n[0],v);this.setNewRows(n)};this.setDroppedRow=function(n,v){for(var A=this.grid.columns.length,y=0;y<A;y++){var D=n.Props[y],I=this.grid.columns[y].gxAttName,K="";""!=I&&void 0!=v[I]&&(K=v[I]);D.Value=K;D.FormattedValue=K}};this.getRowAsTypes=function(){for(var n=[],v=this.grid.columns.length,A=0;A<v;A++){var y=this.grid.columns[A].gxAttName;""!=y&&n.push(y)}return n};
this.addRows=function(n){var v=n.Count;this.grid.rowsValues=n.values;for(var A=0;A<v;A++)this.addRow(n[A])};this.lastRowIsModified=function(){if(0==this.grid.rows.length)return!1;var n=this.grid.rows[this.grid.rows.length-1];return n.gxExists()||n.gxIsMod()?!0:!1};this.getNewRows=function(n,v,A){A=void 0!=A?A:this.setNewRows;var y=gx.util.browser.isFirefox()?"keypress":"keydown";null!=v&&((v.type!=y||32!=v.charCode&&32!=v.keyCode&&13!=v.keyCode)&&"click"!=v.type||0!=this.grid.rows.length&&!this.lastRowIsModified())?
null==v||32!=v.keyCode&&13!=v.keyCode||gx.evt.cancel(v,!0):(gx.csv.pkDirty=!1,gx.ajax.newRows(this.gxComponentContext,this.isMasterPageGrid,this.realGridName,n+this.lastRowId,this.lastRowId+1,gx.grid.rowId(this.lastRowId+1)+this.grid.gxParentRowId,this.grid.gxParentRowId,A),gx.csv.pkDirty=!1,null!=v&&gx.evt.cancel(v,!0))};this.setNewRows=function(n){return this.setNewRows_impl(n,function(v){this.refreshGrid({loadChildGrids:!1});this.grid.execShowFunction&&this.grid.execShowFunction()})};this.loadNewRows=
function(n){n.gxHiddens&&gx.fn.setJsonHiddens(null,n.gxHiddens);n=n.gxContainer?n.gxContainer:n;return this.setNewRows_impl(n,function(v){this.loadGrid({rowProps:v,isPostback:!0,addRows:!0})})};this.setNewRows_impl=function(n,v){n.gxHiddens&&gx.fn.setJsonHiddens(null,n.gxHiddens);n=n.gxContainer?n.gxContainer:n;if(void 0!=n.Count){var A;this.grid.rowsValues||(this.grid.rowsValues=[]);this.grid.rowsValues=this.grid.rowsValues.concat(n.values);for(A=0;A<n.Count;A++){var y=this.addRow(n[A]);gx.fn.setCurrentGridRow(this.gridId,
y.gxId)}0<n.Count&&(this.addingRows=!0,v.call(this,n),this.addingRows=!1,this.setFocusFirstControl(n[0]))}return y};this.gxNewRowFocused=function(n){n.style.textDecoration="underline";var v=gx.fn.firstGridControl(this.gridId);gx.evt.onfocus(n,v,this.gxComponentContext,this.isMasterPageGrid,"9999",this.gridId)};this.rowKeyPressed=function(n){var v=gx.evt.source(n);void 0!=v&&n.ctrlKey&&46==n.keyCode&&(this.setRowDeleted(v),gx.evt.cancel(n,!0))};this.gxHasDuplicateKey=function(){for(var n=[],v=this.grid.rows,
A=v.length,y=0;y<A;y++){var D=v[y];if((D.gxExists()||D.gxIsMod())&&!D.gxDeleted()){for(var I="",K=D.gxKeyValues.length,M=0;M<K;M++)I+=D.gxKeyValues[M].toString();if(void 0!=n[I])return!0;n[I]=1}}return!1};this.columnIndexInKey=function(n){for(var v=this.lvlKey.length,A=0;A<v;A++)if(this.lvlKey[A]==n)return A;return-1};this.refreshVars=[];this.addRefreshingVar=function(n){if(!gx.lang.emptyObject(n)){var v="",A=function(){this.filterVarChanged()};this.refreshVars[this.refreshVars.length]=n;if(n.fld){var y=
gx.dom.el(this.gxComponentContext+n.fld,!1,!0);if(void 0!=y&&gx.lang.emptyObject(n.hc)&&(v="radio"==y.type||"checkbox"==y.type?"click":"SELECT"==y.tagName?"change":gx.evt.eachKeyAutorefreshType(n.type)?["keyup","input"]:"blur",""!=v))if("radio"==y.type){y=gx.dom.byName(this.gxComponentContext+n.fld);n=y.length;for(var D=0;D<n;D++)gx.evt.attach(y[D],v,A,this)}else"search"==y.type&&(v=[v,"search"]),gx.evt.attach(y,v,A,this)}else if((v=this.parentObject.VarControlMap[n.rfrVar])&&(v=this.parentObject.getValidStructFld(v.id))&&
v.isuc)for(y in v.ucInstances)v.ucInstances.hasOwnProperty(y)&&(v.ucInstances[y].autoRefreshFn=A.closure(this))}};this.refreshParms=[];this.addRefreshingParm=function(n){gx.lang.emptyObject(n)||(this.refreshParms[this.refreshParms.length]=n)};this.doRefresh=function(){var n=this.getRefreshParmsUrl();this.callAsyncRefresh(n)};this.filterVarChanged=function(){if(this.parentObject.autoRefresh&&!gx.grid.drawAtServer){var n=this.getRefreshParmsUrl();this.lastRefreshParms!=n&&(this.lastRefreshParms=n,this.callAsyncRefresh())}else this.parentObject.conditionsChanged=
this.conditionsChanged()};this.conditionsChanged=function(){for(var n=this.refreshVars.length,v=0;v<n;v++){var A=this.refreshVars[v];if("undefined"==typeof A.rfrVar){var y=gx.fn.getHidden(this.gxComponentContext+"GXH_"+A.fld);A=A.val();if(void 0!==y&&y!=A)return!0}}return!1};this.getRefreshParmsUrl=function(n){return this.getParmsValues(n,this.refreshParms,!0).join(",")};this.getParmsValues=function(n,v,A){var y=gx.O,D=v.length,I=[];gx.setGxO(this.parentObject);for(var K=function(W,ea,oa,pa){!0===
oa&&(ea=gx.ajax.ControlValuesObject(ea,W))&&pa.push(encodeURIComponent(gx.json.serializeJson(ea)));pa.push(W)},M=0;M<D;M++){var P=v[M];if(P&&("function"==typeof P.c2v&&P.c2v(),"function"==typeof P.v2bc&&P.v2bc.call(gx.O),"undefined"!=typeof P.rfrVar)){var S=gx.fn.vStructForVar(P.rfrVar);if(!S&&(S=gx.fn.getVarControlMapForVar(P.rfrVar))&&!n){var O=this.parentObject.getValidStructFld(S.id);if(O&&O.isuc){var X=O&&O.grid?gx.fn.currentGridRowImpl(O.grid):void 0;(O.getUCInstance(X)||O.uc).execC2VFunctions()}}if(S&&
("undefined"==typeof P.rfrProp||this.isValueProperty(P.rfrProp)))var R=S.type}if("undefined"!=typeof P.rfrVar){S=ctrlName=colVStruct=void 0;if("undefined"!=typeof P.rfrProp){var aa;"undefined"!=typeof P.gxAttId&&(aa=this.grid.getColumnByGxAttId(P.gxAttId));aa||(aa=this.grid.getColumnForVar(P.rfrVar));aa?(O=P.rfrProp.toLowerCase(),S=aa.hasOwnProperty(O)?aa[O]:aa.gxControl[O],this.isValueProperty(O)&&aa.gxControl.type==gx.html.controls.types.image&&(S=gx.util.removeBaseUrl(S)),(colVStruct=this.parentObject.getValidStruct(aa.gxId))&&
this.isValueProperty(O)&&(R=colVStruct.type)):S=""}else"undefined"!=typeof this.parentObject.VarControlMap[P.rfrVar]&&(ctrlName=this.parentObject.VarControlMap[P.rfrVar].id),gx.lang.emptyObject(this.parentObject[P.rfrVar])?"undefined"==typeof S&&"undefined"!=typeof ctrlName&&(S=gx.fn.getHidden(this.gxComponentContext+ctrlName)):S=this.parentObject[P.rfrVar],"object"==typeof S&&"date"!=R&&"dtime"!=R&&(S=gx.json.serializeJson(S));S="undefined"==typeof S?"":S;K(this.getFormattedParm(S,R),P.rfrVar,(!P.rfrProp||
"Value"===P.rfrProp)&&A,I)}else"string"==typeof P.gxGrid?(S=gx.O.getGridByBaseName(P.gxGrid),"string"==typeof P.rfrProp&&"Rows"==P.rfrProp&&I.push(S?S.grid.pageSize:9999)):gx.lang.emptyObject(P.hc)?(K(this.getFormattedVStructParm(P),P.gxvar,(!P.rfrProp||"Value"===P.rfrProp)&&A,I),gx.fn.setHidden(this.gxComponentContext+"GXH_"+P.fld,P.val())):(S=gx.fn.getHidden(this.gxComponentContext+"GXH_"+P.fld),I.push(encodeURIComponent(n&&"undefined"!==typeof S?S:this.parentObject[P.hc])))}this.parentObject.IsComponent&&
I.push(encodeURIComponent(this.parentObject.CmpContext));gx.setGxO(y);return I};this.initRefreshParms=function(){this.parentObject.autoRefresh&&(this.lastRefreshParms=this.getRefreshParmsUrl(!0))};this.isValueProperty=function(n){return"undefined"!=typeof n&&"value"==n.toLowerCase()};this.getFormattedVStructParm=function(n){if("date"==n.type||"dtime"==n.type){var v=gx.dom.el(this.gxComponentContext+n.fld);v="undefined"!=typeof v.value?v.value:gx.dom.spanValue(v)||v}else v=n.val();return this.getFormattedParm(v,
n.type)};this.getFormattedParm=function(n,v){"date"===v?n=gx.date.urlDate(n,gx.dateFormat):"dtime"===v&&(n=gx.date.urlDateTime(n,gx.dateFormat));return encodeURIComponent(n)};this.callAsyncRefresh=function(n,v){gx.evt.refreshGridCallback||(gx.evt.refreshGridCallback=[]);null!=this.refreshTimer&&(window.clearTimeout(this.refreshTimer),this.refreshTimer=null,gx.evt.setReady(!0,"callAsyncRefresh"));gx.evt.setReady(!1,"callAsyncRefresh");var A=gx.util.executionContext.getContext();this.refreshTimer=window.setTimeout(function(){gx.util.executionContext.changedContext(A)||
(this.autoRefreshing||gx.evt.processing?this.callAsyncRefresh(n):(gx.fx.obs.addObserver("grid.onafterrefresh",gx.evt,gx.evt.notifyRefreshGrid,{single:!0}),"undefined"===typeof n&&(n=this.getRefreshParmsUrl()),gx.ajax.refreshGrid(this,n),gx.evt.setReady(!0,"callAsyncRefresh"),this.refreshTimer=null))}.closure(this),v||400)};this.updatePropsHidden=function(n){var v=this.getDataHiddenName();gx.fn.setHidden(v,n)};this.updatePagingVarsAfterRefresh=function(n){if(this.usePaging){var v=this.grid.gxGridName.toUpperCase()+
"_nEOF",A=this.grid.gxGridName.toUpperCase()+"_nFirstRecordOnPage";this.setPagingVars(n[v],n[A])}};this.getSelection=function(){if(this.allowSelection)for(var n=this.grid.rows.length,v=0;v<n;v++)if(this.grid.rows[v].selected)return v;return-1};this.setNextRowSelected=function(n){var v=Math.min(this.getSelection()+1,this.grid.rows.length);this.setSelection(v,n);this.grid.keepGridItemVisible(v)};this.setPreviousRowSelected=function(n){var v=Math.max(this.getSelection()-1,0);this.setSelection(v,n);this.grid.keepGridItemVisible(v)};
this.setProperty=function(n){if(n.Selectedindex)if(n=Number(n.Selectedindex),-1==n)this.setSelection(n);else return this.setSelectionRowCtrl(this.grid.getRowByPos(n));return!1};this.setSelection=function(n,v){if(this.allowSelection){if(-1==n)return this.grid.setRowSelected(void 0,"",void 0,void 0,v),!0;if(0<=n)return n=this.getRowCtrlByIdx(n),this.setSelectionRowCtrl(n,v)}return!1};this.setSelectionRowCtrl=function(n,v){return this.allowSelection&&n?(this.grid.setRowSelected(n,n.getAttribute("data-gxrow"),
void 0,void 0,v),!0):!1};this.getRowCtrlByIdx=function(n){return gx.dom.el(this.grid.gxCmpContext+this.grid.gxGridObject+"Row_"+gx.grid.rowId(n+1))};this.blankGridRows=function(){this.InfiniteScrolling&&(this.additiveResponse=0!=this.grid.firstRecordOnPage);this.InfiniteScrolling&&this.additiveResponse||(this.lastRowId=0,this.grid.rows=[],delete this.grid.rowsValues)};this.setRowDeleted=function(n){n="string"==typeof n?this.grid.getRowByGxId(n):void 0==n.gxId?this.getRowFromHtmlCtrl(n):n;n.setDeleted(!n.gxDeleted());
this.setRowModified(n.gxId);gx.fn.removeGridRow(n.gxId,this.gridId.toString());var v=new gx.text.stringBuffer;parseInt(n.gxId);this.grid.renderRow(n,!1,n.id,0,this.grid.lastRenderedRow,this.gxIsFreestyle&&1<this.gxGridCols,v,void 0,this.grid.gxBuffer.toString(),this.grid.columns.length,void 0,void 0,void 0,void 0,this.grid.fromCollection,this.grid.columns);n=v.toString();v=(v=n.match(/id='(\S+)'/))&&gx.dom.el(v[1]);v.outerHTML=n;gx.plugdesign.applyTemplateObject(v);gx.dom.indexElements()};this.setFocusFirstControl=
function(n){for(var v=0;v<n.Count;v++){var A=this.grid.getRowByGxId(gx.grid.rowId(this.lastRowId)+this.grid.gxParentRowId);if(A&&(A=gx.dom.el(this.grid.gxCmpContext+this.grid.columns[v].htmlName+"_"+A.gxId),void 0!=A&&gx.fn.isAccepted(A))){gx.grid.lastFocusCtrl=this.grid.columns[v].gxId;gx.fn.setFocus(A);break}}};this.instanciateRow=function(n){var v=gx.O,A,y;gx.setGxO(this.parentObject);gx.csv.instanciatedRowGrid=this;try{var D=n;"string"==typeof D&&(D=this.grid.getRowByGxId(n));if(null!=D){gx.fn.setCurrentGridRow(this.gridId,
D.gxId);var I=D.values.length;for(y=0;y<I;y++){var K=this.grid.columns[y];if(""!=K.gxId){var M=this.parentObject.getValidStruct(K.gxId);M&&(this.useUserControlModelValues()?M.v2v&&(M.v2v(this.grid.properties[D.id][K.index].value),gx.fn.setHidden(this.grid.properties[D.id][K.index].id,this.grid.properties[D.id][K.index].value)):"function"==typeof M.c2v&&M.c2v())}}}else for(gx.fn.setCurrentGridRow(this.gridId,n),I=this.grid.columns.length,y=0;y<I;y++)K=this.grid.columns[y],""!=K.gxId&&(M=this.parentObject.getValidStruct(K.gxId))&&
"function"==typeof M.c2v&&M.c2v();var P=this.parentObject.UserControls;for(A in P)if(P.hasOwnProperty(A)){var S=P[A];S.GridId===this.gridId&&S.GridRow===D.gxId&&(this.parentObject[S.DesignContainerName]=S)}}catch(O){gx.dbg.logEx(O,"gxgrid.js","instanciateRow")}gx.setGxO(v);return!0};this.setRenderProp=function(n,v,A,y){this.grid.setProp(n,v,A,y)};this.setRenderDynProp=function(n,v,A,y){this.grid.setDynProp(n,v,A,y)};this.addRenderEventHandler=function(n,v){this.grid.addEventHandler(n,v)};this.addRenderV2CFunction=
function(n){this.grid.addV2CFunction(n)};this.addRenderC2VFunction=function(n){this.grid.addC2VFunction(n)};this.cleanup=function(){gx.grid.clearActiveGrid(this);this.parentGrid=this.parentObject=null;this.grid.ownerGrid=null;this.grid.parentGxObject=null;this.grid.container=null;this.grid.ascLabel=null;this.grid.descLabel=null;this.grid.columns=null;this.grid.rows=null;this.grid=this.grid.selectedRows=null;this.unInstallScrollListener()};this.loadGrid=function(n){gx.dbg.logPerf("loadGrid_"+this.gridName);
n=n||{};var v=n.rowProps,A=n.isPostback,y=n.addRows;n=n.isNestedLoad;this.isNestedLoad=this.isNestedLoad||n;n=gx.O;gx.setGxO(this.parentObject);this.isLoading=!0;var D=this.parentObject.isTransaction();D&&null==this.contextMenu&&(this.contextMenu=new gx.grid.contextMenu(this));if(void 0!=v){D=v.GridName?v[v.GridName.toUpperCase()+"_nEOF"]:void 0;var I=v.GridName?v[v.GridName.toUpperCase()+"_nFirstRecordOnPage"]:void 0,K=this.getContainerControl();if(null!=K){this.autoRefreshing?this.updatePagingVarsAfterRefresh(v):
this.updatePagingVars(D,I);this.InfiniteScrolling&&(this.additiveResponse=0!=this.grid.firstRecordOnPage);A&&!y&&(v.values=this.getValuesFromHidden(),this.isFreestyle&&gx.lang.emptyObject(this.parentRow)&&this.backupComponents());this.deleteGridData();this.grid.setContainerDelayed(K);this.additiveResponse||this.clearHiddens();this.setRowsProperty();A=this.getSelection();this.autoRefreshing?this.updatePagingVarsAfterRefresh(v):this.updatePagingVars(D,I);y||this.blankGridRows();this.setHtmlTags(v);
this.setGridStyles(v);this.setDeleteMethod(v.DeleteMethod);this.setSelectionAndHover(v.Allowselection,v.Selectioncolor,v.Allowhover,v.Hovercolor,v.Selectedindex);this.setCollapsing(v.Allowcollapsing,v.Collapsed);this.setSflColumns(v.SflColumns);this.setColumnsProperties(v.Columns);y||this.addRows(v);this.updateOldComponents();this.initRefreshParms();var M=this.getGridInnerTableId();M=void 0!==e("#"+M).attr("data-gx-grid-nodata");M=this.refreshGrid({addRows:y&&!M,loadChildGrids:null,fromAutoRefresh:this.autoRefreshing});
this.setProperty({Selectedindex:A+1})}}else this.clearHiddens(),this.setRowsProperty(),this.grid.pageSize=D||this.isFreestyle?9999:this.gridRows,K=this.getContainerControl(),null!=K?(this.grid.setContainerDelayed(K),y=this.getRowsFromHidden(),null!=y?(y.values=this.getValuesFromHidden(),this.blankGridRows(),this.setHtmlTags(y),this.setGridStyles(y),this.setDeleteMethod(y.DeleteMethod),this.setSelectionAndHover(y.Allowselection,y.Selectioncolor,y.Allowhover,y.Hovercolor,y.Selectedindex),this.setCollapsing(y.Allowcollapsing,
y.Collapsed),this.setSflColumns(y.SflColumns),this.setColumnsProperties(y.Columns),this.updatePagingVars(),this.addRows(y),this.initRefreshParms(),this.addingRows=!0,M=this.refreshGrid(),this.addingRows=!1):(this.blankGridRows(),this.updatePagingVars(),this.initRefreshParms(),M=this.refreshGrid())):M=this.loadWrappedGridChilds();this.isLoading=!1;gx.setGxO(n);gx.dbg.logPerf("loadGrid_"+this.gridName,"Grid '"+this.gridName+"' loaded");return M};this.loadWrappedGridChilds=function(){var n=e.Deferred();
try{var v=gx.fn.getHidden(this.grid.gxCmpContext+"nRC_GXsfl_"+this.gridId);if("undefined"!=typeof v){v=parseInt(v);for(var A=0;A<v;A++)for(var y=this.grid.columns.length,D=0;D<y;D++){var I=this.grid.columns[D];I.gxControl.type==gx.html.controls.types.userControl&&this.addUsercontrolToDraw({r:gx.grid.rowId(A+1),c:I})}this.setupGridUsercontrols(this.GridUserControls)}}catch(K){gx.dbg.logEx(K,"gxgrid.js","loadWrappedGridChilds")}n.resolve();return n};this.getRowsFromHidden=function(){var n=this.getDataHiddenName(),
v=gx.fn.getHidden(n);gx.json.setNonSerializable(n);return"string"==typeof v?gx.json.evalJSON(v):"object"==typeof v?v:null};this.deleteGridData=function(){var n=this.getDataHiddenName();gx.json.setNonSerializable(n)};this.getValuesFromHidden=function(){var n=this.getValuesHiddenName(),v=gx.fn.getHidden(n);gx.lang.emptyObject(v)&&(v=gx.fn.getControlValue(n));gx.json.setNonSerializable(n);n=null;null!=v&&""!=v&&(n=gx.json.evalJSON(v));return n};this.getContainerControlId=function(){return void 0!=this.gxContainerDivName?
this.gxContainerDivName:this.grid.gxCmpContext+this.containerName+"Div"};this.getContainerControl=function(){if(!this.gxContainerCtrl){var n=gx.dom.byId(this.getContainerControlId());n&&(this.gxContainerCtrl=n,n.setAttribute("data-gxgridid",this.gridId.toString()),gx.dom.addClass(n,"gx-grid"),this.isResponsive&&gx.dom.addClass(n,"gx-responsive-grid"),gx.dom.addClass(n,this.isFreestyle?"gx-freestyle-grid":"gx-standard-grid"),n.gxGridName=this.grid.gxGridName)}return this.gxContainerCtrl};this.getHiddenSuffix=
function(){return""==this.grid.gxParentRowId?"":"_"+this.grid.gxParentRowId};this.getDataHiddenName=function(){return void 0!=this.gxContainerDataName?this.gxContainerDataName:this.grid.gxCmpContext+this.containerName+"Data"+this.getHiddenSuffix()};this.getValuesHiddenName=function(){return void 0!=this.gxContainerValuesName?this.gxContainerValuesName:this.grid.gxCmpContext+this.containerName+"DataV"+this.getHiddenSuffix()};this.setColumnsProperties=function(n){try{if(!gx.lang.emptyObject(n))for(var v=
n.length,A=0;A<v;A++){var y=this.grid.columns[A];for(I in n[A]){var D=n[A][I];var I=this.fixColumnPropName(I);if(this.isUsercontrol){var K=gx.uc.getClientProperty(I,D);y[K.name]=K.value}y[I.toLowerCase()]=D}this.checkPromptColumn(y)}}catch(M){gx.dbg.logEx(M,"gxgrid.js","setColumnsProperties")}};this.checkPromptColumn=function(n){try{if(this.isPromptColumn(n)){var v=gx.fn.getAttachedCtrl(n.htmlName);if(v&&v.info&&v.info.controls){for(var A=!1,y=!1,D=v.info.controls.length,I=0;I<D;I++){var K=this.grid.getColumnByGxId(v.info.controls[I]),
M=gx.lang.gxBoolean(K.enabled),P=gx.lang.gxBoolean(K.visible);M&&(y=!0);P&&(A=!0)}y||(n.enabled="0");A||(n.visible="0")}}}catch(S){gx.dbg.logEx(S,"gxgrid.js","checkPromptColumn")}};this.fixColumnPropName=function(n){return"Horizontalalignment"==n?"align":n};this.setDeleteMethod=function(n){if(this.parentObject.isTransaction()){var v="DSP"==this.parentObject.Gx_mode;!v&&n&&"none"==n&&(v=!0);this.deleteMethod=v?gx.grid.deleteMethods.none:gx.grid.deleteMethod}};this.setSelectionAndHover=function(n,v,
A,y,D){try{"undefined"!=typeof n&&(this.allowSelection=gx.lang.gxBoolean(n)),"undefined"!=typeof v&&(this.selectionColor=null),"undefined"!=typeof y&&(this.hoverColor=null),this.allowSelection&&"undefined"!=typeof v&&("undefined"!=typeof A&&(this.allowHovering=gx.lang.gxBoolean(A)),v=eval(v),this.selectionColor="undefined"!=typeof v[0]?gx.color.fromRGB(v[0],v[1],v[2]):gx.color.html(v),this.allowHovering&&"undefined"!=typeof y&&(y=eval(y),this.hoverColor="undefined"!=typeof y[0]?gx.color.fromRGB(y[0],
y[1],y[2]):gx.color.html(y))),this.grid.gxAllowSelection=this.allowSelection,this.grid.gxSelectionColor=this.selectionColor,this.grid.gxAllowHovering=this.allowHovering,this.grid.gxHoverColor=this.hoverColor,this.grid.selectedRows=[],D=Number(D||0),0<D&&(this.grid.Selectedindex=D-1)}catch(I){gx.dbg.logEx(I,"gxgrid.js","setSelectionAndHover")}};this.setCollapsing=function(n,v){try{void 0!==n&&(this.allowCollapsing=gx.lang.gxBoolean(n),this.grid.gxAllowCollapsing=this.allowCollapsing),void 0!==v&&(this.collapsed=
gx.lang.gxBoolean(v),this.grid.gxCollapsed=this.collapsed)}catch(A){gx.dbg.logEx(A,"gxgrid.js","setCollapsing")}};this.setSflColumns=function(n){try{gx.lang.emptyObject(n)&&0!==n||(this.gridCols=gx.grid.validGridColsValue(parseInt(n)),this.grid.gxGridCols=this.gridCols,1<this.gridCols&&0<this.gridRows&&(this.grid.pageSize=(this.gridRows?this.gridRows:1)*this.gridCols))}catch(v){gx.dbg.logEx(v,"gxgrid.js","setSflColumns")}};this.isPromptColumn=function(n){return n.gxAttId.indexOf&&-1!=n.gxAttId.indexOf("prompt_")?
!0:!1};this.setRowsProperty=function(){var n=gx.fn.getHidden(this.getHiddenName("Rows"));if(null!=n){try{this.gridRows=parseInt(n,10)}catch(v){gx.dbg.logEx(v,"gxgrid.js","setRowsProperty")}this.grid.pageSize=this.gridRows*(1<this.gridCols?this.gridCols:1)}};this.crearInstalledSuggests=function(){for(var n=this.grid.columns.length,v=0;v<n;v++){var A=this.parentObject.getValidStruct(this.grid.columns[v].gxId);A&&A.gxsgprm&&A.gxsgprm.installed&&(A.gxsgprm.installed={})}};this.refreshCollection=function(n){try{this.blankGridRows();
this.updatePagingVars();this.initRefreshParms();for(var v=n.length,A=0;A<v;A++){for(var y={Props:[]},D=n[A],I=this.grid.columns.length,K=0;K<I;K++){var M=this.grid.columns[K];y.Props[M.index]=[D[M.gxAttName]]}this.addRow(y)}this.refreshGrid({loadChildGrids:!1,fromAutoRefresh:!1,fromCollection:!0})}catch(P){gx.dbg.logEx(P,"gxgrid.js","refreshCollection")}};this.refreshGrid=function(n){var v=e.Deferred(),A=[v];n=n||{};var y=n.loadChildGrids,D=n.fromAutoRefresh,I=n.fromCollection,K=n.isNestedLoad,M=
n.immediateApplyInfiniteScroll;this.isNestedLoad=this.isNestedLoad||K;this.DatePickersControls=[];this.GridUserControls=[];this.GridComponents=[];this.GridControls=[];this.ColumnPropertiesAfterRender=[];this.additiveResponse||(n.addRows||this.clearDefaultEventHandlers(),this.clearHiddens());this.crearInstalledSuggests();this.setRowsProperty();void 0==this.parentRow||gx.lang.emptyObj(this.parentRow.Grids)||(K=this.parentRow.Grids[this.realGridName],null!=K&&(this.setHtmlTags(K),this.setGridStyles(K),
this.setColumnsProperties(K.Columns),this.addingRows||this.parentRow.IsNew&&this.addRows(K)));var P=!1;K=function(){this.setupGridControls(this.GridControls);this.setupCellAttributes(this.IsValidState);this.setupFixedColumnProperties();this.setupGridUsercontrols(this.GridUserControls);this.installFixedGridHeader();var O=this,X=this.getGridInnerTableId(),R=this.grid.scroll_last_row_selector(this.gridRows),aa=this.grid.scroll_first_row_selector(this.gridRows);this.grid.firstItemSelector="#"+X+aa;this.grid.lastItemSelector=
"#"+X+R;var W=function(ea){ea=e.map(ea,function(oa,pa){return oa.onLoadDeferred});e.when.apply(e,ea).done(function(){if(O.InfiniteScrolling)if(M)O.handleInfiniteScrolling();else{var oa=O.getContainerControl();gx.fn.isVisible(oa)?gx.spa.isNavigating()?gx.spa.addObserver("onnavigatecomplete",O,O.handleInfiniteScrolling,{single:!0}):gx.ol(O.handleInfiniteScrolling,O):gx.dom.getIntersectionObserver(function(pa){var ia=new pa(function(){gx.fn.isVisible(oa)&&(ia.disconnect(),O.handleInfiniteScrolling())},
{root:document.body});ia.observe(oa)})}v.resolve()})};this.setupGridComponents(this.GridComponents).then(function(){var ea=e.map(O.GridComponents,function(oa,pa){return gx.pO.getWebComponent(oa.p)});O.isFreestyle&&(A=A.concat(O.loadRowsGrids(P,n)));gx.fx.obs.notify("grid.onafterrender",[O.grid,O.isNestedLoad]);O.isNestedLoad?(O.isNestedLoad=!1,W(ea)):O.additiveResponse?gx.pendingCmps?gx.fx.obs.addObserver("webcom.all_rendered",O,function(){O.infinite_scrolling_after_scroll()}):O.infinite_scrolling_after_scroll():
O.applyTemplateObject().then(function(){W(ea)});O.additiveResponse=!1});this.triggerDatePickersSetup(this.DatePickersControls);this.installImageControls();this.updateRcdCount();this.setDefaultEventHandlers();this.setSelection(this.grid.Selectedindex)};K=K.closure(this);this.grid.doSort();0==y?this.grid.render(P,!1,I,K,n):(P=!0,this.grid.render(P,D,I,K,n));var S=e.Deferred();e.when.apply(e,A).done(function(){S.resolve()});return S.promise()};this.getGridInnerTableId=function(){return this.gxComponentContext+
this.containerName+"Tbl"};this.disposeTemplateObject=function(){gx.fx.obs.deleteObserverByKey(this.getContainerControl().id)};this.applyTemplateObject=function(n){n=n||{};var v=this.isFreestyle&&!this.parentObject.IsComponent?"."+gx.GxObject.WEBCOMPONENT_CLASS_NAME+" *":"";gx.$.extend(n,{selector:"#"+this.getContainerControl().id,excluded:v,observerKey:this.getContainerControl().id});return gx.plugdesign.applyTemplateObject(n)};var la="gx-wc-bkp_"+f+"_"+b;this.getComponentsBackupContainer=function(){var n=
gx.dom.byId(la);n||(n=document.createElement("div"),n.id=la,n.style.display="none",document.body.appendChild(n));return n};this.destroyComponentsBackup=function(){var n=gx.dom.byId(la);n&&n.parentNode&&gx.dom.removeControlSafe(n)};this.backupComponents=function(){try{if(!this.additiveResponse)for(var n=this.grid.rows.length,v=0;v<n;v++){for(var A=this.grid.rows[v],y=this.grid.columns.length,D=0;D<y;D++)if(this.grid.columns[D].gxControl.type==gx.html.controls.types.webComponent){var I=this.parentObject.getComponentPrefix(A.gxProps[D][0]),
K=gx.dom.byId(this.gxComponentContext+"gxHTMLWrp"+I+A.gxId);K&&(K.parentNode.removeChild(K),this.getComponentsBackupContainer().appendChild(K))}var M=A.gxGrids.length;for(D=0;D<M;D++){var P=A.gxGrids[D];P&&P.isFreestyle&&P.backupComponents()}}}catch(S){gx.dbg.logEx(S,"gxgrid.js","backupComponents")}};this.getEntireGridColumn=function(n){var v=this.getContainerControl();if(!v)return[];var A=v.firstChild;v=[];if(A.querySelectorAll)v=gx.fn.toArray(A.querySelectorAll("td[data-colindex='"+n+"'], th[data-colindex='"+
n+"']"));else{var y=gx.dom.byTag("TD",A);A=gx.dom.byTag("TH",A);for(var D=0,I=y.length;D<I;D++)y[D].getAttribute("data-colindex")==n&&v.push(y[D]);D=0;for(I=A.length;D<I;D++)A[D].getAttribute("data-colindex")==n&&v.push(A[D])}return v};this.applyPropEntireColumn=function(n,v,A){n=this.getEntireGridColumn(n);for(var y=0;y<n.length;y++)gx.fn.setCtrlPropertyImpl(n[y],v,A)};this.setupFixedColumnProperties=function(){for(var n=0;n<this.ColumnPropertiesAfterRender.length;n++){var v=this.ColumnPropertiesAfterRender[n];
this.applyPropEntireColumn(v.colIndex,v.ptyName,v.ptyValue)}};this.addColPropertyAfterRender=function(n,v,A){A={colIndex:n,ptyName:v,ptyValue:A};n="gxpty"+v+n;(v=this.ColumnPropertiesAfterRender[n])?this.ColumnPropertiesAfterRender[v]=A:(v=this.ColumnPropertiesAfterRender.push(A)-1,this.ColumnPropertiesAfterRender[n]=v)};this.setupCellAttributes=function(n){for(var v in n){var A=n[v],y=gx.dom.byId(v);if(y)for(var D in A)y.setAttribute(D,A[D])}};this.setupGridControls=function(n){for(var v=0,A=n.length;v<
A;v++){var y=n[v],D=gx.dom.byId(y.hookId),I=D.parentNode;I&&(I.insertBefore(y.el,D),gx.dom.removeControlSafe(D))}};this.setupGridComponents=function(){var n=function(A,y){var D,I=A.length;for(D=0;D<I;D++){var K=A[D];if(!1!==K.create){var M=gx.createComponent(K.n,K.p);if(null!=M){gx.addComponent(M);M.readServerVars();if(K.load)M.onload(void 0,!0);D==I-1&&y.resolve()}}}},v=function(A){var y,D=A.length;for(y=0;y<D;y++)gx.dom.removeClass(A[y],gx.GxObject.WEBCOMPONENT_LOADING_CLASS_NAME)};return function(A){var y=
e.Deferred(),D,I=A.length,K=[];0==I&&y.resolve();var M=[];for(D=0;D<I;D++){var P=A[D];if(!1===P.create){var S=gx.dom.byId(P.existingEl);if(S){var O=S.parentNode;P=gx.dom.byId(P.el);gx.dom.removeControlSafe(S);O.appendChild(P);M.push(P)}D==I-1&&y.resolve()}else K.push(P.c)}gx.lang.requestAnimationFrame(v.closure(this,[M]));0<K.length&&gx.html.processCode(K.join(""),!1,n.closure(this,[A,y]));this.destroyComponentsBackup();return y.promise()}}();this.setupGridUsercontrols=function(n){var v=n.length;
gx.uc.StartRender();for(var A=0;A<v;A++){var y=n[A].r,D=n[A].c;y=gx.uc.getNew(this.parentObject,D.gxUCId,D.gxUCLastId,D.gxUCClassName,D.gxUCContainerName+"_"+y,D.gxUCControlName,D.gxUCFieldName,this.gridLvl,this.gridId,y);y.DesignContainerName=D.gxUCContainerName;y.setC2ShowFunction(D.gxShowFunc);for(var I=D.gxC2VFuncs.length,K=0;K<I;K++)y.addC2VFunction(D.gxC2VFuncs[K]);I=D.gxV2CFuncs.length;for(K=0;K<I;K++)y.addV2CFunction(D.gxV2CFuncs[K],D.gxUCFieldName);y.setGridProperties();y.setGridEventHandlers();
this.parentObject.setUserControl(y);y.execV2CFunctions(!0);y.execShowFunction()}gx.uc.EndRender()};this.triggerDatePickersSetup=function(n){for(var v=n.length,A=0;A<v;A++){for(var y=n[A].CtrlId,D=n[A].Grid,I=n[A].Row,K=gx.O,M=null,P=gx.fn.controlIds(),S=P.length,O=0;O<S&&(M=gx.fn.validStruct(P[O]),M.grid!=D||K.CmpContext+M.fld+"_"+I!=y);O++);null!=M&&void 0!=M.dp&&gx.fn.installDatePicker(y,M,K,M.dp.f,M.dp.st,M.dp.wn,M.dp.mf,gx.fn.datePickerFormat(M.dp.pic,M.dp.dec,M.len),M.len,M.dp.dec)}};this.installImageControls=
function(){var n=this.gxContainerCtrl,v=this.grid.newAdditiveRows?this.grid.newAdditiveRows.get(0):null;this.additiveResponse&&v&&v.childNodes[0]&&(n=v);n=gx.dom.byClass(gx.html.multimediaUpload.gxCssClass,"",n);if(n[0]){v=0;for(var A=n.length;v<A;v++)gx.html.multimediaUpload.createControl(n[v])}};this.addComponentToDraw=function(n){this.GridComponents.push(n)};this.addUsercontrolToDraw=function(n){this.GridUserControls.push(n)};this.addDatepickerToSetup=function(n){this.DatePickersControls.push(n)};
this.addControlToReuse=function(n){n.el.parentNode&&gx.dom.removeControlSafe(n.el);this.GridControls.push(n)};this.loadRowsGrids=function(n,v){v=v||{};var A=[],y=this.grid.rows.length;for(v=this.additiveResponse||v.addRows?this.firstAdditiveRow:0;v<y;v++)A=A.concat(this.loadRowGrids(this.grid.rows[v],n));return A};this.loadRowGrids=function(n,v){for(var A=n.gxGrids.length,y=[],D=0;D<A;D++){var I=n.gxGrids[D];I.grid.setContainerDelayed(gx.dom.byId(I.gxContainerDivName));if(v){if(void 0!=I.parentRow&&
!gx.lang.emptyObj(I.parentRow.Grids)){var K=I.getDataHiddenName();gx.fn.setHidden(K,gx.json.serializeJson(I.parentRow.Grids[I.realGridName]))}y.push(I.loadGrid({isNestedLoad:!0}))}else y.push(I.refreshGrid({isNestedLoad:!0}));n.IsNew=!1}return y};this.updateRcdCount=function(){(this.hasForEachLine||this.parentObject.isTransaction())&&gx.fn.setHidden(this.grid.gxCmpContext+"nRC_GXsfl_"+this.gridId+(""==this.grid.gxParentRowId?"":"_"+this.grid.gxParentRowId),this.lastRowId.toString());var n=gx.fn.getHidden(this.grid.gxCmpContext+
this.gridName.toUpperCase()+"_ROW");if(0==this.lastRowId||parseInt(n,10)>this.lastRowId)this.grid.instanciateSelectionVars("0000"),gx.fn.setCurrentGridRow(this.gridId,"")};this.updateControlValue=function(n,v,A){try{var y=this,D=A=A||gx.fn.currentGridRow(n.grid).toString(),I=A.length;if(4<I){var K=A.substring(4,I);y=gx.fn.gridObj(this.gxComponentContext,this.gridName+"_"+K,this.isMasterPageGrid);if(!y)return;D=A.substring(0,4)}var M=parseInt(D,10)-1;1==v&&y.setRowModified(A);var P=y.getColumnIndexByName(n.fld),
S=gx.dom.el(this.gxComponentContext+n.fld+"_"+A);y.updateRowValue(P,M,S);return y}catch(O){gx.dbg.logEx(O,"gxgrid.js","updateControlValue")}return null};this.persistControlValue=function(n,v,A){var y=n.lastIndexOf("_");if(-1!=y){var D=n.substring(0,y);y=n.substring(y+1);if(y=this.grid.getRowByGxId(y))if(D=this.grid.getColumnByHtmlName(D)){var I=this.parentObject[A.gxvar];"decimal"==A.type&&gx.lang.instanceOf(I,Number)&&(I=I.toFixed(A.dec));y.values[D.index]=I;y.gxProps[D.index]||(y.gxProps[D.index]=
{});(n=gx.dom.el(n))&&"SELECT"==n.tagName&&(y.gxProps[D.index].Values=gx.dom.comboBoxToObj(n));y.gxProps[D.index].Value=I;y.gxProps[D.index].FormattedValue=v}}};this.getColumnIndexByName=function(n){for(var v=this.grid.columns,A=v.length,y=0;y<A;y++)if(v[y].htmlName==n)return y;return-1};this.setRowModified=function(n){gx.fn.setHidden(this.grid.gxCmpContext+"nIsMod_"+this.gridLvl.toString()+"_"+n,1);null!=this.parentGrid&&this.parentGrid.setRowModified(this.grid.gxParentRowId);this.grid.showDeleteImage(n)};
this.validateRow=function(n){if(n)try{var v=n.getAttribute("data-gxgridid");gx.fn.setCurrentGridRow(v,n.gxrow);var A=gx.fn.lastGridControl(v);gx.csv.validControls(gx.csv.lastId,A+1,!0,gx.O)}catch(y){gx.dbg.logEx(y,"gxgrid.js","validateRow")}};this.updateRowValue=function(n,v,A){v=this.grid.getRowById(v);var y=this.grid.columns[n];"checkbox"==A.type&&(A.value=A.checked?y.gxChecked:y.gxUnChecked);A=this.parentObject.getValidStruct(this.grid.columns[n].gxId).val(v.gxId);v.values[n]=A;gx.lang.emptyObject(v.gxProps[n])||
(v.gxProps[n].Value=A,v.gxProps[n].FormattedValue=gx.fn.getControlValue(this.grid.columns[n].htmlName+"_"+v.gxId,"screen"));this.parentObject.isTransaction()&&(n=this.columnIndexInKey(y.gxAttId),-1!=n&&(v.gxKeyValues[n]=A));y.gxControl.type==gx.html.controls.types.blob&&gx.fn.setControlValue(this.grid.gxCmpContext+y.htmlName+"_"+v.gxId+"_gxBlob",A)};this.expandCollapse=function(n,v){gx.evt.cancel(v,!0);v=gx.dom.byId(this.getGridInnerTableId());null!=v&&(this.collapsed?(e(v).removeAttr("data-gx-sr-only"),
n.className="collapse-icon",n.src=gx.ajax.getImageUrl(gx,"collapseImage")):(e(v).attr("data-gx-sr-only",""),n.className="expand-icon",n.src=gx.ajax.getImageUrl(gx,"expandImage")),this.collapsed=!this.collapsed,this.grid.gxCollapsed=this.collapsed,this.parentGrid?(n=this.gridName.lastIndexOf("_"),n=this.gridName.substring(n),n=this.gxComponentContext+this.realGridName.toUpperCase()+"_Collapsed"+n):n=this.gxComponentContext+this.realGridName.toUpperCase()+"_Collapsed",gx.fn.setHidden(n,this.collapsed?
"1":"0"))};this.getRowFromHtmlCtrl=function(n){var v=n.gxrow;gx.lang.emptyObject(v)&&(v=n.id.lastIndexOf("_"),v=n.id.substring(v+1));return this.grid.getRowByGxId(v)};this.showContextMenu=function(n,v){this.contextMenu.show(n,v)}},contextMenu:function(q){this.gxgrid=q;this.controlName=this.gxgrid.containerName+"ContextMenu";this.eventSource=this.contextEvent=this.rowClicked=null;var g=new gx.text.stringBuffer;this.show=function(h,a){this.gxgrid.validateRow(h);this.contextEvent=a;this.eventSource=
gx.evt.source(this.contextEvent);gx.evt.cancel(a,!0);this.rowClicked=h;this.startMenu();g.append('<div class="').append("menuItem").append('" id="').append("deleteRow").append('" align="center">').append(gx.getMessage("GXM_deleterow")).append("</div>");this.endMenu()};this.startMenu=function(){g.clear();var h=this.getMenuCoords();g.append('<div onclick="').append(this.gxgrid.grid.gridObject()+".contextMenu.contextMenuClicked(event);").append('" onmouseover="');g.append(this.gxgrid.grid.gridObject()+
".contextMenu.switchContextMenu();").append('" onmouseout="').append(this.gxgrid.grid.gridObject()+".contextMenu.switchContextMenu();").append('" oncontextmenu="gx.evt.cancel(event, true);');g.append('" style="').append("position:absolute;width:100;background-Color:menu; border: outset 1px gray;");g.append("top:"+h.top+"; left:"+h.left+";").append('">')};this.endMenu=function(){g.append("</div>");var h=gx.dom.byId(this.controlName);null==h&&(h=document.createElement("SPAN"),ContextControlShadow=document.createElement("SPAN"),
ContextControlShadow2=document.createElement("SPAN"),IFrameControl=document.createElement("IFRAME"),h.id=this.controlName,ContextControlShadow.id=this.controlName+"Shadow",ContextControlShadow2.id=this.controlName+"Shadow2",IFrameControl.id=this.controlName+"GXiFrameIEHack",IFrameControl.src="about:blank",IFrameControl.style.zIndex=1,IFrameControl.style.visibility="hidden",IFrameControl.style.position="absolute",IFrameControl.frameBorder="0",document.body.appendChild(h),document.body.appendChild(ContextControlShadow),
document.body.appendChild(ContextControlShadow2),document.body.appendChild(IFrameControl));gx.dom.shouldPurge()&&gx.dom.purge(h,!0);h.innerHTML=g.toString()};this.hide=function(){this.contextEvent=this.rowClicked=null;gx.dom.removeControl(gx.dom.byId(this.controlName))};this.getMenuCoords=function(){var h=0,a=0,b=this.contextEvent;if(b.pageX||b.pageY)h=b.pageX,a=b.pageY;else if(b.clientX||b.clientY)h=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=b.clientY+document.body.scrollTop+
document.documentElement.scrollTop;return{left:h,top:a}};this.contextMenuClicked=function(h){h=gx.evt.source(h);this.handleContextMenuAction(h.id);this.hide()};this.handleContextMenuAction=function(h){switch(h){case "deleteRow":this.gxgrid.setRowDeleted(this.rowClicked);break;case "undeleteRow":this.gxgrid.setRowDeleted(this.rowClicked)}};this.switchContextMenu=function(){}},getPaddedRowId:function(q){q=""+q;return"0000".substring(0,4-q.length)+q},rowId:function(q){for(q=q.toString();4>q.length;)q=
"0"+q;return q},_init:function(){this.deleteMethod||(this.deleteMethod=this.deleteMethods.images);this.baseDeleteImage||(this.baseDeleteImage=this.deleteImage);this.deleteImage=this.deleteImage&&this.deleteMethod==this.deleteMethods.images?gx.ajax.getImageUrl(this,"baseDeleteImage"):gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"delete_16x.jpg",!0);this.baseUndeleteImage||(this.baseUndeleteImage=this.undeleteImage);this.undeleteImage=this.undeleteImage&&this.deleteMethod==this.deleteMethods.images?
gx.ajax.getImageUrl(this,"baseUndeleteImage"):this.deleteImage;this.deletePosition||(this.deletePosition=this.deletePositions.left);this.deletePositionFree||(this.deletePositionFree=this.deletePositions.topL);this.deleteTooltip=this.deleteTooltip?gx.getMessage(this.deleteTooltip):"";this.deleteTitle=this.deleteTitle?gx.getMessage(this.deleteTitle):""},_deinit:function(){this.lastFocusCtrl=null}}}(gx.$);
gx.grid.impl=function(e){return function(q){var g=/style="([^"]*)"/ig;this.basePath=gx.basePath;this.imgsDir=gx.staticDirectory;this.columns=[];this.columnsHtmlName=[];this.columnsGxId=[];this.columnsGxAttId=[];this.rows=[];this.rowsById=[];this.rowsByGxId=[];this.fixedValues=[];this.align=this.width="";this.border="0";this.padding="1";this.spacing="0";this.sortColumn=-1;this.usePaging=this.ascSort=!0;this.eof=1;this.firstRecordOnPage=0;this.pageSize=9999;this.currentPage=1;this.gxLvl=0;this.gxGridName=
"";this.gxGridObject=null;this.gxBuffer=new gx.text.stringBuffer;this.gxParentRowId="";this.gxHoveredRowId=null;this.evenRowCellClass=this.evenRowClass=this.oddRowCellClass=this.oddRowClass=this.columnHeaderTextClass=this.columnAutoHeaderClass=this.highlightedNavigationLinkClass=this.navigationLinkClass=this.navigationClass=this.editControlClass=this.footerClass=this.headerClass=this.tableClass="";this.rowsValues=[];this.pagingButtonFirstClass="PagingButtonsFirst";this.pagingButtonPreviousClass="PagingButtonsPrevious";
this.pagingButtonNextClass="PagingButtonsNext";this.pagingButtonLastClass="PagingButtonsLast";this.pagingButtonDisabled="gx-grid-paging-disabled";this.pagingBarClass="gx-grid-paging-bar";this.selectedRowClass="gx-row-selected";this.rendered=!1;"undefined"!=typeof Image?(this.ascLabel=new Image,this.descLabel=new Image):this.descLabel=this.ascLabel=null;this.id=q;this.container=null;this.setContainerDelayed=function(c){this.container=c};this.addColumn=function(c){c.isGxRemove()&&(c.visible=!1);var d=
this.columns.length;c.index=d;c.table=this;this.columns[d]=c;"undefined"!=typeof c.htmlName&&(this.columnsHtmlName[c.htmlName]=c);"undefined"!=typeof c.gxId&&(this.columnsGxId[c.gxId]=c);"undefined"!=typeof c.gxAttId&&(this.columnsGxAttId[c.gxAttId]=c);return c};this.getColumnByIndex=function(c){return this.columns[c]};this.getColumnByCtrlType=function(c){return e.map(this.columns,function(d){return d.gxControl.type==c?d:null})};this.addRow=function(c,d){c.table=this;if(null!=c)return this.rows[this.rows.length]=
c,"undefined"!=typeof c.id&&(this.rowsById[c.id]=c),"undefined"!=typeof c.gxId&&(this.rowsByGxId[c.gxId]=c),gx.lang.booleanValue(d)&&this.render(),c};this.getColumnByHtmlName=function(c){var d=this.columnsHtmlName[c];if("undefined"==typeof d&&"undefined"!=typeof this.gxCmpContext&&this.gxCmpContext.length<c.length){var f=c.substring(0,this.gxCmpContext.length);f==this.gxCmpContext&&(c=c.substring(this.gxCmpContext.length,c.length),d=this.columnsHtmlName[c])}return d};this.getColumnByGxId=function(c){return this.columnsGxId[c]};
this.getColumnByGxAttId=function(c){return this.columnsGxAttId[c]};this.getColumnForVar=function(c){for(var d=0;d<this.columns.length;d++){var f=this.parentGxObject.getValidStruct(this.columns[d].gxId);if(f&&f.gxvar==c)return this.columns[d]}return null};this.getRowById=function(c){return this.rowsById[c]};this.getRowByGxId=function(c){return this.rowsByGxId[c]};this.setSort=function(c,d){c==this.sortColumn?this.ascSort=null==d?!this.ascSort:gx.lang.booleanValue(d):(this.sortColumn=c,this.ascSort=
null==d?!0:gx.lang.booleanValue(d));this.doSort();this.ownerGrid.refreshGrid({immediateApplyInfiniteScroll:!0})};this.doSort=function(){-1!=this.sortColumn&&this.rows.sort(this.sort)};this.getControlName=function(c,d){return this.gxCmpContext+d.htmlName+"_"+c.gxId};this.getControlId=function(c,d){return this.getControlName(c,d)};this.getRowCount=function(){return this.rows.length};this.getMaxPage=function(){return Math.ceil(this.getRowCount()/this.pageSize)};this.isGxTrn=function(){return this.parentGxObject.isTransaction()};
this.gridObject=function(){return"gx.fn.gridObj('"+this.gxCmpContext+"','"+this.gxGridName+"',"+this.gxIsMasterPageGrid.toString()+")"};this.deleteImgId=function(c){return this.gxCmpContext+"delete"+this.gxGridName+"_"+c};this.showDeleteImage=function(c){this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&this.isGxTrn()&&(c=gx.dom.byId(this.deleteImgId(c)))&&!gx.fn.isVisible(c)&&(c.style.display="inline","A"==c.parentNode.nodeName&&(c.parentNode.style.display="inline"))};this.appendDeleteHeader=
function(c,d){if(!this.gxIsFreestyle&&this.ownerGrid.deleteMethod!=gx.grid.deleteMethods.none){var f=this.isGxTrn(),p=!1;if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)if(d==gx.grid.deletePositions.left)p=!0;else return;else gx.grid.deletePosition==d&&(p=!0);f&&p&&(d="&nbsp;",this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&(d=gx.grid.deleteTitle),c.append('<th class="'+this.columnAutoHeaderClass+'">'+d+"</th>"))}};this.appendDeleteImage=function(c,d,f){if(this.ownerGrid.deleteMethod!=
gx.grid.deleteMethods.none&&this.isGxTrn()){var p=!1,r=!1;"DSP"!=this.parentGxObject.Gx_mode&&"DLT"!=this.parentGxObject.Gx_mode&&(p=d.gxDeleted(),r=d.gxIsMod()||d.gxExists());var k=this.deleteImgId(d.gxId),u=!1;if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)if(f==gx.grid.deletePositions.left)u=!0;else return;else if(!this.gxIsFreestyle&&gx.grid.deletePosition==f)u=!0;else if(this.gxIsFreestyle){var x=gx.grid.deletePositionFree;f==gx.grid.deletePositions.left?u=x==gx.grid.deletePositions.topL||
x==gx.grid.deletePositions.bottomL:f==gx.grid.deletePositions.right&&(u=x==gx.grid.deletePositions.topR||x==gx.grid.deletePositions.bottomR);f=x}if(u){var m="<"+this.CELL_TAG+' class="gx-remove-row gx-remove-row-'+this.deleteImageAlign(f)+" gx-remove-row-"+this.deleteVerticalAlign(f)+'" style="text-align:'+this.deleteImageAlign(f)+";vertical-align:"+this.deleteVerticalAlign(f)+'">';f="</"+this.CELL_TAG+">";u=!1;x="gx-grid-delete";gx.O.DSO&&(x="gx-grid__row-delete");var l=gx.getMessage("GXM_deleterow");
p&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images?(p=gx.grid.undeleteImage,gx.O.DSO&&(x="gx-grid__row-add"),l=gx.getMessage("GXM_Add")):r&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images?p=gx.grid.deleteImage:p&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu?p=gx.grid.deleteImage:(p=gx.grid.deleteImage,u=!0);r="";c.append(m);this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&(m=gx.fn.firstGridControl(this.ownerGrid.gridId),r=gx.grid.deleteTooltip,c.append('<a gxfocusable="1" href="javascript:'+
this.gridObject()+".setRowDeleted('"+d.gxId+"');\""),c.append(' onfocus="gx.evt.onfocus(this,'+m+",'"+this.ownerGrid.gxComponentContext+"',"+this.ownerGrid.isMasterPageGrid+",'"+d.gxId+"',"+this.ownerGrid.gridId+')"'),d="",u&&(d+="display:none;"),d&&c.append(' style="'+d+'"'),c.append(">"));c.append('<img id="'+k+'" src="'+p+'"" title="'+l+'"');r&&c.append(' title="'+r+'"');c.append(' style="border-style: none;');u&&c.append("display:none;");c.append('"');c.append(' class="'+x+'"/>');this.ownerGrid.deleteMethod==
gx.grid.deleteMethods.images&&c.append("</a>");c.append(f)}}};this.deleteVerticalAlign=function(c){if(this.gxIsFreestyle){if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)return"middle";var d="top";if(c==gx.grid.deletePositions.bottomL||c==gx.grid.deletePositions.bottomR)d="bottom";return d}return"middle"};this.deleteImageAlign=function(c){if(this.gxIsFreestyle){if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)return"left";var d="right";if(c==gx.grid.deletePositions.bottomL||c==
gx.grid.deletePositions.topL)d="left";return d}return"center"};this.getRowByPos=function(c){return this.container.querySelector(" tbody>tr:nth-child("+c+")")};this.scroll_last_row_selector=function(c){return this.ownerGrid.additiveResponse?" tbody tr:nth-last-child("+Math.min(c/2,1)+")":" tbody tr:last-child"};this.scroll_first_row_selector=function(){return" tbody tr:first-child"};this.ROW_TAG="tr";this.CELL_TAG="td";this.ROW_BASE_CLASS="";this.getRowRenderingProps=function(c,d){var f=this.ROW_TAG,
p=this.ROW_BASE_CLASS;this.gxIsFreestyle&&(f=this.CELL_TAG);p+=(p?" ":"")+(c?this.evenRowClass:this.oddRowClass)+(d?" RowDeleted":"");return{cls:p,tag:f}};this.simpleAppendFn=function(c){return function(d){d.append(c)}};this.appendGridStyle=function(c){var d=g.exec(this.gxHtmlTags);d&&1<d.length&&c.append(d[1]);gx.lang.emptyObject(this.gxBackground)||c.append(";background-image:url('"+gx.util.resourceUrl(this.gxBackground,!0)+"');");gx.lang.emptyObject(this.gxBorderWidth)||c.append(";border: solid "+
this.gxBorderWidth+"px ");gx.lang.emptyObject(this.gxBordercolor)?c.append(";"):c.append(this.gxBordercolor+";");0<this.ownerGrid.width&&c.append("width:"+this.ownerGrid.width+this.ownerGrid.widthUnit+";")};this.appendGridAttributes=function(c){c.append(this.gxHtmlTags.replace(g,""));this.gxAllowCollapsing&&this.gxCollapsed&&c.append(" data-gx-sr-only ")};this.appendGridClassAttribute=function(c){-1==this.gxHtmlTags.indexOf("class=")&&c.append(' class="'+this.gxCssClass+'"')};this.appendCollapsingWrapperStart=
function(c){c.append('<div valign="top" ><div>');c.append('<img class="collapse-icon" style="cursor:pointer;" src="');this.gxCollapsed?c.append(gx.ajax.getImageUrl(gx,"expandImage")):c.append(gx.ajax.getImageUrl(gx,"collapseImage"));c.append('" onclick="'+this.gridObject()+'.expandCollapse(this, event);"></div><div>')};this.appendCollapsingWrapperEnd=function(c){c.append("</div></div>")};this.appendContainerStart=function(c,d){d.append("<table ");this.appendGridClassAttribute(d);d.append(' id="'+
c+'" ');gx.lang.emptyObject(this.gxToolTipText)||d.append('title="'+this.gxToolTipText+'" ');d.append('style="');this.appendGridStyle(d);d.append('" ');this.appendGridAttributes(d);this.isAbstract||(d.append('data-bkgstyle="'),d.append(gx.grid.styles[this.gxTitleBackstyle]),d.append('" '));d.append(">");gx.lang.emptyObject(this.header)||(d.append("<caption>"),d.append(this.header),d.append("</caption>"))};this.appendContainerEnd=this.simpleAppendFn("</table>");this.appendHeaderText=function(c,d){gx.lang.emptyObject(this.headerText)||
d.append('<tr><td colspan="'+c+'" class="'+this.headerClass+'">'+this.headerText+"</td></tr>")};this.appendFooterText=function(c,d){gx.lang.emptyObject(this.footerText)||d.append('<tr><td colspan="'+c+'" class="'+this.footerClass+'">'+this.footerText+"</td></tr>")};var h={left:"start",right:"end"},a=function(c){return gx.util.browser.isIE()||!h[c]?c:h[c]};this.appendHeader=function(c,d){var f=c.length,p=[],r=gx.ajax.getImageUrl(gx,"ascImage"),k=gx.ajax.getImageUrl(gx,"descImage"),u=0;d.append("<thead>");
d.append("<tr>");this.appendDeleteHeader(d,gx.grid.deletePositions.left);for(var x=0;x<f;x++){var m=c[x];var l=[m.gxColumnClass||m.gxControl.columnClass,m.columnheaderclass||"",this.columnAutoHeaderClass].join(" ");d.append('<th class="'+l+'"');l="white-space:nowrap;";gx.lang.gxBoolean(m.visible)||(l+="display:none;");m.width&&(m.gxWidthUnit||(m.gxWidthUnit="px"),l+="width:"+m.width+m.gxWidthUnit+";");m.align&&(l+="text-align:"+a(m.align)+";");gx.lang.emptyObject(this.gxTitleBackColor)||this.gxTitleBackstyle!=
gx.grid.styles.header&&this.gxTitleBackstyle!=gx.grid.styles.report||(l+="background-color:"+this.gxTitleBackColor+";",this.gxRealTitleBackColor=this.gxTitleBackColor);gx.lang.emptyObject(this.gxBackColor)||this.gxTitleBackstyle!=gx.grid.styles.uniform||(l+="background-color:"+this.gxBackColor+";",this.gxRealTitleBackColor=this.gxBackColor);gx.lang.emptyObject(this.gxTitleForeColor)||(l+="color:"+this.gxTitleForeColor+";");gx.lang.emptyObject(this.gxTitleFont)||(l+=this.gxTitleFont);m.titlefontunderline?
l+="text-decoration: underline;":m.titlefontstrikethru&&(l+="text-decoration: line-through;");m.titlefontbold&&(l+="font-weight: bold;");m.titlefontitalic&&(l+="font-style: italic;");m.titlebackcolor&&(l+="background-color:"+gx.color.html(m.titlebackcolor).Html+";");m.titleforecolor&&(l+="color:"+gx.color.html(m.titleforecolor).Html+";");d.append(' style="'+l+';"');d.append(' data-colindex="'+u+'"');d.append(">");u++;gx.lang.emptyObject(gx.text.trim(m.title))?d.append("&nbsp;"):(d.append("<span"),
m.gxTooltip&&d.append(' title="'+m.gxTooltip+'"'),m.sortable&&d.append(' onclick="'+this.gridObject()+".grid.setSort("+m.index+');" onMouseOver="window.status=\''+this.sortMessage+"';return true;\" onMouseOut=\"window.status='';return true;\""),d.append(">"),d.append(m.title),null!=this.ascLabel&&null!=this.descLabel&&(this.ascLabel.src=r,this.descLabel.src=k,m.sortable&&this.sortColumn==m.index&&d.append("&nbsp;"+this.handleLabel(this.ascSort?this.ascLabel:this.descLabel,p))),d.append("</span>"));
d.append("</th>")}this.appendDeleteHeader(d,gx.grid.deletePositions.right);d.append("</tr>");d.append("</thead>")};this.appendBodyWrapperStart=this.simpleAppendFn("<tbody>");this.appendBodyWrapperEnd=this.simpleAppendFn("</tbody>");this.appendFooterWrapperStart=this.simpleAppendFn("<tfoot>");this.appendFooterWrapperEnd=this.simpleAppendFn("</tfoot>");this.appendRowStart=this.simpleAppendFn("<tr>");this.appendRowEnd=this.simpleAppendFn("</tr>");this.appendRowBreaksWrapperStart=this.simpleAppendFn("<table width='100%' data-cellspacing='0' data-cellpadding='0'><tbody>");
this.appendRowBreaksWrapperEnd=this.simpleAppendFn("</tbody></table></td>");this.appendCellPrefixEnd=this.appendCellPrefixStart=this.appendRowPrefix=gx.emptyFn;this.beforeRender=function(){this.tableClass=this.gxCssClass;this.evenRowClass=this.gxEvenLinesClass;this.oddRowClass=this.gxOddLlinesClass;this.columnHeaderTextClass=this.columnAutoHeaderClass=this.headerClass=this.gxTitleClass;this.evenRowCellClass=this.evenRowClass;this.oddRowCellClass=this.oddRowClass;e.each(this.beforeRenderCallbacks,
function(c,d){d()});this.beforeRenderCallbacks=[]};this.drawEmptyContent=function(){var c=this.ownerGrid,d=c.getGridInnerTableId();c.emptyText&&0===e("#"+d+" + .gx-text-gridnodata").length&&e(document.createElement("div")).addClass("GridNoDataText gx-text-gridnodata").text(c.emptyText).insertAfter(e("#"+d));0===this.rows.length?e("#"+d).attr("data-gx-grid-nodata",""):e("#"+d).removeAttr("data-gx-grid-nodata")};this.purgeGrid=function(){var c,d=["onblur","onclick","onfocus","onchange"],f=gx.dom.byTag("input",
this.container);var p=0;for(c=f.length;p<c;p++)gx.dom.purgeElement(f[p],d);f=gx.dom.byTag("textarea",this.container);p=0;for(c=f.length;p<c;p++)gx.dom.purgeElement(f[p],d);f=gx.dom.byTag("select",this.container);p=0;for(c=f.length;p<c;p++)gx.dom.purgeElement(f[p],d);f=gx.dom.byTag("span",this.container);p=0;for(c=f.length;p<c;p++)gx.dom.purgeElement(f[p],d);f=gx.dom.byTag("img",this.container);p=0;for(c=f.length;p<c;p++)gx.dom.purgeElement(f[p],d)};this.render=function(c,d,f,p,r){c=!!c;var k=this.ownerGrid.getGridInnerTableId(),
u=this.container;this.ownerGrid.disposeTemplateObject();this.beforeRender();this.ownerGrid.additiveResponse&&this.doSort();c=this.drawGrid(k,c,d,f,r);gx.dom.shouldPurge()&&this.purgeGrid();var x=gx.dom.getActiveElement();d=x?x.tagName.toUpperCase():"";u=x&&(x.id||x.name)&&"FORM"!=d&&gx.dom.isChildNode(x,u);var m=gx.dom.getCaretOffset(x);this.setGridHtml(this.container,c,r);this.ownerGrid.isNestedLoad||gx.dom.fixes.fixTableResets(this.container);this.ownerGrid.applyTemplateObject({deferred:!1});this.gxIsFreestyle||
this.ownerGrid.instanciateRow(gx.fn.currentGridRowImpl(this.ownerGrid.gridId));this.ownerGrid.additiveResponse&&-1!=this.sortColumn&&this.ownerGrid.handleInfiniteScrolling();u&&setTimeout(function(){var l=gx.dom.el(x.id||x.name,!1,!0);l&&(gx.csv.disableFocus=!0,0<l.offsetWidth&&0<l.offsetHeight&&gx.fn.setFocus(l,function(){gx.dom.setCaretOffset(l,m)}))},10);this.drawEmptyContent();this.afterRender(k);p();this.rendered=!0};this.setGridHtml=function(c,d,f){f=f||{};gx.csv.IgnoreBlur=!0;var p=this.ownerGrid.InverseLoading,
r;if(this.ownerGrid.additiveResponse||f.addRows)if(-1!==this.sortColumn)c.innerHTML=d,gx.plugdesign.applyTemplateObject({selector:c});else{if(this.gxIsFreestyle){c=document.createElement("div");c.className="gx-sr-only";c.innerHTML=d;c.setAttribute("data-gx-grid-rendering-additive-rows","");var k=e(c);d=p?this.firstItemSelector:this.lastItemSelector;p?k.insertBefore(d):k.insertAfter(d)}else p?k=e(d).insertBefore(this.firstItemSelector):c=e(d).insertAfter(this.lastItemSelector);this.newAdditiveRows=
k;gx.plugdesign.applyTemplateObject({selector:k,deferred:!0}).then(function(){this.newAdditiveRows&&(r=this.newAdditiveRows.children(),p?r.insertBefore(this.newAdditiveRows):r.insertAfter(this.newAdditiveRows),this.newAdditiveRows.trigger("gx-grid:after-additive-rows-render"),this.newAdditiveRows.remove(),delete this.newAdditiveRows)}.closure(this))}else c.innerHTML=d;gx.csv.IgnoreBlur=!1};this.afterRender=function(){this.rendered||this.defineEventHandlers()};this.renderRow=function(c,d,f,p,r,k,u,
x,m,l,t,z,G,F,C,w){c=this.rows[f];z=!!(f%2);var B=this.isGxTrn();d&&f===p&&!gx.fn.currentGridRowImpl(this.gxId)&&gx.fn.setCurrentGridRow(this.gxId,c.gxId);var H=c.gxDeleted();t=new gx.text.stringBuffer;var E=this.getRowRenderingProps(z,H,f,p,r);k&&this.gxIsFreestyle&&(0<f&&0===f%this.gxGridCols||0===f&&0<this.gxGridCols)&&(0<f&&this.appendRowEnd(u,f,p,r),this.appendRowStart(u,f,p,r));var J="";this.gxTitleBackstyle==gx.grid.styles.report&&(J=z?this.gxLinesBackcolorEven:this.gxLinesBackcolorOdd);this.gxTitleBackstyle==
gx.grid.styles.header&&(J=this.gxLinesBackcolorOdd);this.gxTitleBackstyle==gx.grid.styles.uniform&&(J=this.gxBackColor);if(!this.gxIsFreestyle||this.gxIsFreestyle&&k)this.appendRowPrefix(t,f,p,r),t.append("<"+E.tag+" id='"+this.gxCmpContext+this.gxGridObject+"Row_"+c.gxId+"'"),this.gxIsFreestyle||t.append(' data-gxrendering_row=""'),this.gxIsFreestyle&&k?(t.append(' data-gxrow="'+c.gxId.toString()+'"'),(x=this.columns[1].gxControl.verticalAlign)&&t.append(' data-cell-valign="'+x+'"')):t.append(' data-gxrow="'+
c.gxId.toString()+'"'),t.append(' class="'+E.cls+'"'),c.selected&&t.append(' data-selected="1"'),z="",J&&(z="background-color:"+J+";"),gx.lang.emptyObject(this.gxLinesFont)||(z+=this.gxLinesFont),z&&t.append(' style="'+z+'" '),t.append(">"),u.append(t.toString());this.gxIsFreestyle&&(k&&this.appendRowBreaksWrapperStart(u,c),m=this.gxBuffer.toString(),u.append(m));this.gxIsFreestyle||this.appendDeleteImage(u,c,gx.grid.deletePositions.left);this.appendCellPrefixStart(u,f,p,r,c,E);for(x=0;x<l;x++){t=
w[x];z=gx.lang.gxBoolean(t.visible);G=c.gxProps[t.index];m=c.values[t.index];F=t.gxControl;this.gxIsFreestyle&&F.type==gx.html.controls.types.row&&0===t.index&&(F.isFreestyleRow=!0);F.setGridData({grid:this.ownerGrid,row:c,gridId:this.gxId,gridRow:c.gxId});C?(delete F.formattedValue,F.value=m,F.id=t.htmlName+"_"+F.gridRow):(F.setProperties.apply(F,G),F.isFreestyleRow&&(F.cssClass=E.cls));if(d)delete gx.usrPtys[F.id];else if(void 0!==gx.usrPtys[F.id])for(var L in gx.usrPtys[F.id])"enabled"==L&&(F.rtEnabled=
!0),F.setIndividualProp(L,gx.usrPtys[F.id][L]);H&&(F.rtEnabled=!0,F.enabled=!1);m=this.parentGxObject.getValidStruct(t.gxId);"undefined"!==typeof G.Value&&(F.value="."!=gx.decimalPoint&&m&&"decimal"==m.type&&"string"==typeof G.Value?G.Value.replace(".",gx.decimalPoint):G.Value);"undefined"!==typeof G.FormattedValue&&(F.formattedValue=G.FormattedValue);"undefined"===typeof F.formattedValue&&(C&&m&&m.v2c?(F.persistValue(),m.v2c(c.gxId),F.formattedValue=gx.fn.getControlValue(F.id)):F.formattedValue=
F.value);G.Values&&(F.possibleValues=G.Values.v);this.gxIsFreestyle&&F.type==gx.html.controls.types.row&&0===t.index&&(F.id=this.gxCmpContext+this.gxGridObject+"Row_"+c.gxId,B&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu&&(F.oncontextmenu=this.gridObject()+".showContextMenu(this, event);"),J&&(F.style+="background-color:"+J+";"));this.gxIsFreestyle||(u.append("<"+this.CELL_TAG+' class="gx-attribute '+(F.columnClass||"")+'" data-cell-valign="'+t.valign+'"'),u.append(' data-colindex="'+
x+'"'),G="",z||(G+="display:none;",!F.visible||t.isGxRemove()||this.ownerGrid.isPromptColumn(t)||this.ownerGrid.addColPropertyAfterRender(x,"Visible",1)),t.width?(t.gxWidthUnit||(t.gxWidthUnit="px"),G+="width:"+t.width+t.gxWidthUnit+";"):t.gxColSize&&(F.colSize=t.gxColSize),t.align&&(G+="text-align:"+a(t.align)+";"),F.style&&(G+=F.style.replace(/content:var\(.*\);/,"")),G&&u.append(' style="'+G+'" '),u.append(">"));u.append(F.getHtml());this.gxIsFreestyle&&F.type==gx.html.controls.types.row&&0===
t.index&&this.appendDeleteImage(u,c,gx.grid.deletePositions.left);F.persistValue();this.gxIsFreestyle||u.append("</"+this.CELL_TAG+">");this.gxIsFreestyle&&(t.index==this.columns.length-1&&this.appendDeleteImage(u,c,gx.grid.deletePositions.right),m=t.buffer.toString(),u.append(m))}this.appendCellPrefixEnd(u,f,p,r);this.gxIsFreestyle&&k?this.appendRowBreaksWrapperEnd(u):this.appendDeleteImage(u,c,gx.grid.deletePositions.right)};this.drawGrid=function(c,d,f,p,r){r=r||{};var k=this.isGxTrn(),u=this.gxIsFreestyle&&
1<this.gxGridCols;f=new gx.text.stringBuffer;var x=this.columns,m=x.length,l,t=this.ownerGrid.additiveResponse||r.addRows;!this.gxIsFreestyle&&k&&m++;if(t||r.immediateApplyInfiniteScroll){var z=t||"0"!=this.firstRecordOnPage&&-1==this.sortColumn?this.lastRenderedRow:0;var G=this.rows.length;this.ownerGrid.firstAdditiveRow=z}else 0!==Number(this.pageSize)?(r=this.getMaxPage(),0>=this.currentPage?this.currentPage=1:this.currentPage>r&&(this.currentPage=r),z=Math.max(this.pageSize*(this.currentPage-
1),0),G=Math.min(z+this.pageSize,this.rows.length)):(z=0,G=this.rows.length);this.gxAllowCollapsing&&this.appendCollapsingWrapperStart(f);var F=x.length;if(!this.gxIsFreestyle&&G>z&&0==z)for(var C=0;C<F;C++){var w=x[C];if(l=gx.lang.gxBoolean(w.visible)){var B=!1;for(r=z;r<G&&!B;r++){var H=this.rows[r];var E=w.gxControl;var J=H.gxProps[w.index];p||E.setProperties.apply(E,J);E.visible&&(B=!0)}B||(w.visible=!1)}}t&&-1==this.sortColumn||(this.appendContainerStart(c,f),this.appendHeaderText(m,f),this.gxIsFreestyle||
this.appendHeader(x,f),this.appendBodyWrapperStart(f));if(this.ownerGrid.InverseLoading)for(r=G-1;r>=z;r--)this.renderRow.call(this,H,d,r,z,G,u,f,void 0,void 0,F,w,l,J,E,p,x);else for(r=z;r<G;r++)this.renderRow.call(this,H,d,r,z,G,u,f,void 0,void 0,F,w,l,J,E,p,x);this.gxIsFreestyle&&0<this.gxGridCols&&u&&this.appendRowEnd(f);this.lastRenderedRow=G;t||(this.appendBodyWrapperEnd(f),this.appendFooterWrapperStart(f),this.ownerGrid.InfiniteScrolling||!k&&!this.hasPagingButtons()||this.appendNavigationBar(m,
f),this.appendFooterText(m,f),this.appendFooterWrapperEnd(f),this.appendContainerEnd(f),this.gxAllowCollapsing&&this.appendCollapsingWrapperEnd(f));this.fromCollection=p;c=f.toString();f.clear();return c};this.defineEventHandlers=function(){var c={};if(this.ownerGrid&&this.ownerGrid.parentObject&&this.ownerGrid.parentObject.IsComponent)var d=this.ownerGrid.parentObject;d&&(d=gx.pO.getWebComponent(d.CmpContext),c.hookKey=d&&d.getContainer()&&d.getContainer().id);this.gxIsFreestyle||(gx.evt.attach(this.container,
"mouseover",this.mouseOverHandler,this,c),gx.evt.attach(this.container,"mouseout",this.mouseOutHandler,this,c));this.isGxTrn()&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu&&gx.evt.attach(this.container,"contextmenu",this.contextMenuHandler,this,c);gx.evt.attach(this.container,"mousedown",this.mouseDownHandler.closure(this,[],!0),this,c);gx.evt.attach(this.container,"click",this.clickHandler,this,c);this.isGxTrn()&&gx.evt.attach(this.container,"keydown",this.keyDownHandler,this,c)};this.isGridRow=
function(c){return c&&c.tagName.toLowerCase()==this.ROW_TAG&&null!=c.getAttribute("data-gxrow")&&e(c).closest(".gx-grid")[0]==this.container};this.getTargetRow=function(c,d){for(;c&&gx.dom.isChildNode(c,this.container);){if(this.isGridRow(c)&&(!d||"body"==d&&"TBODY"==c.parentNode.tagName||"header"==d&&"THEAD"==c.parentNode.tagName))return c;c=gx.dom.findParentByTagName(c,this.ROW_TAG)}};this.mouseOverHandler=function(c){!gx.runtimeTemplates&&this.gxAllowHovering&&(c=this.getTargetRow(gx.evt.source(c)))&&
"1"!=c.getAttribute("data-selected")&&(this.toggleRowHoverById(this.gxHoveredRowId,!1),this.startRowHover(c),this.gxHoveredRowId=parseInt(c.getAttribute("data-gxrow").substring(0,4),10)-1)};this.mouseOutHandler=function(c){!gx.runtimeTemplates&&this.gxAllowHovering&&(c=this.getTargetRow(gx.evt.source(c)))&&"1"!=c.getAttribute("data-selected")&&this.endRowHover(c)};this.contextMenuHandler=function(c){var d=this.getTargetRow(gx.evt.source(c));d&&this.ownerGrid.showContextMenu(d,c)};this.mouseDownHandler=
function(c,d){if(c=this.getTargetRow(gx.evt.source(c)))d="undefined"===typeof d?this.gxAllowSelection&&!this.gxIsFreestyle:d,this.setRowSelected(c,c.getAttribute("data-gxrow"),!1,d)};this.keyDownHandler=function(c){this.getTargetRow(gx.evt.source(c))&&this.ownerGrid.rowKeyPressed(c)};this.clickHandler=function(c){var d=gx.evt.source(c);d.parentNode&&gx.dom.hasClass(d.parentNode,this.pagingBarClass)&&gx.evt.waitGridRefresh(function(){this.pagingHandler(d,c)}.closure(this))};this.pagingHandler=function(c,
d){var f="";gx.evt.cancel(d,!0);gx.dom.hasClass(c,this.pagingButtonDisabled)||(gx.dom.hasClass(c,this.pagingButtonFirstClass)?f="FIRST":gx.dom.hasClass(c,this.pagingButtonPreviousClass)?f="PREV":gx.dom.hasClass(c,this.pagingButtonNextClass)?f="NEXT":gx.dom.hasClass(c,this.pagingButtonLastClass)&&(f="LAST"),this.changeGridPage(f))};this.changeGridPage=function(c,d){var f=e.Deferred(),p=this.gxGridName.toUpperCase()+"PAGING",r=this.ownerGrid,k="";if(c){r.InfiniteScrolling||this.mask();if(gx.pO.fullAjax){if(gx.setGxO(this.parentGxObject),
k="E"+r.realGridName.toUpperCase()+"_"+c+"PAGE"+(r.isMasterPageGrid?"_MPAGE":""),r.parentGrid)var u=r.parentGrid.gridId}else gx.fn.setHidden(this.gxCmpContext+p,c),k=this.gxCmpContext+"E"+p+".";gx.evt.execEvt(void 0,void 0,k,gx.evt.dummyCtrl,u,void 0,void 0,!1,function(){this.unmask();f.resolve()}.closure(this),d);return f.promise()}};this.setRowSelected=function(c,d,f,p,r){gx.grid.setActiveGridRow(this,d);p=void 0===p||p;r=void 0===r||r;var k=function(){var u=gx.O;if(!gx.lang.emptyObject(this.parentGxObject)){p&&
!gx.runtimeTemplates&&void 0===c.gxOriginalBackcolor&&(c.gxOriginalBackcolor=c.style.backgroundColor);this.instanciateSelectionVars(d);var x=this.getRowByGxId(d),m=this.selectedRows||[],l=[];x&&m.push(x);for(x=0;x<m.length;x++){var t=m[x];t.selected=t.gxId==d;t.selected?(p&&(gx.runtimeTemplates||(c.gxSBackcolor=void 0!==c.gxOriginalBackcolor?c.gxOriginalBackcolor:c.style.backgroundColor,this.gxSelectionColor&&(c.style.backgroundColor=this.gxSelectionColor.Html)),gx.dom.addClass(c,this.selectedRowClass),
e(c).attr("data-gxselected","")),l.push(t)):p&&(t=gx.dom.el(this.gxCmpContext+this.gxGridObject+"Row_"+t.gxId),null==t||void 0===t.gxSBackcolor||gx.runtimeTemplates||(t.style.backgroundColor=t.gxSBackcolor),gx.dom.removeClass(t,this.selectedRowClass),e(t).removeAttr("data-gxselected"))}for(x=0;x<l.length;x++)this.instanciateSelectedRow(l[x],!r);gx.setGxO(u)}};f&&(p||gx.O.isTransaction())?setTimeout(k.closure(this),100):k.call(this)};this.instanciateSelectionVars=function(c){gx.setGxO(this.parentGxObject);
gx.fn.setCurrentGridRow(this.gxId,c);gx.fn.setHidden(this.gxCmpContext+this.gxGridName.toUpperCase()+"_ROW",c.substring(0,4))};this.instanciateSelectedRow=function(c,d){this.selectedRows=[c];this.setSelectedRowVars(c);if(this.gxOnLineActivate&&!this.ownerGrid.isLoading&&(gx.csv.instanciatedRowGrid=this.ownerGrid,!d)){var f=this.parentGxObject;gx.lang.doCallTimeout(function(){gx.evt.doAfterProcessing(function(){if(f.fullAjax){var p=f.isServerEvent(this.gxOnLineActivate);gx.evt.dispatcher.dispatch(f.getServerEventName(this.gxOnLineActivate),
f,this.ownerGrid.gridId,c.gxId,p)}else f[this.gxOnLineActivate].call(f,c.gxId)},this)},this,[],100)}};this.setSelectedRowVars=function(c){for(var d=this.parentGxObject,f=this.columns.length,p=0;p<f;p++){var r=d.GXValidFnc[this.columns[p].gxId];null!=r&&r.c2v&&r.c2v(c.gxId)}};this.scrollIntoView=function(c,d,f){function p(l,t,z,G){return!1===d||z<=l+G&&l<=t+G?Math.min(z,Math.max(t,l)):(t+z)/2}function r(l,t,z,G){return{left:l,top:t,width:z,height:G,right:l+z,bottom:t+G,translate:function(F,C){return r(F+
l,C+t,z,G)},relativeFromTo:function(F,C){var w=l,B=t;F=F.offsetParent;C=C.offsetParent;if(F===C)return k;for(;F;F=F.offsetParent)w+=F.offsetLeft+F.clientLeft,B+=F.offsetTop+F.clientTop;for(;C;C=C.offsetParent)w-=C.offsetLeft+C.clientLeft,B-=C.offsetTop+C.clientTop;return r(w,B,z,G)}}}var k,u;for(k=r(c.offsetLeft,c.offsetTop,c.offsetWidth,c.offsetHeight);u=c.parentNode;){var x=u.offsetLeft+u.clientLeft,m=u.offsetTop+u.clientTop+f;k=k.relativeFromTo(c,u).translate(-x,-m);u.scrollTop=p(u.scrollTop,k.bottom-
u.clientHeight+f,k.top,u.clientHeight);k=k.translate(x-u.scrollLeft,m-u.scrollTop);c=u}};this.keepGridItemVisible=function(c,d){var f=gx.util.browser.isOldIE(),p=e(this.ownerGrid.getContainerControl()),r=f?p.closest(".gx-grid-fixed-header-ie7"):e("#"+this.ownerGrid.getContainerControlId()+" > table > tbody");0<r.length&&r[0].offsetHeight<r[0].scrollHeight&&(c=this.ownerGrid.getRowCtrlByIdx(c))&&(f=f?parseInt(p.css("paddingTop"),10):0,this.scrollIntoView(c,d,f))};this.setNextRowHovered=function(){return this.toggleRowHoverById(this.gxHoveredRowId+
1,!0,!1)};this.setPreviousRowHovered=function(){return this.toggleRowHoverById(this.gxHoveredRowId-1,!0,!0)};this.toggleRowHoverById=function(c,d,f){var p=this.ownerGrid.getRowCtrlByIdx(c),r=!1;p&&(r=!0,d?(this.toggleRowHoverById(this.gxHoveredRowId,!1),this.startRowHover(p),this.gxHoveredRowId=c,this.keepGridItemVisible(c,f)):this.endRowHover(p));return r};this.getRowByDOMCtrl=function(c){c=parseInt(c.getAttribute("data-gxrow").substring(0,4),10)-1;return this.getRowById(c)};this.startRowHover=function(c){if(gx.runtimeTemplates)e(c).addClass("gx-row-hovered");
else{void 0===c.gxOriginalBackcolor&&(c.gxOriginalBackcolor=c.style.backgroundColor);var d=this.getRowByDOMCtrl(c);this.gxAllowHovering&&this.gxHoverColor&&!d.selected&&(c.gxHBackcolor=c.style.backgroundColor,c.style.backgroundColor=this.gxHoverColor.Html)}};this.endRowHover=function(c){if(gx.runtimeTemplates)e(c).removeClass("gx-row-hovered");else{var d=this.getRowByDOMCtrl(c);this.gxAllowHovering&&!d.selected&&void 0!==c.gxHBackcolor&&(c.style.backgroundColor=c.gxHBackcolor)}};this.hasPagingButtons=
function(){return this.usePaging&&0<this.pageSize&&(!this.isFirstPage()||!this.isLastPage())};this.appendNavBarRowStart=function(c,d){gx.lang.emptyObject(this.gxRealTitleBackColor)?d.append('<tr><td colspan="'+c+'" class="'+this.navigationClass+'" style="text-align: center;">'):d.append('<tr><td colspan="'+c+'" class="'+this.navigationClass+'" style="text-align: center;background-color:'+this.gxRealTitleBackColor+';">')};this.appendNavBarRowEnd=function(c){c.append("</td></tr>")};this.appendNavigationBar=
function(c,d){var f=this.getRowCount();f=(0<f||0===f&&!this.isFirstPage())&&this.usePaging;var p=this.parentGxObject.Gx_mode;p=this.isGxTrn()&&!this.gxHasAddlines&&!("DSP"==p||"DLT"==p);this.navigationClass=this.gxFooterClass;this.gxIsFreestyle&&1<this.gxGridCols&&(c=this.gxGridCols);(f||p)&&this.appendNavBarRowStart(c,d);f&&(d.append('<div class="'+this.pagingBarClass+'" style="padding-bottom:5px;">'),0>=this.currentPage&&(this.currentPage=1),d.append(this.buildPagingButton(this.pagingButtonFirstClass,
!this.isFirstPage(),gx.getMessage("GXM_first"))),d.append(this.buildPagingButton(this.pagingButtonPreviousClass,!this.isFirstPage(),gx.getMessage("GXM_previous"))),d.append(this.buildPagingButton(this.pagingButtonNextClass,!this.isLastPage(),gx.getMessage("GXM_next"))),d.append(this.buildPagingButton(this.pagingButtonLastClass,!this.isLastPage(),gx.getMessage("GXM_last"))),d.append("</div>"));p&&(c="["+this.gxNewRowText+"]",gx.O.DSO&&(c=this.gxNewRowText),d.append(this.buildLink(c,this.gridObject()+
".getNewRows(1,event);",this.gxNewRowText,this.gxGridObject+"_NewRow",this.gridObject()+".gxNewRowFocused(this);")));(f||p)&&this.appendNavBarRowEnd(d)};this.buildPagingButton=function(c,d,f){return'<button type="button" class="'+c+(d?"":" "+this.pagingButtonDisabled)+'"style="padding-left:20px;padding-bottom:5px;'+((d?"":"opacity:.7;cursor:default")+'" title="')+f+'"'+(d?"":" disabled")+"/>"};this.buildLink=function(c,d,f,p,r){var k=this.navigationLinkClass;return"<a class='gx_newrow' type='gxlink' style='text-decoration:none;' tabindex='0' onfocus=\""+
r+'" onblur="this.style.textDecoration = \'none\';"><span '+(void 0!==p?'id="'+p+'"':"")+' style="cursor:'+((document.createTextRange?"hand":"pointer")+';" class="')+k+'" onclick="'+d+'" onMouseOver="this.className=\''+this.highlightedNavigationLinkClass+"';window.status='"+f+"';return true;\" onMouseOut=\"this.className='"+k+"';window.status='';return true;\">"+c+"</span></a>"};this.isLastPage=function(){return"0"!=this.eof};this.isFirstPage=function(){return"0"==(gx.lang.emptyObject(this.firstRecordOnPage)?
"0":this.firstRecordOnPage)};this.getWebImageTag=function(c){return'<img border="0" src="/'+this.basePath+this.imgsDir+c.toString()+'"/>'};var b=0;this.handleLabel=function(c){if(c.src){var d="img"+b;b++;var f="sort-ico--asc";c.src.includes("desc")&&(f="sort-ico--desc");return"<img name='"+d+"' border='0' src='"+c.src+"' class='"+f+"' >"}return c};this.sort=function(c,d){if(c.table.isGxTrn())if(c.gxExists()||d.gxExists()||c.gxIsMod()||d.gxIsMod()){if(!c.gxExists()&&d.gxExists()||!c.gxIsMod()&&d.gxIsMod())return 1;
if(c.gxExists()&&!d.gxExists()||c.gxIsMod()&&!d.gxIsMod())return-1}else return 0;var f=c.table,p=f.getColumnByIndex(f.sortColumn);c=c.values[f.sortColumn];d=d.values[f.sortColumn];gx.lang.instanceOf(c,Array)||(c=[c]);gx.lang.instanceOf(d,Array)||(d=[d]);switch(p.type){case gx.types.numeric:p=function(l){l=gx.num.parseFloat(l,gx.thousandSeparator,gx.decimalPoint);isNaN(l)&&(l=0);return l};break;case gx.types.date:case gx.types.dateTime:p=function(l){try{l=(new gx.date.gxdate(l)).Value}catch(t){gx.dbg.logEx(t,
"JSTable.js","sort")}return l.valueOf()};break;case gx.types.bool:p=function(l){return gx.lang.booleanValue(l)?1:0};break;default:p=function(l){return String(l).replace(/<[^>]*>/g,"").toUpperCase()}}for(var r=Math.max(c.length,d.length),k=0,u=0;0===k&&u<r;u++){var x=c[u];null==x&&(k=-1);var m=d[u];null==m&&(k=1);0===k&&(x=p(x),m=p(m),k="function"==typeof x.localeCompare?x==m?0:x.localeCompare(m):x==m?0:x>m?1:-1);0!==k&&(k*=f.ascSort?1:-1)}return k};this.mask=function(){var c=this.container||"function"===
typeof this.getContainerControl&&this.getContainerControl();c&&c.firstChild&&gx.dom.mask(c.firstChild)};this.unmask=function(){var c=this.container||"function"===typeof this.getContainerControl&&this.getContainerControl();c&&c.firstChild&&gx.dom.unmask(c.firstChild)}}}(gx.$);
gx.grid.column=function(e,q,g,h,a){this.table=null;this.index=-1;this.title=e||"";this.type="undefined"!=typeof q?q:gx.types.character;this.width=g||"";this.align=h||"left";this.valign=a||"middle";this.htmlName=null;this.sortable=this.enabled=this.visible=!0;this.rowspan=this.colspan=1;this.gxAttId=this.gxId=-1;this.gxWidthUnit=this.gxAttName="";this.gxUnChecked=this.gxChecked=void 0;this.buffer=new gx.text.stringBuffer;this.isGxRemove=function(){return this.gxAttName?-1!=this.gxAttName.indexOf("GxRemove")||
-1!=this.gxAttName.indexOf("nRcdDeleted"):!1}};
gx.grid.row=function(e,q,g,h){this.table=null;this.id=e;this.gxParentRowId=h||"";this.gxId=g+this.gxParentRowId;this.gxCmpContext="";this.values=[];this.selected=!1;this.gxLvl=0;this.gxProps=q.Props||[];this.gxRenderProps=q.RenderProps||[];this.gxGrids=[];this.gxKeyValues=[];this.gxExists=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nRcdExists_"+this.gxLvl+"_"+this.gxId);return null!=a?0!==Number(a):!1};this.gxIsMod=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nIsMod_"+this.gxLvl+"_"+
this.gxId);return null!=a?0!==Number(a):!1};this.gxDeleted=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nRcdDeleted_"+this.gxLvl+"_"+this.gxId);return null!=a?0!==Number(a):!1};this.setDeleted=function(a){gx.fn.setHidden(this.gxCmpContext+"nRcdDeleted_"+this.gxLvl+"_"+this.gxId,a?1:0)}};
gx.grid.responsiveGrid=function(e){var q=["xs","sm","md","lg"];return function(g){g=new gx.grid.impl(g);g.appendContainerStart=function(h,a){a.append("<div ");this.appendGridClassAttribute(a);a.append(' id="'+h+'" ');gx.lang.emptyObject(this.gxToolTipText)||a.append('title="'+this.gxToolTipText+'" ');a.append('style="');this.appendGridStyle(a);a.append('" ');this.appendGridAttributes(a);a.append(">")};g.getRowByPos=function(h){return this.container.querySelector((1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:nth-child("+
h+")")};g.scroll_last_row_selector=function(){return(1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:last"};g.scroll_firt_row_selector=function(){return(1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:first"};g.ROW_TAG="div";g.CELL_TAG="div";g.ROW_BASE_CLASS="row";g.getRowRenderingProps=function(h,a){var b=this.ROW_TAG,c=this.ROW_BASE_CLASS,d=this.gxGridResponsiveCols;this.gxIsFreestyle&&(b=this.CELL_TAG,c=e.map(q,function(f,p){return["col-",f,"-",Math.floor(12/(d[p]||12))||1].join("")}).join(" "));
this.gxIsFreestyle||(c+=" "+(h?this.evenRowClass:this.oddRowClass)+(a?" RowDeleted":""));return{cls:c,tag:b}};g.appendGridClassAttribute=function(h){h.append(' class="'+this.gxCssClass+'"')};g.appendGridAttributes=function(h){this.gxAllowCollapsing&&this.gxCollapsed&&h.append(" data-gx-sr-only ")};g.appendContainerEnd=g.simpleAppendFn("</div>");g.appendHeaderText=gx.emptyFn;g.appendFooterText=gx.emptyFn;g.appendHeader=gx.emptyFn;g.appendBodyWrapperStart=gx.emptyFn;g.appendBodyWrapperEnd=gx.emptyFn;
g.appendFooterWrapperStart=g.simpleAppendFn("<div>");g.appendFooterWrapperEnd=g.simpleAppendFn("</div>");g.appendRowStart=function(h,a,b){a==b&&!0!==this.ownerGrid.additiveResponse&&h.append('<div class="row">')};g.appendRowEnd=function(h,a,b,c){a==c&&!0!==this.ownerGrid.additiveResponse&&h.append("</div>")};g.appendRowBreaksWrapperStart=function(h,a){h.append("<div>");this.appendDeleteImage(h,a,gx.grid.deletePositions.left)};g.appendRowBreaksWrapperEnd=g.simpleAppendFn("</div></div>");g.appendRowPrefix=
function(h,a,b){if(a!=b){var c=this.gxGridResponsiveCols,d=!1;b=e.map(q,function(f,p){return 1!=c[p]&&0===a%c[p]||0===c[p]&&0===a%12?(d=!0,"visible-"+f):""}).join(" ");d&&h.append('<div class="clearfix '+b+'"></div>')}};g.appendCellPrefixStart=function(h,a,b,c,d){a=d.gxDeleted()?" RowDeleted":"";1==this.gxGridCols&&(h.append('<div id="'+this.gxCmpContext+this.gxGridObject+"Row_"+d.gxId+'" data-gxrow="'+d.gxId.toString()+'" class="row'+a+'"><div class="col-xs-12">'),this.appendDeleteImage(h,d,gx.grid.deletePositions.left))};
g.appendCellPrefixEnd=function(h){1==this.gxGridCols&&h.append("</div></div>")};g.appendNavBarRowStart=function(h,a){a.append('<div class="'+this.ROW_BASE_CLASS+'"><div class="col-xs-12 '+this.navigationClass+'">')};g.appendNavBarRowEnd=function(h){h.append("</div></div>")};return g}}(gx.$);
gx.grid.flexGrid=function(e){var q,g=gx.dom;this.useNativeChildControls=!0;this.show=function(){q=e("#"+this.getContainerControl().id);var b=this.drawGrid(this.gxGridObject+"Tbl",!this.IsPostBack);this.setGridHtml(q.get(0),b);this.ownerGrid.applyTemplateObject({deferred:!1});gx.dom.fixes.fixTableResets(this.container);this.gxWidth&&q.width(g.addUnits(this.gxWidth,this.gxWidthUnit));this.gxHeight&&q.height(g.addUnits(this.gxHeight,this.gxHeightUnit))};this.destroy=function(){q&&q.hide()};this.appendGridAttributes=
function(b){gx.grid.flexGrid.prototype.appendGridAttributes.apply(this,arguments);b.append(" data-gx-flex")};var h={"flex-direction":"row","flex-wrap":"no-wrap","justify-content":"flex-start","align-items":"flex-start","align-content":"flex-start"},a=function(b,c,d){h[c]!==d&&b.append(c+": "+d+";")};this.appendGridStyle=function(b){gx.grid.flexGrid.prototype.appendGridStyle.apply(this,arguments);a(b,"flex-direction",this.FlexDirection);a(b,"flex-wrap",this.FlexWrap);a(b,"justify-content",this.JustifyContent);
a(b,"align-items",this.AlignItems);a(b,"align-content",this.AlignContent)};this.getRowRenderingProps=function(){return{cls:"",tag:this.ROW_TAG}};this.appendRowPrefix=this.appendRowEnd=this.appendRowStart=gx.emptyFn;this.appendRowBreaksWrapperStart=function(b,c){this.appendDeleteImage(b,c,gx.grid.deletePositions.left)};this.appendRowBreaksWrapperEnd=this.simpleAppendFn("</div>");this.appendCellPrefixStart=function(b,c,d,f,p){1==this.gxGridCols&&(b.append('<div id="'+this.gxCmpContext+this.gxGridObject+
"Row_"+p.gxId+'" data-gxrow="'+p.gxId.toString()+'">'),this.appendDeleteImage(b,p,gx.grid.deletePositions.left))};this.appendCellPrefixEnd=function(b){1==this.gxGridCols&&b.append("</div>")};this.appendNavBarRowStart=function(b,c){c.append('</div></div><div class="'+this.navigationClass+'">')};this.appendNavBarRowEnd=function(b){b.append("</div>")};this.scroll_last_row_selector=function(){return" > DIV[data-gxrow]:last"};this.scroll_firt_row_selector=function(){return" > DIV[data-gxrow]:first"}};
gx.lang.inherits(gx.grid.flexGrid,gx.grid.responsiveGrid);
gx.GxObject=function(e){var q=function(){this.onLoadDeferred=e.Deferred();this._isTrn=null;this.ServerClass=this.Gx_mode="";this.ReadonlyForm=!1;this.ObjectType="web";this.MasterPage=null;this.IsComponent=this.IsMasterPage=!1;this.AjaxSecurity=!0;this.OnSessionTimeout=gx.timeoutActions.ignore;this.JustCreated=!1;this.CmpContext="";this.WebComponents=[];this.Grids=[];this.GridsUpper=[];this.UserControls={};this.GridUCsProps={};this.GridUCsEvts={};this.UCBindings={};this.UCBindingsHiddens={};this.GXValidFnc=
[];this.GXLastCtrlId=0;this.GXCtrlIds=[];this.MsgList=[];this.CmpControls={};this.VarControlMap={};this.FormBCs={};this.GridBCs={};this.LvlOlds=[];this.Events={};this.EvtParms={};this.InternalParms={};this.conditionsChanged=this.autoRefresh=this.focusOnlyNEmb=this.hasEnterEvent=!1;this.toValid=this.fromValid=0;this.getValidStructFld_cache={};this.cmpRegex=q.CONTROL_CMP_REGEX;this.rowPatternRegex=/_([0-9]{4})+$/;this.postEventPopupCommands=[];this.targetsCounter=9996;this.feedbackCallCounter=this.feedbackTimeoutId=
0;gx.lang.apply(this,new gx.util.Observable)};q.GX_EVENT_CONTROL_DATA_ATTR="data-gx-evt-control";q.GX_EVENT_CONDITION_DATA_ATTR="data-gx-evt-condition";q.GX_EVENT_DATA_ATTR="data-gx-evt";q.GX_EVENT_CODE_DATA_ATTR="data-gx-evt-code";q.GX_EVENT_CONTEXT_DATA_ATTR="data-gx-context";q.GX_EVENT_CONTROL_DELAYED_ATTR="data-gx-click-delay";q.GX_EVENT_EXCLUDED_CTRLTYPES=["dyncombo","combo"];q.GX_EVENT_EVENT_IN_PROGRESS="data-gx-evt-inprogress";q.WEBCOMPONENT_CLASS_NAME="gxwebcomponent";q.WEBCOMPONENT_LOADING_CLASS_NAME=
"gxwebcomponent-loading";q.WEBCOMPONENT_BODY_CLASS_NAME="gxwebcomponent-body";q.CONTROL_CMP_REGEX=/((?:(?:MP)?W[0-9]{4})*)((?:MP)?W[0-9]{4})([0-9]{4})?/;return q}(gx.$);
gx.fn=function(e){var q=/((?:(?:MP)?W[0-9a-zA-Z\-]{4}[\S]*)*)gxHTMLWrp((?:MP)?W[0-9]{4}[\S]*)*/,g=function(a){a=a.replace(/\\/g,".");return gx.gen.isDotNet()?a.replace(/\.aspx$/,""):a},h=function(){var a=function(b,c){return b.gxIndex<c.gxIndex?-1:b.gxIndex>c.gxIndex?1:0};return function(b){return gx.fn.toArray(b).sort(a)}}();return{disableKeys:function(){gx.fx.obs.addObserver("gx.keypress",gx.fn,gx.fn.swallowKeys)},enableKeys:function(){gx.fx.obs.deleteObserver("gx.keypress",gx.fn,gx.fn.swallowKeys)},
swallowKeys:function(a){a.cancel=!0;a.event.preventDefault()},attachedControls:function(){return gx.attachedControls},cancelWindow:function(a){this.closeWindow(a,{ignoreCmds:gx.config.popup.ignoreCmdsOnCancel})},closeWindow:function(a,b,c){b=b||{};c=c||gx.O;if("string"==typeof a){if(this.closeFromServer(a,b.parmsMetadata))return;a=[]}a||(a=[]);if(gx.popup.ispopup()){var d=gx.popup.getPopup(),f=d.url?gx.util.noParmsUrl(d.url):"";if(!d.frameWindow||-1!=d.frameWindow.location.href.search(f+"(\\?.*)?$")||
gx.grid.drawAtServer){d.close(a,b,c);return}}-1!=location.href.indexOf("gxCalledAsPopup")?this.closeWindowImpl():(a=gx.ajax.getCallerUrl(gx.popup.popuplvl()),gx.lang.emptyObject(a)?this.closeWindowImpl():(gx.ajax.windowClosed(-1),a=gx.absoluteurl(a),gx.spa.started?(gx.spa.redirect(a),gx.ajax.enableForm(c)):(gx.evt.redirecting=!0,location.href=a)))},closeWindowImpl:function(){gx.util.browser.isIE()?window.close():0<history.length?history.back():window.location.assign("about:blank")},closeFromServer:function(a,
b){try{if(window.parent&&window.parent.gx)return!gx.popup.ispopup()||gx.grid.drawAtServer||window.parent.gx.grid.drawAtServer?window.parent.gx.fn.closeWindow(gx.json.evalJSON(a,!0),{parmsMetadata:gx.json.evalJSON(b,!0)}):gx.fn.closeWindow(gx.json.evalJSON(a,!0),{parmsMetadata:gx.json.evalJSON(b,!0)}),!0}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","closeFromServer")}return!1},closeWindowServerScript:function(a,b,c){gx.evt.execLoad=!1;c&&(gx.evt.clinav=!0,gx.ajax.pushReferer(gx.popup.popuplvl()));this.closeWindow(a,
{parmsMetadata:b})},invalidEmptyValue:function(a){if(gx.lang.emptyObject(a.s)){for(var b=a.v.length,c=0;c<b;c++)if(a.v[c][0]===a.s)return!1;return!0}return!1},trimSelectValue:function(a,b){return"int"==b?gx.text.trim(a):gx.text.rtrim(a)},selectedDescription:function(a,b){for(var c=a.v.length,d=0;d<c;d++)if(this.trimSelectValue(a.v[d][0],b)===a.s)return a.v[d][1];return null},setGridCheckBoxValue:function(a,b,c,d){this.setCheckBoxValue(a+"_"+b,c,d)},setGridDecimalValue:function(a,b,c,d,f){return this.setGridControlValue(a,
b,c)},setGridControlValue:function(a,b,c,d){if(void 0!==b)return this.setControlValue(a+"_"+b,c,d)},setVarValues:function(a,b){for(var c=a.length,d=0;d<c;d++){var f=gx.fn.vStructForVar(a[d]);f&&f.v2v?f.v2v(b[d]):eval(a[d]+'="'+b[d]+'"')}},refreshControlOldValue:function(a){if(void 0!==e(a).attr(gx.csv.GX_OLD_VALUE_ATTRIBUTE)){var b=gx.fn.getControlValue("radio"==a.type?a.name:gx.dom.id(a));gx.fn.setControlOldValue(a,b)}},setControlOldValue:function(a,b){if(a){var c=a.id,d=gx.O.getValidStructFld(c);
b=gx.applyPicture(d,b,a);d&&d.gxgrid&&(d.gxgrid.IsValidState[c]=d.gxgrid.IsValidState[c]||{},d.gxgrid.IsValidState[c][gx.csv.GX_OLD_VALUE_ATTRIBUTE]=b);if("radio"==a.type)for(a=gx.dom.byName(a.name),c=a.length,d=0;d<c;d++)a[d].setAttribute(gx.csv.GX_OLD_VALUE_ATTRIBUTE,b);else a.setAttribute(gx.csv.GX_OLD_VALUE_ATTRIBUTE,b)}},setControlGxValid:function(a,b){if(a&&a.id){var c=a.id,d=gx.O.getValidStructFld(c);d&&d.gxgrid&&(d.gxgrid.IsValidState[c]?d.gxgrid.IsValidState[c].gxvalid=b:d.gxgrid.IsValidState[c]=
{gxvalid:b});a.setAttribute(gx.csv.GX_VALID_ATTRIBUTE,b)}},setControlValue:function(a,b,c){a=gx.csv.ctxControlId(a);this.setControlValueAny(a,b,c)},setControlValueAny:function(a,b,c){var d=gx.O.getValidStructFld(a),f,p=!1;(f=gx.dom.el(a,d&&("edit"==d.ctrltype||"checkbox"==d.ctrltype||"combo"==d.ctrltype)))&&gx.lang.isEmpty(b)&&!0===f.GXFormatError&&(gx.csv.setFormatError(f,!1),gx.util.balloon.clear(a));d&&("dtime"==d.type||"date"==d.type?""===b?b=gx.date.nulldate_toc(d.len,d.dec):"string"==typeof b&&
(b=new gx.date.gxdate(b)):gx.lang.isFixedCharacterType(d.type)&&(b=gx.text.rtrim(b)));b instanceof gx.date.gxdate?gx.lang.emptyObject(d)||(b=gx.date.formatDateTime(d.dec,d.len,gx.dateFormat,b)):gx.lang.instanceOf(b,Number)||"undefined"!=typeof gx.num.dec&&b instanceof gx.num.dec.bigDecimal?gx.lang.emptyObject(d)||(b=gx.num.formatNumber(b,d.dec,gx.rtPicture(d,f),d.len,d.sign,!1,d.emptyAsNull)):"string"!=typeof b||gx.lang.emptyObject(d)||((p=void 0!=d.isPwd)?null!=f&&"SPAN"==f.nodeName&&(b=gx.text.formatString(b,
d.len,d.isPwd)):b=gx.text.formatString(b,d.len,d.isPwd,gx.rtPicture(d,f)));this.persistGridControlValue(a,b);null!=f&&"SPAN"!=f.nodeName?(this.setControlValue_impl(f,b,c),!0!==gx.csv.settingUIparms&&gx.fn.setControlOldValue(f,b)):gx.fn.setHidden(a,b);null!=f&&"SPAN"==f.nodeName&&(a=f);var r=d?d.multiline:null!=f&&"TEXTAREA"==f.tagName;p?this.setControlValue_span_safe(a,gx.text.formatString(b,d.len,d.isPwd,gx.rtPicture(d,f),c,r)):this.setControlValue_span_safe(a,b,c,r)},setDecimalValue:function(a,
b,c,d){this.setControlValue(a,b)},toDecimalValue:function(a,b,c){return gx.num.parseFloat(a,b,c)},toDatetimeValue:function(a,b){return new gx.date.gxdate(a,b)},setCheckBoxValue:function(a,b,c){try{a=gx.csv.ctxControlId(a);var d=gx.dom.byId(a);d||(d=gx.dom.form()[a]);if(d){var f=b.toString()==c.toString();d.checked=f;gx.dom.toggleAttribute(d,"checked",f);d.value=b}}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","setCheckBoxValue")}},persistGridControlValue:function(a,b,c){var d=a.lastIndexOf("_");-1!=d&&(c=
c?c:gx.O.getValidStructFld(a.substring(0,d)))&&c.gxgrid&&(d=a.substring(d+1),4<d.length?(d=d.substring(4,d.length),(d=gx.O.getGrid(c.gxgrid.gridName+"_"+d))&&d.persistControlValue(a,b,c)):c.gxgrid.persistControlValue(a,b,c))},setControlValue_span_safe:function(a,b,c,d){"string"==typeof a&&(a=gx.dom.byId("span_"+a));if(a&&"SPAN"!==a.nodeName){var f="span_";f="string"==typeof a?f+a:f+gx.dom.id(a);a=gx.dom.byId(f)}null!=a&&(f=gx.dom.bySelector('[data-name="'+a.id+'"]'),2>f.length&&(f=[a]),e.each(f,function(p,
r){gx.fn.setControlValue_fmt(r,b,c,d)}))},setControlValue_fmt:function(a,b,c,d){try{if(null!=a)if(1==c){var f=a.getAttribute("data-gxlink");gx.lang.emptyObject(f)||null==a.firstChild||"A"!=a.firstChild.nodeName||(a=a.firstChild);gx.html.setInnerHtml(a,b,!0)}else{0==c&&"string"==typeof b&&(b=b.replace(/ +/g," "));for(f=a;null!=a.firstChild&&"#text"!=a.firstChild.nodeName;)a=a.firstChild;0!=c||null!=a.firstChild&&"#text"==a.firstChild.nodeName||"A"==a.nodeName?gx.html.setInnerText(a,b,c,d):gx.html.setInnerText(f,
b,c,d)}}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","setControlValue_fmt")}},setControlValue_impl:function(a,b,c){"string"==typeof a&&(a=gx.dom.el(a));b instanceof gx.date.gxdate&&(b=b.getString());if(null!=a){var d=gx.dom.byName(a.id);if(2>d.length||"radio"===a.type)d=[a];e.each(d,function(f,p){"radio"===p.type?gx.fn.setRadioValue(p.name,b):gx.dom.isEditControl(p)||"textarea"==p.type?(f=p.value!==b&&gx.dom.getActiveElement()===p&&p.selectionStart!==p.selectionEnd&&0<p.selectionEnd,p.value=b,f&&gx.fn.setSelection(p)):
void 0!=p.value?p.value=b:gx.fn.setControlValue_span_safe(p,b,c)})}},setGridComboBoxValue:function(a,b,c){this.setComboBoxValue(a+"_"+b,c)},setComboBoxValue:function(a,b){var c=gx.util.browser.isIE();a=gx.csv.ctxControlId(a);var d=gx.dom.byId(a);if(d){var f="",p=gx.O.getValidStructFld(a);gx.lang.emptyObject(p)||(f=p.type);"int"==f?b=gx.text.trim(b):"date"==f&&b instanceof gx.date.gxdate?b=b.getStringWithFmt("Y4MD"):"decimal"!=f&&(b=gx.text.rtrim(b));var r=b,k=!1;try{for(var u=d.options.length,x,m=
0;m<u;m++){var l=d.options[m];if(gx.lang.isNumericType(f)?Number(l.value)==Number(b):gx.text.trim(l.value)==gx.text.trim(b)){if(r="undefined"!=typeof l.innerText?l.innerText:l.text,d.selectedIndex=m,k=!0,l.setAttribute("selected","selected"),x=l,c)break}else c||l.removeAttribute("selected")}x&&x.value!=d.value&&gx.util.browser.isFirefox()&&gx.dom.redrawControl(d);k||(d.selectedIndex=0);0<p.grid&&this.persistGridControlValue(a,b,p)}catch(t){gx.dbg.logEx(t,"gxfrmutl.js","setComboBoxValue")}this.setControlValue_span_safe(a,
r,0)}},loadRadioButton:function(a,b,c){var d=e(a).parent().closest(".gx-radio-button"),f=e(a);b=e(gx.html.controls.applyTemplate("radio",{id:a.name,className:d.attr("class"),style:d.attr("style"),title:a.title,isDisabled:a.disabled,gxoch0:f.attr("data-gxoch0"),values:e.map(b,function(p,r){return{itemId:a.name+"_"+r,itemValue:p[0],itemDesc:p[1],isSelected:gx.text.trim(c.toString())==gx.text.trim(p[0].toString())}})}));d.replaceWith(b);gx.plugdesign.applyTemplateObject(b)},loadComboBox:function(a,b){this.setComboValues(a,
b)},setGridComboValues:function(a,b){if(0==this.controlGridId(a))this.setComboValues(a,b);else for(var c=1;999>c;c++){var d=gx.text.padl(c.toString(),4,"0");d=gx.dom.el(a+"_"+d);if(null==d)break;this.setComboValues(d.name,b)}},setComboValues:function(a,b){a=gx.dom.el(a);var c=gx.util.browser;if(null!=a){var d="";-1!=a.selectedIndex&&(d=a.options[a.selectedIndex].value);for(;a.options.length>b.length;)a.remove(a.options.length-1);for(;b.length>a.options.length;){var f=document.createElement("OPTION");
a.options.add(f)}for(var p=b.length,r=0;r<p;r++)if(f=a.options[r],f.value=b[r][0],c.isIE()&&9<=c.ieVersion()?f.innerText!=b[r][1]&&(f.innerText=b[r][1]):f.text!=b[r][1]&&(f.text=b[r][1]),Number(f.value)?Number(f.value)==Number(d):gx.text.trim(f.value)==gx.text.trim(d))a.selectedIndex=r;if(0==a.options.length)a.selectedIndex=-1;else if(-1==a.selectedIndex||a.selectedIndex>a.options.length-1)a.options[0].selected=!0}},getControlRefById:function(a){return(a=this.validStruct(a))?0==a.grid?this.getControlRef(a.fld,
!1):this.getControlGridRef(a.fld,a.grid):null},getControlRef:function(a,b){b||(a=gx.csv.ctxControlId(a));if("FORM"==a)return document;a=gx.dom.el(a);return null!=a?a:null},getControlRef_list:function(a){var b=gx.dom.byName(a);if(null!=b)return b;a=gx.dom.byId(a);return null!=a?[a]:null},screen_CtrlRef:function(a){a=this.getControlGridRef(a,this.controlGridId(a));return gx.lang.emptyObject(a)?null:("hidden"==a.type&&(a=gx.dom.byId("span_"+gx.dom.id(a))),a)},screen_CtrlId:function(a){return this.getControlGridId(a,
this.controlGridId(a))},getControlGridId:function(a,b,c){a=gx.csv.ctxControlId(a);if(gx.dom.el(a))return a;try{if(0==b)return a;void 0==c&&(c=this.currentGridRow(b));return a+"_"+c}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","getControlGridId")}},getControlGridRef:function(a,b,c){var d;a=gx.csv.ctxControlId(a);if(0==b||-1!==a.search(gx.csv.CTRL_ROW_INDEX_REGEXP))if(d=gx.dom.el(a))return d;try{if(0==b)return null;void 0==c&&(c=this.currentGridRow(b));if(d=gx.dom.el(a+"_"+c))return d;var f=gx.O.getComponentData(a);
if(f)return gx.dom.el("gxHTMLWrp"+f.Prefix+c)}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","getControlGridRef")}},setCurrentGridRowSafe:function(a,b){var c=gx.fn.getGridObj(a,b);if(c&&c.grid.rows.length>=b)return gx.fn.setCurrentGridRow(a,b)},setCurrentGridRow:function(a,b){if("0000"!=b)try{return gx.currentRows[a]=b}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","setCurrentGridRow")}},currentGridRowImpl:function(a){try{return gx.currentRows[a]}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","currentGridRowImpl")}},currentGridRow:function(a){a=
this.currentGridRowImpl(a);return void 0==a?"0001":a},gridDuplicateKey:function(a){a=gx.fn.validStruct(a);if(void 0!=a){var b=a.gxgrid;if(null!=b&&(b=b.updateControlValue(a,!0)))return b.gxHasDuplicateKey()}return!1},firstGridControl:function(a,b){var c=gx.fn.controlIds(),d=c.length;for(i=0;i<d;i++){var f=gx.fn.validStruct(c[i],b);if(void 0!=f&&f.grid==a)return c[i]}return-1},lastGridControl:function(a,b){var c=gx.fn.controlIds();for(i=c.length-1;0<=i;i--){var d=gx.fn.validStruct(c[i],b);if(void 0!=
d&&d.grid==a)return c[i]}return-1},getGridDateTimeValue:function(a,b,c,d){a=this.getControlValue(a+"_"+b);return new gx.date.gxdate(a,gx.dateFormat)},getGridDecimalValue:function(a,b,c,d){return this.getDecimalValue(a+"_"+b,c,d)},getGridIntegerValue:function(a,b,c){return this.getIntegerValue(a+"_"+b,c)},getGridControlValue:function(a,b){return this.getControlValue(a+"_"+b)},getControlValue:function(a,b,c,d){return this.getControlValue_impl(gx.csv.ctxControlId(a,c),b,c,d)},getControlValue_impl:function(){var a=
/_CMPPGM$/g;return function(b,c,d,f){if("hidden_only"==c)return gx.fn.getHidden(b);if(0<=b.search(a))return"nohidden"===c?null:gx.fn.getHidden(b);d=d||gx.O;f=f||(d?d.getValidStructFld(b):null);if(!(f&&f.gxgrid&&f.gxgrid.grid&&f.gxgrid.grid.useHiddensForControlValues)){var p=!f||"edit"!=f.ctrltype&&"checkbox"!=f.ctrltype&&"combo"!=f.ctrltype?gx.dom.el(b,!1,!0):gx.dom.byId(b);if(null!=p&&d){f&&!p.gxtype&&(p.gxtype={type:f.type,len:f.len,dec:f.dec});if("checkbox"==p.type&&f.values&&f.values.length&&
1<f.values.length)var r=p.checked?f.values[0]:f.values[1];else if("hidden"==p.type||"text"==p.type||"textarea"==p.type||"checkbox"==p.type)r=p.value;else if("radio"==p.type)r=gx.fn.getRadioValue(gx.dom.byName(b));else if("SELECT"==p.nodeName&&0<p.options.length?r=-1!=p.selectedIndex?"screen"==c?p.options[p.selectedIndex].text:p.options[p.selectedIndex].value:"screen"==c?p.options[0].text:p.options[0].value:f&&"date"!=f.type&&"dtime"!=f.type&&"bits"!=f.type&&"audio"!=f.type&&"video"!=f.type&&"binaryfile"!=
f.type&&(r=p.value),"IMG"==p.nodeName||"INPUT"==p.nodeName&&"image"==p.type)r=p.getAttribute("src");if(void 0!==r)return f&&"boolean"==f.type?gx.lang.gxBoolean(r):r}p=gx.dom.byId("span_"+b);if(null!=p)return b=gx.fn.getHidden(b),p=gx.fn.getControlValue_span(p),"screen"==c?void 0!=p?p:b:void 0!=b?b:p;p=gx.dom.form()[b];if(null!=p)return"file"==p.type&&(c=gx.html.multimediaUpload.getPreviewAtt(p.id+"_ct"))?c:this.getControlValueInt(p);ControlList=gx.dom.byName(b);if(null!=ControlList){d=ControlList.length;
for(f=0;f<d;f++)if(p=ControlList[f],null!=p)return this.getControlValueInt(p);if(p=ControlList[0])return p.value}}return null==p?"nohidden"===c?null:gx.fn.getHidden(b):""}}(),setRadioValue:function(a,b){a=gx.csv.ctxControlId(a);a=gx.dom.byName(a);if(null!=a)for(var c=a.length,d=0;d<c;d++){var f=e(a[d]);if(gx.text.ltrim(a[d].value)==gx.text.ltrim(b)){f.attr("checked","");f.prop("checked",!0);break}}},getRadioValue:function(a){for(var b=a.length,c=0;c<b;c++)if(a[c].checked)return a[c].value;return""},
getRadioSelected:function(a){a=gx.dom.byName(a);for(var b=a.length,c=0;c<b;c++)if(a[c].checked)return a[c];return null},getControlValueInt:function(a){if(void 0!=a.length&&"SELECT"!=a.tagName&&"undefined"!=typeof a[0]&&"radio"==a[0].type)return this.getRadioValue(a);if("checkbox"==a.type)return a.checked;if("SPAN"==a.tagName){var b=gx.fn.getHidden(gx.dom.id(a));return void 0!=b?b:gx.fn.getControlValue_span(a)}if("INPUT"==a.tagName&&"text"==a.type&&(b=gx.dom.id(a),gx.O)){var c=gx.O.getValidStructFld(b);
if(c&&"undefined"!=typeof gx.rtPicture(c,a)){if("int"==c.type)return this.getIntegerValue(b,-1!=gx.rtPicture(c,a).indexOf(",")?gx.thousandSeparator:"");if("decimal"==c.type)return this.getDecimalValue(b,-1!=gx.rtPicture(c,a).indexOf(",")?gx.thousandSeparator:"",gx.decimalPoint)}}return a.value},getControlValue_span:function(a){for(;a&&!a.nodeValue;)a=a.childNodes[0];return a&&a.nodeValue?a.nodeValue:""},getDateTimeArrayValue:function(a){try{var b=function(f,p){gx.lang.emptyObject(f)||e.each(f,function(r,
k){f[r]=new gx.date.gxdate(k,p)});return""},c=this.getControlValue(a,"nohidden");var d=b(c,gx.dateFormat);d||(c=gx.fn.getHidden(gx.csv.ctxControlId(a)),d=b(c,"Y4MD"));return d}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","getDateTimeArrayValue")}return""},getDateValue:function(a){return this.getDateTimeValue(a)},getDateTimeValue:function(a){try{var b=this.getControlValue(a,"nohidden");if(!gx.lang.emptyObject(b))return new gx.date.gxdate(b,gx.dateFormat);b=gx.fn.getHidden(gx.csv.ctxControlId(a));return new gx.date.gxdate(b,
"Y4MD")}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","getDateValue")}return""},getIntegerValue:function(a,b,c){var d=gx.O?gx.O.getValidStructFld(a):null;a=this.getControlValue(a,c,void 0,d);d&&a&&(a=gx.num.extractValue(gx.rtPicture(d),a));if(gx.lang.isArray(a))return a;a="undefined"!=typeof a?a.toString():"";if(0===a.length&&d&&"Blank"===d.emptyAsNull)return a;b=a.length<gx.num.maxNumericPrecision()||"undefined"==typeof gx.num.dec?gx.num.parseInt(a,10,b):(new gx.num.dec.bigDecimal(gx.text.replaceAll(a,b,
""))).setScale(0,gx.num.dec.ROUND_UP).toString();return isNaN(b)?0:b},getDecimalValue:function(a,b,c,d){var f=gx.O?gx.O.getValidStructFld(a):null;d=this.getControlValue(a,d,void 0,f);a=gx.dom.el(a,f&&("edit"==f.ctrltype||"checkbox"==f.ctrltype||"combo"==f.ctrltype));f&&d&&(d=gx.num.extractValue(gx.rtPicture(f,a),d));if("undefined"!==typeof d&&0===d.length&&f&&"Blank"===f.emptyAsNull)return"";if(gx.lang.isArray(d))return d;b=gx.num.parseFloat(d||"",b,c);return isNaN(b)?0:b},getBlobValue:function(a){var b=
gx.dom.byId("Object_"+a);if(null!=b){if(b.data&&!gx.text.endsWith(b.data,"about:blank"))return b.data}else if(b=gx.dom.byId("Link_"+a),null!=b)return b.getAttribute("href");return""},getVarControlMap:function(a,b){if(a=a||gx.O)for(var c in a.VarControlMap)if("function"!=typeof c){var d=a.VarControlMap[c];if(d.id==b||a.CmpContext+d.id==b)return c}return null},getVarControlMapForVar:function(a){for(var b in gx.O.VarControlMap)if("string"==typeof b&&b==a)return gx.O.VarControlMap[b];return null},v2c:function(a,
b,c,d){a.v2c(d);"undefined"===typeof b&&(b=a.val(d));a=gx.fn.getControlGridRef(a.fld,a.grid,d);gx.plugdesign.controlValueChanged(a,b);c&&(a.value="")},v2cMap:function(a){var b=this.getVarControlMapForVar(a);if(null!=b){var c="";"number"==typeof b.grid&&0!=b.grid&&(c="_"+gx.fn.currentGridRowImpl(b.grid));gx.fn.setHidden(gx.O.CmpContext+b.id+c,gx.O[a])}},c2vMap:function(a){var b=this.getVarControlMapForVar(a);if(null!=b){var c="";"number"==typeof b.grid&&0!=b.grid&&(c="_"+gx.fn.currentGridRowImpl(b.grid));
gx.O[a]=gx.fn.getHidden(gx.O.CmpContext+b.id+c)}},depsToVars:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=gx.fn.vStructForVar(c);gx.lang.emptyObject(d)||"function"!=typeof d.c2v?this.c2vMap(c):d.c2v()}},verticalFormula:function(a,b,c,d,f,p,r){var k=gx.fn.vStructForVar(a);gx.lang.emptyObject(k)?this.v2cMap(a):k.v2c(d);var u=gx.fn.currentGridRowImpl(c),x=gx.fn.getGridObj(c,d),m=0,l=!1;if(x){for(var t=x.grid.rows.length,z=0;z<t;z++){var G=x.grid.rows[z],F=G.gxDeleted(),C=G.gxExists(),w=G.gxIsMod();
F||!C&&!w||(gx.fn.setCurrentGridRow(c,G.gxId),r&&0<r.length?this.depsToVars(r):gx.lang.emptyObject(k)||"function"!=typeof k.c2v?this.c2vMap(a):k.c2v(),f.call(gx.O)&&(l=!0,m=p(z,m)))}gx.fn.setCurrentGridRow(c,u);r&&0<r.length?this.depsToVars(r):gx.lang.emptyObject(k)||"function"!=typeof k.c2v?this.c2vMap(a):k.c2v(d);l||(m=b)}else gx.dbg.write("verticalFormula: can´t find grid "+c+" at row "+d);return m},rowValueHandler:function(a,b,c,d,f,p,r){try{var k=gx.fn.vStructForVar(a)||gx.fn.getVarControlMapForVar(a),
u=k?k.type:"decimal";switch(u){case "boolean":return d(a,b,c);case "int":case "decimal":var x=gx.num.parseFloat(gx.O[a],p,r);return 0==b?x:f(a,b,c,x);default:gx.dbg.write("Warning: Forumula not supported for: ",a,u)}}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","Formula could not be calculated for Field: "+a)}},maxFrm:function(a,b,c,d,f,p,r,k){var u=function(m,l,t){return t||gx.O[m]},x=function(m,l,t,z){return z>t?z:t};return gx.fn.verticalFormula(a,b,f,p,r,function(m,l){return gx.fn.rowValueHandler(a,m,
l,u,x,c,d)},k)},sumFrm:function(a,b,c,d,f,p,r,k){var u=function(m,l,t){return t||gx.O[m]},x=function(m,l,t,z){return z+t};return gx.fn.verticalFormula(a,b,f,p,r,function(m,l){return gx.fn.rowValueHandler(a,m,l,u,x,c,d)},k)},minFrm:function(a,b,c,d,f,p,r,k){var u=function(m,l,t){return t&&gx.O[m]},x=function(m,l,t,z){return z<t?z:t};return gx.fn.verticalFormula(a,b,f,p,r,function(m,l){return gx.fn.rowValueHandler(a,m,l,u,x,c,d)},k)},averageFrm:function(a,b,c,d,f,p,r,k){return gx.fn.verticalFormula(a,
b,f,p,r,function(u,x){var m=gx.num.parseFloat(gx.O[a],c,d);return 0==u?m:(x*u+m)/(u+1)},k)},countFrm:function(a,b,c,d,f,p){return gx.fn.verticalFormula(a,b,c,d,f,function(r,k){return 0==r?1:k+1},p)},serialRule:function(a,b,c,d,f){f=f||gx.O;if("INS"!=gx.fn.getGridRowMode(gx.fn.gridLvl(c),c))return f[a];gx.lang.emptyObject(f[b])&&(f[b]=f[a]+d,(c=gx.fn.vStructForVar(b))&&c.v2c(),(c=f.VarControlMap[a])&&gx.fn.setControlValue(c.id,f[b]));b=f[b]||0;a=f[a]||0;return 0<d?Math.max(b,a):Math.min(b,a)},setReturnParms:function(a,
b,c,d){try{gx.csv.settingUIparms=!0;var f;if(d){var p=c.length;for(f=0;f<p;f++){var r=gx.fn.vStructForVar(b[f]);d.grid.setCellValue.apply(d.grid,[r,c[f]])}}else if(a&&b&&c&&(p=b.length,p==c.length)){gx.setGxO(a);d=null;for(f=0;f<p;f++){var k=b[f];if(k){var u=c[f];r=gx.fn.vStructForVar(k);gx.lang.emptyObject(r)&&(r=gx.fn.vStructForHC(k));if(r){var x=gx.fn.screen_CtrlRef(gx.csv.ctxControlId(r.fld));r.v2v&&(r.v2v(u),gx.fn.v2c(r,u));"function"===typeof r.v2bc&&r.v2bc.call(a);gx.fn.isAccepted(x)&&(d=x,
gx.evt.onchange_impl(x));a.refreshDependantGrids(r)}else a.setVariable(k,u)}}d&&gx.fn.setFocus(d)}}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","setReturnParms")}gx.csv.settingUIparms=!1},isOutputParm:function(a){return a&&a.IOType&&("out"==a.IOType||"inout"==a.IOType)?!0:!1},checkPopupFocus:function(a){if(gx.popup.ispopup()){var b=gx.popup.getPopup();if(b&&b.frameDocument&&(a.ownerDocument?a.ownerDocument:a.document).URL!=b.frameWindow.location.href)return b.setFocusFirst(),!1}return!0},persistControlProperty:function(a,
b,c){a=gx.fn.screen_CtrlId(gx.csv.ctxControlId(a));gx.usrPtys[a]||(gx.usrPtys[a]={});gx.usrPtys[a][b.toLowerCase()]=c},setCtrlProperty:function(a,b,c){if(gx.O){var d="FORM"==a?document:gx.fn.screen_CtrlRef(gx.csv.ctxControlId(a));if(null!=d){this.persistControlProperty(a,b,c);var f=gx.O.getValidStructFld(a);this.setCtrlPropertyImpl(d,b,c,f)}}else gx.fx.obs.addObserver("gx.onready",this,gx.fn.setCtrlProperty.closure(this,arguments),{single:!0})},setGridCtrlProperty:function(a,b,c){var d=gx.fn.screen_CtrlRef(a);
if(null!=d){this.setCtrlPropertyImpl(d,b,c);var f=gx.fn.controlGridId(a);f&&(d=e(d).parent().closest("TD",e("[data-gxgridid="+f+"]").get(0)).get(0))&&(this.persistControlProperty(a,b,c),this.setCtrlPropertyImpl(d,b,c))}},getControls:function(a){var b=[a];(a=this.getRONode(a.id,!1))&&b.push(a);return e(b)},setCtrlPropertyImpl:function(a,b,c,d){if(null!=a&&(a==document&&"Backcolor"==b&&(a=document.body,this.setCtrlPropertyImpl(gx.dom.form(),b,c)),d=d||gx.O.getValidStructFld(a.id),!(("Enabled"===b||
"Visible"===b)&&d&&0<d.grid&&gx.fn.rowIsRemoved(d.grid,gx.fn.controlRowId(a))))){var f=d?d.ctrltype:null,p=a,r={control:p,property:b,value:c};gx.fx.obs.notify("gx.control.onbeforepropertychange",[r]);if(!r.cancel){var k=e();switch(b){case "Picture":a.setAttribute("data-gx-rt-picture",c);d&&(d.v2c(),d.c2v());break;case "Caption":this.setCtrlCaption(a,c);break;case "Tooltiptext":a.title=c;break;case "Invitemessage":a.placeholder=c;break;case "Visible":if("INPUT"==a.nodeName&&"button"==a.type)this.setButtonVisibility(a,
!this.propertyValueFalse(c));else{d="checkbox"===a.type;"INPUT"==a.nodeName&&(d&&e(a).parent().is("span:not(.gx-checkbox-wrapper)")?k=e(a).parent():"radio"==a.type&&(r=e(a).parent().closest(".gx-radio-button"),0<r.length&&(a=r[0])),(r=gx.html.multimediaUpload.getContainer(a))&&(a=r));r=this.propertyValueFalse(c);f=a.gxusrdisabled&&!d?a.gxusrdisabled:!1;r?(d=gx.dom.byId("span_"+a.id),this.setVisible(a,!r),d&&this.setVisible(d,!r)):((d=this.getRONode(a.id,f))&&this.setVisible(d,f),this.setVisible(a,
!f));for(d=0;d<k.length;d++)this.setVisible(k[d],!f);gx.fn.setDateCtrlProperties(a,!f,!r)}gx.fn.checkAttachedProperty(a.id,b,gx.lang.gxBoolean(c));break;case "Enabled":r=this.propertyValueFalse(c);if("hidden"===a.type)return;"textblock"===f&&e(a).toggleClass("gx-disabled",r);if(("SPAN"===a.tagName||"DIV"===a.tagName&&"1"===a.getAttribute("data-gxformat"))&&r)return;if("INPUT"===a.nodeName&&"radio"===a.type)for(k=gx.dom.byName(a.name),f=k.length,d=0;d<f;d++)this.setEnabledProperty(k[d],!r);else!gx.dom.isEditControl(a)&&
"textarea"!==a.type&&"file"!==a.type&&"SELECT"!==a.tagName||"password"===a.type?this.setEnabledProperty(a,!r):(d=this.getRONode(a.id,r,d.fmt),gx.fn.isVisible(a,0)||d&&gx.fn.isVisible(d,0)?(d&&this.setVisible(d,r),this.setEnabledProperty(a,!r),this.setVisible(a,!r),gx.fn.setDateCtrlProperties(a,!r,!0),gx.fn.checkAttachedProperty(a.id,b,!r),gx.fn.checkAttachedProperty(a.id,"Visible",!r)):(this.setEnabledProperty(a,!r),gx.fn.setDateCtrlProperties(a,!r,!1),gx.fn.checkAttachedProperty(a.id,b,!r)));break;
case "Class":a==document?(r=e(gx.dom.form()),k=e(document.body),d=r.attr("data-gx-class")||"",k.removeClass(d).attr("class",c+" "+k.attr("class")),r.removeClass(d).attr({"class":c+" "+r.attr("class"),"data-gx-class":c})):(k=this.getControls(a),k.attr("class",c),!gx.O.DSO&&0>=c.indexOf("Readonly")&&e(this.getRONode(a.id,!1)).attr("class",c+" Readonly"+c));break;case "Columnclass":(r=a.parentNode)&&"TD"==r.tagName&&this.setCtrlClass(r,"gx-attribute "+c);break;case "Columnheaderclass":(r=a.parentNode)&&
"TD"==r.tagName&&(r=e(r).closest("table").find("th:nth-child("+(r.cellIndex+1)+")").get(0))&&this.setCtrlClass(r,c);break;case "Link":this.setCtrlLink(this.getRONode(a.id,!1)||a,c);break;case "Linktarget":this.setCtrlLinkTarget(this.getRONode(a.id,!1)||a,c);break;case "Backcolor":(r=gx.color.html(c))&&void 0==a.gxGridName&&(k=this.getControls(a),k.css("background-color",r.Html));break;case "Background":k=this.getControls(a);k.css("background-image","url("+c+")");break;case "Forecolor":if(r=gx.color.html(c))k=
this.getControls(a),k.css("color",r.Html);break;case "Fontbold":r=this.propertyValueFalse(c);k=this.getControls(a);k.css("fontWeight",r?"normal":"bold");break;case "Fontitalic":r=this.propertyValueFalse(c);k=this.getControls(a);k.css("fontStyle",r?"normal":"italic");break;case "Fontunderline":r=this.propertyValueFalse(c);k=this.getControls(a);k.css("textDecoration",r?"none":"underline");break;case "Fontstrikethru":r=this.propertyValueFalse(c);k=this.getControls(a);k.css("textDecoration",r?"none":
"line-through");break;case "Fontname":k=this.getControls(a);k.css("fontFamily",c);break;case "Fontsize":k=this.getControls(a);k.css("fontSize",c+"pt");break;case "Filename":this.setBlobFilename(a,c);break;case "Filetype":this.setBlobFiletype(a,c);break;case "URL":this.setBlobUrl(a,c);break;case "IsBlob":this.setMultimediaType(a,c);break;case "Bitmap":(gxImage=gx.util.imageName(c))?gx.html.setGXImageCSSClass(a,"GX_Image_"+gxImage+"_Class"):a.src=c;break;case "SrcSet":void 0!==c&&(a.srcset=c);break;
case "gximage":c&&gx.html.setGXImageCSSClass(a,"GX_Image_"+c+"_Class");break;case "Multimedia":this.setMultimediaValue(a.id,c);break;case "Jsonclick":a.jsevent=c;break;case "Source":r=c;k=r.indexOf("?");0<k&&(r=r.substring(0,k));-1==r.indexOf(":")&&-1==r.indexOf("/")?a.src=gx.ajax.objectUrl(c):a.src=gx.util.resourceUrl(c,!0);gx.evt.attach(a,"load",gx.dom.autofitIFrame);break;case "Values":if("SELECT"==a.tagName||gx.dom.isRadio(a)||"SPAN"==a.tagName)c=gx.json.evalJSON(c),"SELECT"==a.tagName?0!=c.isset&&
(gx.fn.loadComboBox(a.id,c.v),gx.fn.setComboBoxValue(a.id,c.s)):gx.dom.isRadio(a)?0!=c.isset&&gx.fn.loadRadioButton(a,c.v,c.s):(r=a.id.substring(5),k="",f=c.s,d=gx.O.getValidStructFld(r),gx.lang.emptyObject(d)||(k=d.type),f=gx.fn.trimSelectValue(f,k),c.s=f,gx.fn.setControlValue_span_safe(r,gx.fn.selectedDescription(c,k)));break;case "Width":a.width&&(a.width=c);a.style.width=gx.dom.addUnits(c);break;case "Height":a.height&&(a.height=c);a.style.height=gx.dom.addUnits(c);break;case "Ispassword":a.type=
gx.lang.gxBoolean(c)?"password":"text"}if(a=gx.dom.id(a))if(d=gx.O.getValidStructFld(a),a=a+(d&&d.grid&&0<d.grid?"":"_")+b,gx.fn.createPtyCondition(b)||gx.fn.isHidden(a))c=1==c?"1":0==c?"0":c,gx.fn.setHidden(a,c);gx.fx.obs.notify("gx.control.onafterpropertychange",[{control:p,property:b,value:c}])}}},createPtyCondition:function(a){return("Visible"==a||"Enabled"==a)&&gx.O.isTransaction()},setEnabledProperty:function(a,b,c){var d=gx.dom.id(a);if(gx.lang.gxBoolean(b)){if(delete gx.disabledControls[d],
gx.fn.isAccepted(a,!1))return}else gx.util.addOnce(gx.disabledControls,a,d);1==gx.csv.isvalidating()&&b&&null==gx.csv.validActivatedControl&&a!=gx.csv.lastControl&&(d=gx.O.getValidStructId(d),d>gx.O.fromValid&&d<=gx.O.toValid&&(gx.csv.validActivatedControl=a));a.gxusrdisabled=!b;a.disabled=a.gxdisabled?1==a.gxdisabled?!0:a.gxusrdisabled:a.gxusrdisabled;(void 0===c||c)&&this.setEnabled(a,b)},setEnabled:function(a,b){var c=function(f,p){gx.lang.booleanValue(p)?f.removeAttribute("data-gx-readonly"):
f.setAttribute("data-gx-readonly","")};gx.lang.booleanValue(b)?gx.dom.removeClass(a,"gx-disabled"):gx.dom.addClass(a,"gx-disabled");if(this.disabledAsSpan(a)){try{if("checkbox"==a.type)var d=a.parentNode;"radio"==a.type&&(d=e(a).parent().closest(".gx-radio-button")[0],c(a,b))}catch(f){}if(gx.lang.booleanValue(b))!gx.O.DSO&&d&&0==d.className.indexOf("Readonly")&&(d.className=d.className.substring(8)),this.isVisible(a)&&(this.setVisible(a,1),(b=this.getRONode(a.id,!0))&&this.setVisible(b,0));else if(!gx.O.DSO&&
d&&0>d.className.indexOf("Readonly")&&!gx.text.startsWith(d.className,"gx-")&&(d.className="Readonly"+d.className),this.isVisible(a)&&"password"!=a.type&&"image"!=a.type&&"checkbox"!=a.type&&"radio"!==a.type&&(b=this.getRONode(a.id,!0)))this.setVisible(a,0),this.setVisible(b,1),c=gx.O.getValidStructFld(a),d=0,!gx.lang.emptyObject(c)&&c.format&&(d=c.format),this.setControlValue_span_safe(b,gx.fn.getControlValue(gx.dom.id(a),"screen",void 0,c),d,"textarea"==a.type)}else c(a,b)},disabledAsSpan:function(a){var b=
a.tagName.toUpperCase();return"IMG"!=b&&!("INPUT"==b&&"button"==a.type)},setVisible:function(a,b){e(a).toggleClass("gx-invisible",!gx.lang.booleanValue(b));a.style.display=0==b?"none":this.displayByType(a.nodeName);var c=gx.O.getValidStructFld(a);if(b&&c&&c.gxgrid&&!c.gxgrid.grid.gxIsFreestyle){var d=a.closest("td[data-colindex]");if(d){c.gxgrid.applyPropEntireColumn(d.getAttribute("data-colindex"),"Visible",b);return}}gx.fn.rowGridId(a)&&(a=e(a).find("table")[0])&&this.setVisible(a,b)},getRONodePrefix:function(){return"span_"},
prefixROClass:function(a){return gx.O.DSO||""===a||0===a.indexOf("Readonly")?a:"Readonly"+a},getRONode:function(a,b,c){c=void 0===c?gx.html.controls.formats.TEXT:c;if(c===gx.html.controls.formats.RAW_HTML||c===gx.html.controls.formats.HTML||gx.lang.emptyObject(a))return null;c=gx.dom.byId(a);a=this.getRONodePrefix()+a;var d=gx.dom.byId(a);if(null!=d)return d;if(!b||null==c||"INPUT"===c.nodeName&&("radio"===c.type||"checkbox"===c.type))return null;b=document.createElement("SPAN");b.setAttribute("id",
a);b.setAttribute("data-gx-readonly","");this.setVisible(b,!1);b.className=gx.fn.prefixROClass(c.className);a="IMG"==c.nodeName||"INPUT"==c.nodeName&&"image"==c.type?c.value:gx.fn.getControlValue(gx.dom.id(c),"screen");b.appendChild(document.createTextNode(a||""));c.parentNode.insertBefore(b,c);return b},setDateCtrlProperties:function(a,b,c){var d=gx.dom.byId(gx.dom.id(a)+"_dp_trigger");d&&e(d).toggle(b);if(d=e(gx.dom.byId(gx.dom.id(a)+"_dp_container")))a.Flat&&e(a).hide(),a=e(".calendar",d),d.toggle(b&&
c||!b&&c),a&&a.toggle(b&&c)},getGridCtrlProperty:function(a,b,c){try{if(0!=a){var d=this.getGridObj(a);if(d){var f=d.grid.getColumnByHtmlName(b);if(f)return f[c.toLowerCase()]}}else return this.getCtrlProperty(b,c)}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","getGridCtrlProperty")}return""},getCtrlProperty:function(a,b){var c=gx.O.getValidStructFld(a),d=c&&0<c.grid?"_"+gx.fn.currentGridRowImpl(c.grid):"";d=gx.uc.getUserControlObj(gx.uc.userControlContainerId(a+d));if(null!=d)return d[b];if(d=this.screen_CtrlRef(a))return"Picture"===
b?gx.rtPicture(c,d):"Text"===b?this.getControlValue(a,"screen",void 0,c):"Visible"==b&&gx.fn.getRONode(d.id)?this.getCtrlProperty_impl(d,b)||this.getCtrlProperty_impl(gx.fn.getRONode(a),b):"Enabled"==b&&gx.fn.getRONode(d.id)?!this.getCtrlProperty_impl(gx.fn.getRONode(d.id),"Visible"):this.getCtrlProperty_impl(d,b)},getCtrlProperty_impl:function(a,b){if(null==a)return"";switch(b){case "Tooltiptext":return a.title;case "Invitemessage":return a.placeholder;case "Visible":return"INPUT"===a.nodeName&&
"radio"===a.type&&(b=e(a).parent().closest(".gx-radio-button"),0<b.length&&(a=b[0])),"none"!=a.style.display;case "Enabled":return void 0===a.disabled?e(a).hasClass("gx-disabled")?!1:!0:!a.disabled;case "Class":return a.className;case "Backcolor":return gx.color.css(a.style.backgroundColor);case "Forecolor":return gx.color.css(a.style.color);case "Width":return gx.dom.dimensions(a).w;case "Height":return gx.dom.dimensions(a).h;case "Caption":return this.getCtrlCaption(a);case "Fontbold":return"bold"==
a.style.fontWeight;case "Fontitalic":return"italic"==a.style.fontStyle;case "Fontunderline":return"underline"==a.style.textDecoration;case "Fontstrikethru":return"line-through"==a.style.textDecoration;case "Fontname":return a.style.fontFamily;case "Filename":return a.value.split(/(\\|\/)/g).pop();case "Fontsize":return a=parseInt(a.style.fontSize),isNaN(a)?12:a;case "Ispassword":return"password"==a.type}},displayByType:function(a){switch(a){case "TABLE":return!gx.util.browser.isIE()||8<=gx.util.browser.ieVersion()?
"table":"block";case "P":case "DIV":return"block"}return""},setCtrlCaption:function(a,b){try{var c=gx.html.getFieldLabel(a);if(c)gx.fn.setControlValue_fmt(c,b,0,!1);else{switch(a.tagName){case "SPAN":case "DIV":case "FIELDSET":var d=a.getAttribute("data-gxformat"),f=gx.O.getValidStructFld(a);null==d&&(d=!gx.lang.emptyObject(f)&&f.format?f.format:0);c=!1;f&&(c="edit"===f.ctrltype?f.multiline:!0);gx.fn.setControlValue_fmt(a,b,d,c);return;case "INPUT":"checkbox"!=a.type&&(a.value=b);return}"#document"==
a.nodeName&&(a.title=b)}}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","setCtrlCaption")}},getCtrlCaption:function(a){var b=gx.html.getFieldLabel(a);if(b)return e(b).text();switch(a.tagName){case "SPAN":case "DIV":case "FIELDSET":b=a.getAttribute("data-gxformat");if(null!=b&&"1"==b)return a.innerHTML;for(;null!=a.firstChild&&"#text"!=a.firstChild.nodeName;)a=a.firstChild;return"undefined"!=typeof a.innerText?a.innerText:a.textContent||a.text;case "INPUT":if("checkbox"!=a.type)return a.value;break;default:return""}},
propertyValueFalse:function(a){return"string"==typeof a&&(a=a.toLowerCase(),"false"==a||0==gx.num.parseFloat(a))?!0:0==a},setButtonVisibility:function(a,b){b=b?"":"none";var c=a.parentNode;gx.lang.emptyObject(c)||"SPAN"!=c.nodeName||(c.style.display=b,c=c.parentNode,gx.lang.emptyObject(c)||"SPAN"!=c.nodeName||(c.style.display=b,c=c.parentNode,gx.lang.emptyObject(c)||"SPAN"!=c.nodeName||(c.style.display=b,c=c.parentNode,gx.lang.emptyObject(c)||"SPAN"!=c.nodeName||(c.style.display=b))));a.style.display=
b},setBlobValue:function(a,b){a=gx.dom.byId(a)||gx.dom.byId("Object_"+a);this.setBlobUrl(a,b)},setBlobFilename:function(a,b){null!=a&&(a=gx.O.getValidStructFld(a))&&gx.fn.setHidden(a.fld+"_Filename",gx.text.trim(b))},setBlobFiletype:function(a,b){if(null!=a){var c=gx.O.getValidStructFld(a);c&&gx.fn.setHidden(c.fld+"_Filetype",gx.text.trim(b));c=a;"INPUT"==c.nodeName&&"file"==c.type&&(c=gx.dom.byId("Object_"+a.id));null!=c&&(b=gx.util.getContentType(b),this.setObjectCtrlType(c,b),gx.fn.setVisible(c,
!0))}},resolveResourceUrl:function(a,b){if(""==a)return b?gx.ajax.getImageUrl(gx,"blankImage"):"";if(!gx.isabsoluteurl(a))if(gx.isRelativeToHost(a)){if(0!=a.toLowerCase().indexOf("/"+gx.basePath.toLowerCase()))return gx.util.resourceUrl(gx.basePath+a,!1)}else return gx.util.resourceUrl(gx.basePath+gx.staticDirectory+a,!1);return a},setBlobUrl:function(a,b){var c=gx.html.multimediaUpload.getContainer(a);if(c)a=this.resolveResourceUrl(b,!1),gx.html.multimediaUpload.setPreviewImage(c,a),gx.html.multimediaUpload.setPreviewLink(c,
a);else if(!b.match(/^[a-z]:[\S]*/i)&&null!=a){c=a;var d="INPUT"==c.nodeName&&"file"==c.type;if(""===b&&""===b){var f=e(c);f.wrap("<form>").closest("form").get(0).reset();f.unwrap()}d&&(c=gx.dom.byId("Object_"+a.id));null!=c&&(d=gx.util.getContentTypeFromExt(b),c=this.setObjectCtrlType(c,d));null!=c?"IMG"==c.tagName?(b=this.resolveResourceUrl(b,!0),c.src=b):(c.data=b||"about:blank",gx.fn.setVisible(c,!0),this.resizeObject(c),gx.dom.redrawControl(c)):(c=gx.dom.byId("Link_"+a.id),null!=c&&(c.style.display=
""!=b?"block":"none",c.href=b))}},setGridMultimediaValue:function(a,b,c,d){if(void 0!==b)return this.setMultimediaValue(a+"_"+b,c,d)},setMultimediaValue:function(a,b,c){var d=gx.dom.byId(gx.csv.ctxControlId(a));if(d){var f=gx.html.multimediaUpload.getContainer(d),p=this.resolveResourceUrl(c||b||"",!1);if(f){0<=gx.util.Url.parseWithAnchor(b).protocol.search(/^https?:/)&&gx.html.multimediaUpload.setPreviewImage(f,p);var r=""==b&&""==c||""!=b;if(!r){var k=gx.dom.byId(d.id+"_GXI");k&&(k.value=c)}(a=gx.dom.byId(a))&&
""==b&&(a.value="");this.setMultimediaType(d,r);gx.html.multimediaUpload.setPreviewLink(f,p)}else{if("IMG"==d.tagName||"INPUT"==d.tagName&&"image"==d.type)d.src=p;(b=d.parentNode)&&"A"==b.tagName&&gx.dom.isMultimediaElement(d)&&(p?b.href=p:b.removeAttribute("href"))}}},setMultimediaType:function(a,b){a&&(a=gx.html.multimediaUpload.getContainer(a))&&gx.html.multimediaUpload.setType(a,gx.lang.gxBoolean(b))},setObjectCtrlType:function(a,b){var c=a;if("IMG"==a.nodeName&&(!b||0==b.indexOf("image/")))return c;
if(a.type!=b||"OBJECT"==a.nodeName&&0==b.indexOf("image/"))if(c=0==b.indexOf("image/")?gx.html.nodesFromText('<img id="'+a.id+'">')[0]:gx.html.nodesFromText('<object style="display:none;" id="'+a.id+'" type="'+b+'">')[0]){try{for(var d in a.attributes)if("id"!=d&&"type"!=d&&"implementation"!=d&&a[d])try{c[d]=a[d]}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","setObjectCtrlType")}}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","setObjectCtrlType")}if(b=a.parentNode){d=null;var f=b.childNodes.length;for(i=0;i<f;i++)if(b.childNodes[i]==
a){i<f-1&&(d=b.childNodes[i+1]);break}gx.dom.removeControlSafe(a);null!=d?b.insertBefore(c,d):b.appendChild(c)}}return c},resizeObject:function(a){var b=gx.lang.emptyObject;!b(a.data)&&"about:blank"!=a.data&&b(a.width)&&b(a.height)&&b(a.style.width)&&b(a.style.height)&&(a.style.width="200px",a.style.height="200px")},restoreLostCtrlOnGridRefresh:function(a,b,c){if(null==b.form){var d=gx.dom.id(b);!(d=gx.O.getValidStructFld(d))||"checkbox"!=b.type||d.gxgrid&&parseInt(a||0,10)!==parseInt(d.gxgrid.grid.firstRecordOnPage||
0,10)||(b=gx.dom.el(b.id)||gx.dom.el(b.name),b.checked=c)}return b},checkboxClick:function(a,b,c,d,f){var p=b.checked;f=f?gx.getObj(f):null;var r="object"===typeof a?a:gx.fn.validStruct(a,f),k=r&&r.gxgrid?r.gxgrid.grid.firstRecordOnPage:0;a=r&&r.grid?r.grid:0;var u=function(x){b=this.restoreLostCtrlOnGridRefresh(k,b,p);gx.fn.setControlOldValue(b,b.value);b.checked=p;b.value=p?c:d;gx.dom.toggleAttribute(b,"checked",p);r&&("function"==typeof r.c2v&&r.c2v(),"function"==typeof r.v2bc&&r.v2bc.call(gx.O),
gx.csv.invalidateCtrl(b,!0))}.closure(this);a&&gx.pO.supportAjaxEvents&&gx.evt.doAfterValidating(u);gx.fx.obs.notify("gx.validation",null,function(){if(gx.evt.fixWebKitOnFocus())b.onfocus();u.call(this,!0)});gx.pO.fullAjax||u.call(this,!0);f&&gx.util.browser.isIE()&&gx.setGxO(f)},setCtrlClass:function(a,b){null!=a&&(a.className=b)},setCtrlLink:function(a,b){if(null!=a)if(""==b)this.unsetCtrlLink(a);else if("A"==a.tagName)a.href=b;else{var c=a.firstChild;if(c&&"A"==c.tagName)c.href=b;else{var d=a.parentNode;
if("A"==d.tagName)d.href=b;else{var f=document.createElement("A");f.href=b;c&&"#text"==c.nodeName?(gx.dom.shouldPurge()&&gx.dom.purge(f,!0),f.innerHTML=c.nodeValue,a.replaceChild(f,c)):(d.replaceChild(f,a),f.appendChild(a));(a=e(a).attr("data-gx-link-target"))&&e(f).attr("target",a)}}}},unsetCtrlLink:function(a){if(null!=a&&(a=a.parentNode,"A"==a.tagName)){var b=a.firstChild;ParentTag2=a.parentNode;if(null!=ParentTag2){for(;null!=b;)ParentTag2.insertBefore(b,a),b=a.firstChild;gx.dom.removeControlSafe(a)}}},
setCtrlLinkTarget:function(a,b){if(null!=a){var c=e(a);c.is("a")||(c=c.children());c.is("a")&&c.attr("target",b);e(a).attr("data-gx-link-target",b)}},isVisible:function(a,b){if(!a||gx.dom.hasClass(a,"gx-invisible")||"INPUT"===a.tagName.toUpperCase()&&"hidden"===a.type||"none"===a.style.display)return!1;try{for(var c;a&&("undefined"==typeof b||0<=b);){if((c=gx.dom.getComputedStyle(a))&&("hidden"==c.visibility||"none"==c.display))return!1;a=a.parentNode;"undefined"!=typeof b&&b--}}catch(d){gx.dbg.logEx(d,
"gxfrmutl.js","isVisible")}return!0},gridRowIsMod:function(a,b){var c=this.gridObjByLvl(a);if(c)return c=gx.O.getGridById(c.gridId,b)||c,(a=c.grid.getRowByGxId(b))?a.gxIsMod():!0;c=!1;try{c=1==this.getControlValue("nIsMod_"+a+"_"+b)}catch(d){c=!1}return c},gridObjByLvl:function(a){for(var b=gx.O.Grids,c=b.length,d=0;d<c;d++)if(b[d].gridLvl==a)return b[d];return null},forceEnableControls:function(a){for(var b in gx.disabledControls){b=this.getControlRef_list(b);for(var c=b.length,d=0;d<c;d++)try{"button"!=
b[d].type&&"submit"!=b[d].type&&(b[d].disabled=a)}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","forceEnableControls")}}},alert:function(a,b){try{var c=gx.util.balloon.getNew(a.id);c.setError(b);c.show();gx.csv.invalidForcedCtrl=gx.csv.invalidForcedCtrl||{};gx.csv.invalidForcedCtrl.Ctrl=a;gx.csv.invalidForcedCtrl.ForceFocus=!1}catch(d){gx.util.alert.showError(b)}},getGridRowMode:function(a,b){return this.getGridRowModeImpl(a,b,this.currentGridRow(b))},getGridRowModeImpl:function(a,b,c){b=this.rowIsRemoved(b,
c);a=this.getControlValue("nRcdExists_"+a+"_"+c);return"1"==b?"DLT":"0"==a?"INS":"UPD"},rowIsRemoved:function(a,b){a=this.getGridObj(a);return null!=a&&(b=a.grid.getRowByGxId(b))?b.gxDeleted():!1},getGridObj:function(a,b){return gx.O.getGridById(a,b)},changeCmpContext:function(){try{gx.O.SetStandaloneVars()}catch(a){gx.dbg.logEx(a,"gxfrmutl.js","changeCmpContext")}},initOld:function(a){void 0==gx.oldValues[a.id]&&(gx.oldValues[a.id]=a.value)},hasUnicode:function(a){return/[^\u0000-\u00ff]/.test(a)},
setFocusOnError:function(a){var b=gx.fn.controlGridId(a);a=gx.csv.ctxControlId(a);b=0==b?gx.dom.el(a):gx.fn.getControlGridRef(a,b);return null!=b&&(gx.O.AnyError=1,gx.csv.anyError=!0,b.setAttribute("data-gxvalid","0"),gx.csv.stopOnError||gx.csv.invalidForcedCtrl&&gx.csv.invalidForcedCtrl.ForceFocus)?(gx.fn.setFocus(b),!0):!1},usrSetFocus:function(a){gx.usrPendingControl=a},usrSetFocus_commit:function(){gx.usrPendingControl&&(gx.fn.usrSetFocus_impl(gx.usrPendingControl),delete gx.usrPendingControl)},
usrSetFocus_impl:function(a,b){void 0===b&&(b=!0);var c=gx.fn.screen_CtrlRef(a);null==c?gx.grid.setActiveGridRow(a,0):(a=gx.dom.id(c),1==gx.csv.isvalidating()?b?gx.fx.obs.addObserver("gx.onaftervalidate",this,function(d){gx.lang.doCallTimeout(gx.fn.usrSetFocus_impl,gx.fn,[d,!1],200)}.closure(gx.fn,[a]),{single:!0}):gx.usrFocusControl=a:(gx.fn.setFocus(c),delete gx.usrFocusControl))},setFocus:function(a,b){if(a){try{gx.popup.ispopup()&&(gx.util.browser.isIE()&&window.parent.document.selection?window.parent.document.selection.empty():
window.parent.gx.csv.lastControl&&window.parent.gx.csv.lastControl.blur&&window.parent.gx.csv.lastControl.blur())}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","setFocus")}try{if(!gx.lang.emptyObject(a.id)&&(a=gx.dom.byId(a.id),!a))return;gx.fn.setFocusSafe(a,function(c){gx.fn.setSelection(c);c.forcedFocus=!0;b&&b()})}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","setFocus")}}},setFocusSafe:function(a,b){var c=gx.csv.setFocusOnload;if(a){var d=function(f,p){try{c&&p&&gx.fx.obs.addObserver("gx.onafterfocus",this,
p.closure(this,[f]),{single:!0}),f.focus()}catch(r){}!c&&p&&p(f)};gx.spa.isNavigating()?gx.spa.addObserver("onnavigatecomplete",window,function(){d.call(this,a,b)},{single:!0}):gx.lang.doCallTimeout(d,this,[a,b],c?500:0)}},setFocusInit:function(){try{gx.csv.lastActiveControl=window.document.activeElement}catch(a){}gx.csv.lastActiveControl||(gx.csv.lastActiveControl=gx.csv.lastControl)},arrayCtrlFocus:function(a){a&&"radio"==a.type&&(a=gx.fn.getRadioSelected(a.name)||a);return a},setFocusOnload:function(a){a=
void 0===a?!0:!1;gx.wpo(function(){if(!gx.pO.focusOnlyNEmb||top===self||gx.popup.ispopup()){var b=null;b=gx.pO.getUserFocus();if(!gx.lang.emptyObject(b)){if("notset"==b)return;var c=gx.pO.getUserControl(gx.uc.userControlContainerId(b));if(gx.lang.emptyObject(c))gx.csv.userFocus=gx.fn.getControlRef(b);else{c.setFocusBase();return}}if("notset"!=gx.csv.userFocus){b=gx.csv.userFocus;gx.fn.isAccepted(b)||(gx.csv.lastActiveControl&&gx.fn.isAccepted(gx.csv.lastActiveControl)?b=gx.csv.lastActiveControl:(b=
gx.fn.firstAcceptedControl(gx.popup.ispopup()),b=gx.fn.arrayCtrlFocus(b)));try{b?(c=function(){gx.csv.setFocusOnload=!1},gx.csv.lastControl=b,gx.csv.setFocusOnload=a,gx.fn.isAccepted(b)?(gx.O&&gx.O.IsComponent&&(gx.csv.disableFocus=!0),gx.fn.setFocus(b,c)):(gx.popup.setFocus(),c())):gx.popup.setFocus()}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","setFocusOnload")}}}})},setSelectionImpl:function(a){gx.util.browser.isSafari()?setTimeout(function(){e(a).select()},0):a.select&&a.select()},setSelection:function(a){if(a&&
gx.fn.isVisible(a))try{if(gx.csv.lastControl=a,(gx.dom.isEditControl(a)||"file"==a.type)&&a.select)this.setSelectionImpl(a);else if("TEXTAREA"==a.nodeName||"SELECT"==a.nodeName)a.focus(),this.setSelectionImpl(a)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","setSelection")}},isAccepted:function(a,b,c){b=void 0===b||b;c=c||gx.O;var d=["FIELDSET"];d=null!=a&&a.type&&"hidden"!==a.type&&!a.disabled&&!a.readOnly&&!gx.util.inArray(a.nodeName,d)&&gx.fn.isVisible(a);if(!d)return!1;b&&(a=gx.dom.id(a),b=c.getValidStructFld(a),
a=c.getVariable("Gx_mode"),0<gx.csv.lastGrid&&c.setVariable("Gx_mode",gx.fn.getGridRowMode(gx.fn.gridLvl(gx.csv.lastGrid),gx.csv.lastGrid)),d=!gx.lang.emptyObject(b)&&b.nac?!b.nac.call(c):!0,c.setVariable("Gx_mode",a));return d},enterHasFocus:function(){return null==gx.csv.lastControl?!1:gx.evt.isEnterEvtCtrl(gx.csv.lastControl)},skipFocus:function(a,b){b=b||gx.csv.lastControl;var c=gx.fn.getControlIndex(b),d=c,f=this.controlGridId(b.id||b.name),p=!1;a&&gx.dom.hasClass(b,"gx_newrow")&&(d=b.gxControlIdx,
p=!0);if(-1==d)return!0;var r=gx.fn.getFormElements();for(b=gx.fn.searchFocus(++d,!0);;b=gx.fn.searchFocus(++d,!0))if(null==b||d==r.length)d=-1;else{if(a)break;if(gx.evt.isEnterEvtCtrl(b))break;if("INPUT"==b.nodeName&&"submit"!=b.type&&"button"!=b.type&&"image"!=b.type)break}!p&&f&&gx.O.isTransaction()&&this.controlGridId(b.id||b.name)!=f&&(a=gx.O.getGridById(f),b=gx.dom.byId(a.containerName+"_NewRow").parentNode,b.gxControlIdx=c);gx.fn.setFocus(b)},getFormElements:function(){return e.makeArray(e("button, fieldset, input, img, object, output, select, textarea"))},
getControlIndex:function(a){var b=gx.fn.getFormElements().length-1;return el=this.controlIndex(a,0,b)},controlIndex:function(a,b,c){if(document.all){var d=gx.fn.getFormElements(),f=d[b].sourceIndex,p=d[c].sourceIndex,r=parseInt(b+(c-b)/2)+1;d=d[r].sourceIndex;if(b==c&&a.sourceIndex==f&&a.sourceIndex==p||a.sourceIndex==f)return b;if(a.sourceIndex==p)return c;if(a.sourceIndex==d)return r;if(a.sourceIndex>d&&a.sourceIndex<p)return this.controlIndex(a,r+1,c-1);if(a.sourceIndex>f&&a.sourceIndex<d)return this.controlIndex(a,
b+1,r-1)}else return a.gxIndex},searchFocus:function(a,b){return b?this.searchFocusFwd(a):this.searchFocusBack(a)},searchFocusBack:function(a){for(var b=h(gx.fn.getFormElements());0<=a;a--)if(gx.fn.isAccepted(b))return b[a];return null},searchFocusFwd:function(a){for(var b=h(gx.fn.getFormElements()),c=b.length;a<c;a++)if(gx.fn.isAccepted(b[a]))return b[a];return null},rowGridId:function(a){if(!a||!a.getAttribute)return null;var b=a.getAttribute("data-gxgridid");return null!=b?b:gx.fn.rowGridId(a.parentNode)},
controlRowIndex:function(a){return e(a).parentsUntil(".gx_usercontrol, .gxwebcomponent").filter("[data-gxrow]").attr("data-gxrow")||""},controlRowIdImpl:function(a){if(!a||!a.getAttribute)return null;var b=a.getAttribute("data-gxrow");return null!=b?b:gx.fn.controlRowIdImpl(a.parentNode)},controlRowId:function(a){var b=gx.fn.controlRowIdImpl(a);null===b&&a&&a.id&&0<a.id.lastIndexOf("_")&&(b=a.id.lastIndexOf("_"),b=a.id.substring(b+1));return b},controlGridId:function(a){try{var b=gx.O.Grids;if(b){var c=
0;for(len=b.length;c<len;c++)if(b[c].grid.columnsHtmlName[a])return b[c].gridId}var d=gx.fn.controlIds();c=0;for(len=d.length;c<len;c++){var f=gx.fn.validStruct(d[c]);if(gx.O.isSameField(f,a))return f.grid}var p=gx.O.getComponentData(a);if(p){var r=gx.fn.gridObjByLvl(p.lvl);if(r)return r.gridId}}catch(k){}return 0},oldGridId:function(a){try{var b=gx.fn.controlIds(),c=b.length;for(i=0;i<c;i++){var d=gx.fn.validStruct(b[i]);if(void 0!=d&&d.gxold==a)return d.grid}}catch(f){gx.dbg.logEx(f,"gxfrmutl.js",
"oldGridId")}return 0},saveLvlOldParm:function(a,b){var c="no_mode";null!=gx.csv.validatingGrid?this.isLvlParmOld(gx.csv.lastGrid,a)&&(c=gx.fn.getGridRowMode(gx.fn.gridLvl(gx.csv.lastGrid),gx.csv.lastGrid)):this.isLvlParmOld(0,a)&&(c=gx.O.Gx_mode);return"no_mode"==c?!0:"UPD"==c||null==gx.csv.validatingGrid?(window[a]=b,!0):!1},isLvlParmOld:function(a,b){try{var c=gx.O.getOldLvl(b);if(0<=c){if(0<a){var d=gx.fn.gridLvl(a);return c<d}return!0}}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","isLvlParmOld")}return!1},
gridLvl:function(a){try{var b=gx.fn.controlIds(),c=b.length;for(i=0;i<c;i++){var d=gx.fn.validStruct(b[i]);if(void 0!=d&&void 0!=d.lvl&&d.grid==a)return d.lvl}}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","gridLvl")}return 0},lvlGrid:function(a){try{var b=gx.fn.controlIds(),c=b.length;for(i=0;i<c;i++){var d=gx.fn.validStruct(b[i]);if(void 0!=d&&d.lvl==a)return d.grid}}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","lvlGrid")}return 0},vStructId:function(a){try{var b=gx.fn.controlIds();for(i=0;i<b.length;i++){var c=
gx.fn.validStruct(b[i]);if(void 0!=c&&c.fld==a)return b[i]}}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","vStructId")}return 0},getVStruct:function(a,b){try{var c=null;b&&(c=[]);var d=gx.fn.controlIds(),f=d.length;for(i=0;i<f;i++){var p=gx.fn.validStruct(d[i]);if(void 0!=p&&a(p))if(p.id=d[i],b)c.push(p);else return p}}catch(r){gx.dbg.logEx(r,"gxfrmutl.js","getVStruct")}return c},vStructForOld:function(a){return gx.fn.getVStruct(function(b){return b.gxold==a})},vStructForVar:function(a){return gx.fn.getVStruct(function(b){return b.gxvar==
a})},vStructForVarWId:function(a,b){var c=gx.fn.getVStruct(function(r){return r.gxvar==a},!0),d=c[0],f=c.length;if(1<f)for(var p=0;p<f&&(d=c[p],d.id!=b);p++);return d},vStructForHC:function(a){return gx.fn.getVStruct(function(b){return b.hc==a})},firstCtrlAfterGrid:function(a,b){for(var c=gx.fn.lastCtrlId();a<c;a++){var d=gx.fn.validStruct(a);if(void 0!=d&&d.grid!=b)return a}return c},clearOldKeys:function(){gx.oldKeyValues=[]},oldKey:function(a){try{return gx.oldKeyValues[a]}catch(b){gx.dbg.logEx(b,
"gxfrmutl.js","oldKey")}return""},oldGridKey:function(a,b){try{return gx.oldKeyValues[a+gx.fn.currentGridRow(b)]}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","oldGridKey")}return""},setKey:function(a,b){null!=a&&(gx.oldKeyValues[a]=b)},unsetKey:function(a){null!=a&&(gx.oldKeyValues[a]=void 0)},setGridKey:function(a,b,c){null!=a&&(gx.oldKeyValues[a+gx.fn.currentGridRow(b)]=c)},unsetGridKey:function(a,b){null!=a&&(gx.oldKeyValues[a+gx.fn.currentGridRow(b)]=void 0)},removeGridRow:function(a,b){var c=gx.fn.rowIsRemoved(b,
a);try{var d=gx.fn.controlIds(),f=d.length;for(i=0;i<f;i++){var p=gx.fn.validStruct(d[i]);if(void 0!=p&&p.grid==b){var r=gx.dom.el(p.fld+"_"+a);null!=r&&(r.gxdisabled=c,r.disabled=c)}}}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","removeGridRow")}gx.evt.doAfterValidating(function(){gx.csv.validGridRow(b,a)})},controlFiresEvent:function(a){return a&&(a.evt||a.triggersEvt)},controlIds:function(a){return(a=a||gx.O)?a.getControlIds():[]},getControlContext:function(a){var b=null;(a=gx.json.evalJSON(e(a).attr(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR)||
"{}"))&&1<a.length&&(b=gx.getObj(a[0],a[1]));return b},validStruct:function(a,b){b=b||gx.O;return b.getValidStruct(a)},lastCtrlId:function(a){if(!0===a){a=this.controlIds();for(var b=a.length-1;0<=b;b--){var c=this.validStruct(a[b]);if(c.v2v&&(void 0===c.isacc||1==c.isacc))return a[b]}}else return gx.O.getLastControlId()},lastMainLevelCtrlId:function(a,b){return 0==b&&a==this.lastCtrlId(!0)},vStructsArray:function(){return gx.O.GXValidFnc},firstAcceptedControl:function(a){try{for(var b=gx.fn.vStructsArray(),
c=gx.fn.controlIds(),d=c.length,f=0;f<d;f++){var p=b[c[f]];if(null!=p){var r=gx.fn.getControlGridRef(p.fld,p.grid);if(r&&gx.fn.isAccepted(r)&&(a||"submit"!=r.type&&"image"!=r.type&&"button"!=r.type&&"fieldset"!=r.type))return r}}}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","firstAcceptedControl")}return null},enableDisableDelete:function(a){var b=gx.dom.byId(gx.csv.cmpCtx+"BTN_DELETE");null!=b&&a.isTransaction()&&gx.fn.setCtrlPropertyImpl(b,"Enabled","INS"==gx.getVar("Gx_mode")?0:1)},setFocusAfterLoad:function(a){1!=
gx.csv.isvalidating()&&gx.lang.emptyObject(gx.csv.autoRefreshing)&&(a&&gx.csv.invalidateForm(),gx.csv.onloadFocus=!0,gx.lang.emptyObject(gx.usrFocusControl)||(gx.O.fromValid=gx.csv.lastId,gx.fn.setFocus(gx.dom.byId(gx.usrFocusControl)),gx.usrFocusControl=""),gx.csv.onloadFocus=!1)},disableCtrl:function(a){var b=function(c){try{for(var d=c.length,f=0;f<d;f++)gx.fn.setCtrlPropertyImpl(c[f],"Enabled",0)}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","disableCtrl")}};a=gx.fn.getControlRef_list(a);if(null!=a)if("complete"==
document.gxReadyState)b(a);else gx.evt.on_ready(this,b.closure(this,[a]))},refreshGridRowBC:function(a,b){try{var c=gx.O.getGridBC(a);if(c){var d=gx.pO.getGridForColl(c.gxvar);if(gx.csv.validatingGrid&&d&&gx.csv.validatingGrid.gridId==d.gridId)return gx.fn.setGridHidden(a,b),b=b[parseInt(gx.fn.currentGridRow(d.gridId))-1],gx.O.bcToScreen(c,b),!0}}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","refreshGridRowBC")}return!1},refreshBC:function(a,b){b=gx.O.applySDTVarMapping(b,a);return this.refreshFormBC(a,b)||
this.refreshGridRowBC(a,b)},refreshFormBC:function(a,b){try{var c=gx.O.getFormBC(a)||gx.O.getFormBCForVar(a);if(c)return gx.setVar(a,b),gx.fn.setGridHidden(a,b),gx.O.bcToScreen(c,b),!0}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","refreshFormBC")}return!1},isHidden:function(a){gx.http.viewStateLoaded||gx.http.loadState();return"undefined"!=typeof gx.http.viewState[a]},GX_HASH_PREFIX:"gxhash_",getHash:function(a,b,c){return gx.fn.getHidden(a+gx.fn.GX_HASH_PREFIX+b+(c?"_"+c:""))||gx.fn.getHidden(a+gx.fn.GX_HASH_PREFIX+
b)},getHidden:function(a){gx.http.viewStateLoaded||gx.http.loadState();return gx.http.viewState[a]},setHidden:function(a,b){gx.http.viewStateLoaded||gx.http.loadState();gx.http.viewState[a]=b},setGridHidden:function(a,b){var c=a,d=gx.fn.oldGridId(a);0<d&&(c=a+"_"+gx.fn.currentGridRowImpl(d));gx.fn.setHidden(c,b)},deleteHidden:function(a){gx.http.viewState&&delete gx.http.viewState[a]},setJsonHiddens:function(a,b,c){var d=[];c=void 0===c||c;for(var f in b){c?gx.fn.setGridHidden(f,b[f]):gx.fn.setHidden(f,
b[f]);var p=gx.fn.getVarControlMap(a,f);var r=b[f];if(!gx.lang.emptyObject(p)){if(a){var k=a.VarControlMap[p];if("date"==k.type||"dtime"==k.type)r=new gx.date.gxdate(b[f],"Y4MD")}gx.setVar(p,r)}gx.fn.vStructForOld(f)&&gx.setVar(f,r);a&&a.UCBindingsHiddens[f]&&(d=d.concat(gx.O.UCBindingsHiddens[f].uc))}return d},filterHiddens:function(a,b){var c={},d;for(d in b)d&&0==d.search(a)&&(c[d]=b[d]);return c},autoRefreshingControl:function(a,b){return!gx.lang.emptyObject(gx.csv.autoRefreshing)&&null!=gx.csv.lastControl&&
gx.csv.lastControl.id==b+a},setJsonValues:function(a,b,c,d,f){if(!a)return[];for(var p=gx.O,r=a.length,k=[],u,x,m=0;m<r;m++){var l=a[m],t=l.CmpContext,z=gx.lang.booleanValue(l.IsMasterPage),G=gx.setGxO(t,z);if(!gx.lang.emptyObject(gx.O))for(var F in l)if("CmpContext"!=F&&"IsMasterPage"!=F&&(!f||f(F))){var C=l[F];if(("object"!=typeof C||!gx.fn.refreshBC(F,l[F]))&&"function"!=typeof C){var w=gx.fn.vStructForVar(F)||gx.O.getValidStructFld(F);w?w.v2v&&!gx.fn.autoRefreshingControl(w.fld,t)&&(x=(x=gx.O.getGridById(w.grid))&&
x.InfiniteScrolling,0!=w.grid&&(u=gx.dom.el(F,!1,!1),u=gx.fn.controlRowId(u)||(w.grid==c?d:gx.fn.currentGridRow(w.grid))),x||(w.v2v(C),w.v2c(u))):"GX_FocusControl"!=F||b?(w=gx.fn.vStructForHC(F),gx.lang.emptyObject(w)||gx.lang.emptyObject(w.hc)||w.grid||(w.hc==F?(G[w.hc]=C,gx.fn.setHidden(t+"GXH_"+w.fld,C)):w.hd==F&&(G[w.hd]=C)),w=gx.fn.vStructForHC(F),gx.lang.emptyObject(w)||(x="",0!=w.grid&&(x=w.grid==c?d:gx.fn.currentGridRow(w.grid)),gx.fn.setHidden(t+"GXHC"+w.fld+"_"+x,C)),w=gx.fn.getVarControlMap(G,
F),gx.lang.emptyObject(w)?gx.setVar(F,C):gx.setVar(w,C),gx.fn.setGridHidden(F,C),gx.O.UCBindings[F]&&(k=k.concat(G.UCBindings[F].uc))):p.CmpContext==t&&p.IsMasterPage==z&&(gx.usrFocusControl=C)}}}gx.setGxO(p);return k},getPropertyControlRef:function(a,b,c){var d=gx.fn.getControlRef(a,!0);d=null!=d||c?d:gx.dom.byId("Object_"+a);null==d&&(d=gx.fn.screen_CtrlRef(gx.csv.ctxControlId(a)));null==d&&b&&(d=gx.dom.el(a+"_"+b));return d},setJsonProperties:function(a,b){if(!a)return[];for(var c=gx.O,d=a.length,
f=[],p=0;p<d;p++){var r=a[p],k=r.CmpContext,u=gx.lang.booleanValue(r.IsMasterPage);k=gx.setGxO(k,u);if(!gx.lang.emptyObject(gx.O))for(var x in r)if("CmpContext"!==x&&"IsMasterPage"!==x&&""!==x&&(u=r[x],"function"!=typeof u)){var m=k.getValidStructFld(x);if("FORM"==x||m||0<=x.indexOf("gxHTMLWrp")||0<=x.indexOf("ContainerDiv")){var l=m&&("bits"==m.type||"bitstr"==m.type||"audio"==m.type||"video"==m.type||"binaryfile"==m.type);l=gx.fn.getPropertyControlRef(x,b,!l)}else l=gx.fn.getPropertyControlRef(x,
b);var t=!1;if(l&&l.gxGridName){var z=gx.fn.gridObjFromGxO(l.gxGridName);t=z.setProperty(u)}if(!t)if(t=k.getGridColumn(x,b),(null==l||z)&&gx.uc.isUserControl(x,k)||t&&t.isUserControl)m=x,t&&t.isUserControl&&(m=x+"_"+b),gx.uc.setProperties(m,u),f.push(gx.uc.getUserControlObj(gx.uc.userControlContainerId(m)));else if(null!=l||null!=t)for(var G in u)if(l)if(l.parentElement||(l=gx.fn.getPropertyControlRef(x,b)),"object"===typeof u[G])for(var F in u[G])gx.fn.setCtrlPropertyImpl(l,F,u[G][F],m);else gx.fn.setCtrlPropertyImpl(l,
G,u[G],m)}}gx.setGxO(c);return f},loadJsonGrids:function(a,b,c){c=c||[];var d=[],f=function(E){for(var J=0;J<E.length;J++)if("string"===typeof E[J])return E[J];return""},p=function(E){var J="",L=E.lastIndexOf("_");-1!==L&&(J=(E=E.substring(L+5))?"_"+E:"");return J},r=function(E,J,L){for(var N=0;N<E.Count;N++){var Q=E[N],T;for(T in Q.Grids)(Q=gx.fn.gridObj(J,T+"_"+gx.text.padl((N+1).toString(),4,"0"),!1))&&Q.isUsercontrol&&L.push({cmpCtx:J,gridName:T+"_"+gx.text.padl((N+1).toString(),4,"0"),inMasterPage:!1})}},
k=[];if(a)for(var u=a.length,x,m=0;m<u;m++)try{var l=a[m];if(void 0!=l.Count){var t=l.CmpContext,z=l.GridName,G=gx.csv.validatingGrid;if(gx.pO.fullAjax||gx.lang.emptyObject(G)||G.gxComponentContext!=t&&G.gridName!=z||!gx.lang.emptyObject(G.boundedCollType)){var F="true"==l.InMasterPage?!0:!1,C="",w="";l[0]&&l[0].Props&&l[0].Props[0]&&gx.lang.isArray(l[0].Props[0])&&(w=f(l[0].Props[0]));C=p(w);if(x=gx.fn.gridObj(t,z+C,F))r(l,t,k),k.push({cmpCtx:t,gridName:z+C,inMasterPage:F}),b?gx.O.Grids[x.gridName]&&
gx.O.Grids[x.gridName].parentGrid||d.push(x.loadGrid({rowProps:l,isPostback:b})):x.updatePropsHidden(l)}}}catch(E){gx.dbg.logEx(E,"gxfrmutl.js","loadJsonGrids")}k=gx.lang.arrayUnique(k,function(E,J){return E.gridName===J.gridName});var B=[];for(m=0;m<k.length;m++)a=k[m],(a=gx.fn.gridObj(a.cmpCtx,a.gridName,a.inMasterPage))&&a.grid&&(a.grid.ownerGrid&&a.grid.ownerGrid.parentGrid?B.push(a.grid):c.push(a.grid));var H=e.Deferred();e.when.apply(e,d).done(function(){gx.dom.indexElements();H.resolve(B)});
return H.promise()},getErrorViewerCtrls:function(){var a=gx.dom.byClass("gx_ev");if(0==a.length){a=[];for(var b=gx.dom.byTag("span"),c=b.length,d=0;d<c;d++)"gxErrorViewer"==b[d].getAttribute("data-gx-id")&&a.push(b[d])}return a},setErrorViewer:function(a,b){b=void 0===b||b;gx.O.AnyError=0;if(a)try{gx.fx.obs.notify("gx.onmessages",[a]);var c=gx.dom.byClass("gx_ev"),d=c.length,f;for(f in a){var p=a[f];if(!gx.lang.isArray(p)){var r=p.fields;p=p.msgs}var k=[];if(r)for(var u=0,x=r.length;u<x;u++)if(!gx.lang.isArray(r[u])){var m=
gx.fn.vStructForVar(r[u].replace(/^gx\.O\./,""));m&&k.push(m.fld)}"MAIN"==f&&(f="");if("undefined"!=typeof p){for(u=0;u<d;u++){var l=c[u];if(l&&l.getAttribute("data-gx-id")==f+"gxErrorViewer"){var t=gx.csv.setFocusOnload?l.innerHTML:"";break}}var z={},G=!1,F;for(F in p){var C=p[F];C&&1==C.type&&(gx.O.AnyError=1);if(!gx.lang.emptyObject(C.text)&&"function"!=typeof C){var w=gx.fn.screen_CtrlRef(C.att),B=w&&e(w).is("[data-gxgridid].gx-invisible "+w.tagName);if(""!=C.att&&(B&&gx.fn.isVisible(w,0)||gx.fn.isVisible(w))){var H=
z[C.att];H||(H=gx.util.balloon.getNew(C.att,void 0,C.id?k:[]),z[C.att]=H);1==C.type?H.setError(C.text):H.setMessage(C.text);G||"ForeignKeyNotFound"!==C.id||(G=!0)}else if("ForeignKeyNotFound"===C.id&&!G||"ForeignKeyNotFound"!==C.id)t+='<div class="'+(1==C.type?"gx-error-message":"gx-warning-message")+'">'+gx.html.encode(C.text)+"</div>"}}G=!1;for(var E in z)if(H=z[E],0!=H.show()||G||(G=!0,gx.fn.setFocusOnError(E)),gx.csv.oneAtAtime)break;for(u=0;u<d;u++)if((l=c[u])&&l.getAttribute("data-gx-id")==
f+"gxErrorViewer"&&l.innerHTML!=t&&(gx.dom.shouldPurge()&&gx.dom.purge(l,!0),l.innerHTML=b?t:l.innerHTML+t,""!=t)){var J=gx.fx.dom.highlight(l,[255,255,165],2500);J.play();l.effect=J}}}gx.plugdesign.applyTemplateObject({templateSelector:function(L){return"errorviewer"===L.name},classMapSelector:function(){return!1}});gx.config.csv.scrollTopOnError&&gx.O.AnyError&&!G&&window.scrollTo(0,0)}catch(L){gx.dbg.logEx(L,"gxfrmutl.js","setErrorViewer")}},cmpContextFromCtrl:function(a){var b=q.exec(a);return b?
b[1]+b[2]:a},clearCompontHiddens:function(a){var b=[],c;for(c in a)"function"!=typeof a[c]&&b.push(gx.fn.cmpContextFromCtrl(c));try{gx.O.deleteComponentHiddens(b)}catch(d){except=!0,gx.dbg.logEx(d,"gxfrmutl.js","clearCompontHiddens")}},setJsonComponents:function(a,b,c,d,f){try{var p=[],r=!1;gx.gen.isDotNet();var k=[],u;for(u in a)if(k.push(u),"function"!=typeof a[u])try{var x=a[u];if(x){var m=gx.dom.byId(u);!m&&b&&(m=gx.dom.byId(b[u]));gx.lang.emptyObject(m)&&(e(document.body).append("<div id='"+
u+"'></div>"),m=gx.dom.byId(u));if(!gx.lang.emptyObject(m)){m.id&&(gx.fx.obs.deleteObserverByKey(m.id),gx.evt.removeHookByKey(m.id));gx.html.setInnerHtml(m,x,!1,f);var l=gx.fn.cmpContextFromCtrl(u),t=g(gx.fn.getHidden(l+"_CMPPGM"));p.push({type:l,name:t,html:x,container:m})}}}catch(z){r=!0,gx.dbg.logEx(z,"gxfrmutl.js","setJsonComponents")}}catch(z){r=!0,gx.dbg.logEx(z,"gxfrmutl.js","setJsonComponents")}0!=p.length&&!r||"function"!=typeof d?(a=e.map(p,function(z){return gx.fn.createComponentAsync(z,
c)}),e.when.apply(e,a).done(function(){d(k)})):d(k)},cmpRegexCache:{},getCmpRegex:function(a){var b=this.cmpRegexCache[a];this.cmpRegexCache[a]||(b=new RegExp("^"+a),this.cmpRegexCache[a]=b);return b},processCodeCallback:function(a,b,c,d,f,p){gx.fn.createComponentObj(a,b,d);gx.fn.setJsonHiddens(f,c);p.resolve()},createComponentAsync:function(a,b){var c=e.Deferred(),d=a.type,f=a.name,p=a.html;a=a.container;c.then(function(){gx.fx.obs.notify("gx.onafterevent",[gx.csv.lastEvtResponse])});try{var r=gx.O,
k=gx.fn.filterHiddens(gx.fn.getCmpRegex(d),b);gx.cache.codeLoaded(d+f)?(gx.fn.createComponentObj(f,d,a),gx.fn.setJsonHiddens(r,k),c.resolve()):(gx.cache.addInlineCode(d+f),gx.html.processCode(p,!1,gx.html.onTypeAvailable,[f,gx.fn.processCodeCallback,[f,d,k,a,r,c],0],f))}catch(u){gx.dbg.logEx(u,"gxfrmutl.js","createComponentAsync"),c.resolve()}return c},createComponentObj:function(a,b,c){a=gx.createComponent(a,b,c);null!=a&&gx.addComponent(a)},cleanAttachedCtrls:function(a){gx.attachedControls=[]},
getAttachedCtrl:function(a){for(var b=gx.attachedControls.length,c=0;c<b;c++){var d=gx.attachedControls[c];if(d.id==a)return d}return null},attachCtrl:function(a,b){null==gx.fn.getAttachedCtrl(a)&&gx.attachedControls.push({id:a,info:b})},doAttachs:function(a){var b=gx.fn.attachedControls(),c=b.length,d=gx.O;a=a&&a.length?e.map(a,gx.fn.cmpContextFromCtrl):void 0;var f,p;for(p=0;p<c;p++){var r=b[p];if(!a||0<=e.inArray(r.info.wc,a)){var k=gx.setGxO(r.info.wc,r.info.mp);if(r.info.isPrompt&&k.isTransaction()&&
"DSP"==k.Gx_mode)gx.fn.setCtrlPropertyImpl(gx.dom.el(r.info.wc+r.info.id),"Visible",!1);else if(!r.attached){k=r.info.controls;var u=k.length;var x=[];for(f=0;f<u;f++){gx.fn.addAttach(k[f],r);var m=gx.fn.validStruct(k[f]);gx.fn.checkAttachedPropertyVS(m,"Visible",!1);gx.fn.checkAttachedPropertyVS(m,"Enabled",!1);x.push(m.fld)}r.attached=!0;e("#"+r.id).attr("data-gx-attached-ctrl",x.join(" "))}}}gx.setGxO(d)},addAttach:function(a,b){a=gx.fn.validStruct(a);void 0==a.attachedCtrls&&(a.attachedCtrls=
[]);a.attachedCtrls.push(b)},checkAttachedProperty:function(a,b,c){gx.fn.checkAttachedPropertyVS(gx.O.getValidStructFld(a),b,c)},checkAttachedPropertyVS:function(a,b,c){if(void 0!=a&&(a=a.attachedCtrls,void 0!=a))for(var d=a.length,f=0;f<d;f++)gx.fn.checkAttachedControlProperty(a[f],b,c)},checkAttachedControlProperty:function(a,b,c){var d=a.info.id;a=a.info;var f=!0,p=a.controls;a=a.wc;for(var r=p.length,k=0;k<r;k++){var u=gx.fn.getCtrlProperty(a+gx.fn.validStruct(p[k]).fld,b);f=c?u==c:f&&u==c;if(c&&
f)break}f&&gx.fn.setCtrlPropertyImpl(gx.dom.el(a+d),b,c)},changeControlOpacity:function(a,b,c,d){var f=Math.round(d),p="";p="string"==typeof a?a:a.id;b>c?(gx.fn.setOpacity(b,p),setTimeout(function(){gx.fn.changeControlOpacity(a,b-10,c,d)},f)):b<c?(gx.fn.setOpacity(b,p),setTimeout(function(){gx.fn.changeControlOpacity(a,b+10,c,d)},f)):gx.fn.setOpacity(c,p)},setOpacity:function(a,b){var c=b;"string"==typeof b&&(c="body"==b?document.body:gx.dom.el(b));null!=c&&(b=c.style,c="reset"==a?"":a/100,b.opacity=
c,b.MozOpacity=c,b.filter="alpha(opacity="+("reset"==a?100:a)+")")},fadeControl:function(a,b,c){"in"==b?gx.fn.changeControlOpacity(a,0,100,c):gx.fn.changeControlOpacity(a,100,0,c)},fadeIn:function(a,b){gx.fn.fadeControl(a,"in",b)},statusMsg:function(a){window.status=a},objectOnload:function(a,b){var c=document.documentElement,d=window.top.document.documentElement;c!=d&&gx.dom.getAttributeNames(d).filter(function(k){return k.startsWith("gx-data-")}).forEach(function(k){return c.setAttribute(k,d.getAttribute(k))});
var f=e(document.body),p="true"===f.attr("data-HasEnter"),r="true"===f.attr("data-Skiponenter");gx.evt.onkeypress_hdlr=gx.evt.onkeypress_hdlr||function(k){gx.evt.onkeypress(k,p,r)};gx.evt.attach(document,["keydown"],gx.evt.onkeypress_hdlr);e(document).on("keyup",function(k){gx.evt.onkeyup(k)});e(document).on("keyup",'input[type="text"], input[type="password"], input[type="email"], input[type="number"], input[type="search"], input[type="url"], textarea',function(k){gx.evt.oncontrolvaluechanging(k)});
e(document).on("paste",'input[type="text"], input[type="password"], input[type="email"], input[type="number"], input[type="search"], input[type="url"], textarea',function(k){gx.evt.oncontrolpasting(k)});null!=gx.pO&&(gx.pO.onload(a,b),gx.setGxO(gx.pO))},objectOnUnload:function(a){if(null!=gx.pO)gx.pO.onunload(a)},objectOnpost:function(){if(null!=gx.pO)gx.pO.onpost()},objectPostback:function(a,b){null!=gx.pO&&(gx.pO.postbackLoad(a,b),gx.fx.obs.notify("gx.onobjectpostback",arguments))},gridObjFromGxO:function(a){return gx.fn.gridObj(gx.O.CmpContext,
a,gx.O.IsMasterPage)},gridObj:function(a,b,c){return(a=gx.getObj(a,c))?a.getGrid(b):null},installComponents:function(a,b){var c=gx.fn.getHidden("GX_CMP_OBJS");if(void 0!=c){gx.gen.isDotNet();for(var d in c)if(a||!gx.pO.getWebComponent(d)){var f=g(c[d].toLowerCase());f=gx.createComponent(f,d);null!=f&&(gx.addComponent(f,b),setTimeout(function(p){this.addComponentRemoteFiles(p)}.closure(this,[f]),1))}}},addComponentRemoteFiles:function(a){if(a=a.getContainer())gx.html.processCode(a.innerHTML,!0),gx.dom.fitToParent(a)},
datePickerFormat:function(a,b,c){var d=gx.dateFormat,f=d.substr(0,1),p=d.substr(1,1);d=d.substr(2,1);f=gx.fn.datePickerDateFormat(f,a);p=gx.fn.datePickerDateFormat(p,a);a=gx.fn.datePickerDateFormat(d,a);d=gx.fn.datePickerTimeFormat(b);return 0<c&&0<b?f+"/"+p+"/"+a+" "+d:0<c?f+"/"+p+"/"+a:d},datePickerDateFormat:function(a,b){return"Y"==a&&"99/99/9999"==b.substr(0,10)?"%Y":"Y"==a?"%y":"M"==a?"%m":"D"==a?"%d":""},datePickerTimeFormat:function(a){var b=gx.timeFormat;if(12==b){b="%I";var c=" %p"}else b=
24==b?"%H":"",c="";if(2==a)a="";else if(5==a)a=":%M";else if(8==a)a=":%M:%S";else return"";return b+a+c},installDatePicker:function(a,b,c,d,f,p,r,k,u,x){(new gx.ui.controls.datePicker({inputId:a,triggerId:a+"_dp_trigger",inline:d,inputType:f?"datetime":"date",weeksNumbers:p,mondayFirst:r,format:k,datePartLength:u,timePartLength:x,afterChange:gx.fn.datePickerChanged,vStruct:b,gxO:c})).render()},datePickerChanged:function(a,b,c,d,f){if(!a||a.dateClicked){f=f||gx.O;if("undefined"===typeof d){var p=gx.fn.controlIds(),
r=p.length;for(i=0;i<r;i++){d=gx.fn.validStruct(p[i]);var k=0!=d.grid?"_"+gx.fn.currentGridRow(d.grid):"";if(c.id==f.CmpContext+d.fld+k)break}}null!=d&&void 0!=d.dp&&(b=gx.date.isNullDate(b)?gx.date.nulldate_toc(d.len,d.dec):b.print(gx.fn.datePickerFormat(d.dp.pic,d.dp.dec,d.len)),b!=c.value&&(c.setAttribute("data-gxvalid","0"),c.value=b,c.onchange(),a&&a.callCloseHandler(),0<d.grid&&(gx.fn.getGridObj(d.grid)||d.gxgrid).setRowModified(gx.fn.currentGridRow(d.grid)),f.refreshDependantGrids(d)))}},toArray:function(a){if(gx.util.browser.isIE()&&
8>=gx.util.browser.ieVersion()){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return Array.prototype.slice.call(a)},evalCtxScope:function(a,b){var c=gx.O;gx.setGxO(a);a=eval(b);a instanceof Object&&(a=gx.json.serializeJson(a));gx.setGxO(c);return a}}}(gx.$);
Function.prototype.closure=function(e,q,g){var h=gx.util.browser;if(h.isIE()&&8>h.ieVersion()){window.__objs||(window.__objs=[],window.__funs=[],window.__args=[]);var a=this,b=e.__objId;b||(__objs[b=e.__objId=__objs.length]=e);var c=a.__funId;c||(__funs[c=a.__funId=__funs.length]=a);q||(q=[]);var d=q.__argsId;d||(__args[d=q.__argsId=__args.length]=q);q=a=e=null;return function(){if(__funs){var f=__args[d];!0===g&&(f=Array.prototype.slice.call(arguments,0),f=f.concat(__args[d]));0==f.length&&0<arguments.length&&
(f=arguments);f=__funs[c].apply(__objs[b],f);if(__objs)try{delete __objs[b].__objId}catch(p){__objs[b].__objId=null}__funs&&delete __funs[c].__funId;__args&&delete __args[d].__argsId;return f}}}a=this;return function(){var f=q||arguments;!0===g&&(f=Array.prototype.slice.call(arguments,0),f=f.concat(q));return a.apply(e||window,f)}};
gx.thread={Map:function(){this.map={};this.add=function(e,q){this.map[e]=q};this.remove=function(e){delete this.map[e]};this.get=function(e){return null==e?null:this.map[e]};this.first=function(){return this.get(this.nextKey())};this.next=function(e){return this.get(this.nextKey(e))};this.nextKey=function(e){for(i in this.map){if(!e)return i;e==i&&(e=null)}return null}},Command:function(e,q,g){gx.thread.Command.LastID||(gx.thread.Command.LastID=0);this.id=++gx.thread.Command.LastID;this.execute=function(){q.apply(e,
g)};this.syncExecute=function(){new gx.thread.Mutex(this,"execute")}},Mutex:function(e,q,g,h){gx.thread.Mutex.Wait||(gx.thread.Mutex.Wait=new gx.thread.Map);gx.thread.Mutex.SLICE=function(a,b){gx.thread.Mutex.Wait.get(a).attempt(gx.thread.Mutex.Wait.get(b))};this.attempt=function(a){for(;a;a=gx.thread.Mutex.Wait.next(a.c.id))if(a.enter||a.number&&(a.number<this.number||a.number==this.number&&a.c.id<this.c.id))return setTimeout("gx.thread.Mutex.SLICE("+this.c.id+","+a.c.id+")",10);try{retVal=this.c.execute()}catch(b){gx.dbg.logEx(b,
"gxfrmutl.js","Mutex Call")}this.number=0;gx.thread.Mutex.Wait.remove(this.c.id);if("function"==typeof h)try{h.call(e,retVal)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","Mutex CallBack")}};this.c=new gx.thread.Command(e,q,g);gx.thread.Mutex.Wait.add(this.c.id,this);this.enter=!0;this.number=(new Date).getTime();this.enter=!1;this.attempt(gx.thread.Mutex.Wait.first())}};gx.INTERACTIVE_EVT="gx.onInteractive";gx.PARENT_OBJECT_EVT="gx.onCreateParentObject";gx.SETMASTERPAGE_EVT="gx.onSetMasterPage";
gx.ONREADY_EVT="gx.onready";gx.ONAFTERLOAD_EVT="onafterload";gx.isInteractive=!1;gx.isReady=!1;gx.getActiveContext=function(){var e=window;gx.popup.getPopup()&&gx.popup.getPopup().frameWindow&&(e=gx.popup.getPopup().frameWindow);return e};gx.isReadyUI_impl=function(e){return 1>e.gx.evt.userReadyCnt&&e.gx.evt.userReadyThresholdWait()&&e.gx.isInputEnabled()&&(e.gx.ajax.isFormEnabled()||null!=gx.popup.getPopup())};gx.isReadyUI=function(){return gx._isReadyUI()};gx._isReadyUI=function(){return gx.isReadyUI_impl(gx.getActiveContext())};
gx.goInteractive=function(){gx.isInteractive=!0;gx.fx.obs.notify(gx.INTERACTIVE_EVT)};gx.goReady=function(e){gx.isReady=!0;gx.fx.obs.notify(gx.ONREADY_EVT,[],e)};gx.goOnload=function(){gx.isLoaded=!0;gx.fx.obs.notify(gx.ONAFTERLOAD_EVT)};gx.observe_run=function(e,q,g,h){g[h]=function(a,b,c){c=c||[];e()?a.apply(b,c):gx.fx.obs.addObserver(q,b,a.closure(b,c),{single:!0})}};gx.observe_run(function(){return gx.isLoaded},gx.ONAFTERLOAD_EVT,gx,"ol");
gx.observe_run(function(){return gx.isReady},gx.ONREADY_EVT,gx,"wr");gx.observe_run(function(){return gx.pO&&gx.pO.MasterPage},gx.SETMASTERPAGE_EVT,gx,"wmp");gx.observe_run(function(){return gx.isInteractive},gx.INTERACTIVE_EVT,gx,"wi");gx.observe_run(function(){return gx.pO},gx.PARENT_OBJECT_EVT,gx,"wpo");gx.isabsoluteurl=function(e){return-1!==e.search("://")};gx.isRelativeToHost=function(e){return"/"==e.substr(0,1)};
gx.absoluteurl=function(e){return gx.isabsoluteurl(e)?e:"/"!==e.charAt(0)?gx.util.resourceUrl(e,!0):location.protocol+"//"+location.host+e};gx.timeoutActions={ignore:0,warn:1};
gx.uc=function(e){var q=/^_gx_image_resource_/,g=function(h){if("string"===typeof h)return gx.util.imageUrl(h);Array.isArray(h)&&(h=h.map(function(d){return g(d)}));if("object"===typeof h)for(var a=$jscomp.makeIterator(Object.entries(h)),b=a.next();!b.done;b=a.next()){var c=$jscomp.makeIterator(b.value);b=c.next().value;c=c.next().value;h[b]=g(c)}return h};return{PostRenderScripts:{},gxCssClass:"gx_usercontrol",getNew:function(h,a,b,c,d,f,p,r,k,u){try{var x=eval(c);gx.lang.inherits(x,gx.uc.UserControl,
!0);var m=new x(e)}catch(l){gx.dbg.logEx(l,"gxfrmutl.js","getNew UserControl "+c),m=new gx.uc.UserControl}m.ContainerName=d;m.DesignContainerName=d;m.LabelForAttValue=h.CmpContext+f.toUpperCase()+(k?"_"+u:"");m.setupControl(h,f,p,a,b,r,k,u);return m},fromChild:function(h){var a=gx.pO.getUsercontrolFromChild(h);if(null!=a||gx.pO.hasMasterPage()&&(a=gx.pO.MasterPage.getUsercontrolFromChild(h),null!=a))return a;for(var b=gx.pO.WebComponents.length,c=0;c<b;c++)if(a=gx.pO.WebComponents[c].getUsercontrolFromChild(h),
null!=a)return a;return null},getUserControlObj:function(h){var a=gx.O.getUserControl(h);if(gx.lang.emptyObject(a)){if(gx.pO.hasMasterPage()&&(a=gx.pO.MasterPage.getUserControl(h),!gx.lang.emptyObject(a)))return a;for(var b=gx.pO.WebComponents.length,c=0;c<b&&(a=gx.pO.WebComponents[c].getUserControl(h),gx.lang.emptyObject(a));c++);}return a},CtrlId:function(h){return h.replace(/Container$/,"")},userControlContainerId:function(h){var a=h+"Container";if(0<=h.indexOf("ContainerDiv"))return h;var b=gx.O.getValidStructFld(h);
b&&b.uc&&(a=b.uc.ContainerName);return a&&(b=h.lastIndexOf("_"),-1!=b&&(h=a+h.substring(b),null!=gx.dom.byId(h)))?h:a},setProperties:function(h,a){h=gx.uc.getUserControlObj(gx.uc.userControlContainerId(h));if(null!=h)if(void 0!=a.length)for(var b=a.length,c=0;c<b;c++)for(var d in a[c]){var f=a[c][d];h[d]=f}else for(d in a)f=a[d],h[d]=f},isUserControl:function(h,a){a=a||gx.O;return gx.lang.emptyObj(a.UserControls)?!1:h instanceof gx.uc.UserControl?!0:(h=gx.dom.byId(gx.uc.userControlContainerId(h)))&&
"DIV"===h.tagName&&gx.dom.hasClass(h,gx.uc.gxCssClass)?!0:!1},StartRender:function(){PostRenderScripts={}},pushPostRenderScripts:function(h){e.each(h&&h.Scripts||[],function(a,b){PostRenderScripts[b]=b})},EndRender:function(){var h=gx.lang.objToArray(PostRenderScripts);h=e.map(h,function(a){return gx.util.resourceUrl(gx.util.resolveUrl(a),!1)});gx.http.loadScripts(h,gx.emptyFn,0,!0)},isImageResourcePty:function(h){return gx.text.startsWith(h,"_gx_image_resource_")},getComputedImagePath:function(h){try{var a=
getComputedStyle(document.documentElement).getPropertyValue("--GX-Image_"+h)||"";if(a=a.replaceAll("\\","").replace(/\s*url\((.+?)\)/,"$1"))gx.uc.UserControl.theme_el=gx.uc.UserControl.theme_el||gx.getThemeElement(),a=(new URL(a,gx.uc.UserControl.theme_el.href.toString())).toString()}catch(b){}return a},getClientProperty:function(h,a){var b=a,c=h;gx.uc.isImageResourcePty(h)&&(c=h.replace(q,""),b=gx.uc.getComputedImagePath(a));return{name:c,value:b}},UserControl:function(){this.ParentObject=null;this.GridRow=
this.GridId="";this.ControlLvl=this.ControlId=0;this.ControlName=this.ContainerName="";this.LastIdBefore=0;this.Properties=[];this.DynProperties=[];this.PropTypes=[];this.ValidFunctions=[];this.V2CFunctions=[];this.C2VFunctions=[];this.IsPostBack=this.RealControl=this.C2ShowFunction=null;this.clearFunctions=function(){this.ValidFunctions=[];this.V2CFunctions=[];this.C2VFunctions=[];this.C2ShowFunction=null};this.me=function(){return"gx.getObj('"+this.ParentObject.CmpContext+"', "+this.ParentObject.IsMasterPage.toString()+
").getUserControl('"+this.ContainerName+"')"};this.getChildContainer=function(h){var a=""!=this.GridRow?"_"+this.GridRow:"",b=this.DesignContainerName+this.ControlName+"_"+h+a;b=gx.dom.byId(b);b||(b=this.DesignContainerName+h+a,b=gx.dom.byId(b));return b};this.getContainerControl=function(){return gx.dom.byId(this.ContainerName)};this.getRealControl=function(){return this.RealControl?this.RealControl:this.getContainerControl()};this.setupControl=function(h,a,b,c,d,f,p,r){this.ParentObject=h;this.ControlName=
a;this.ControlId=c;this.LastIdBefore=d;this.ControlLvl=void 0!=f?f:0;this.GridId=void 0!=p?p:0;this.GridRow=void 0!=r?r:"";gx.util.pushOnceSorted(this.ControlId,this.ParentObject.GXCtrlIds);var k=r||"_norow",u=this.ParentObject.GXValidFnc[this.ControlId];u||(this.ParentObject.GXValidFnc[this.ControlId]={id:this.ControlId,lvl:this.ControlLvl,fld:b,grid:this.GridId,op:[],ip:[],isuc:!0,uc:this,fnc:this.validateControl},u=this.ParentObject.GXValidFnc[this.ControlId]);u=this.ParentObject.GXValidFnc[this.ControlId];
u.ucInstances=u.ucInstances||{};u.ucInstances[k]=this;u.getUCInstance=function(x){x=x||k;return u.ucInstances[x]}};this.addValidFunction=function(h,a,b){this.ValidFunctions.push(h);this.ParentObject.addUsercontrolBinding(a,b+(""==this.GridRow?"":"_"+this.GridRow),this)};this.validateControl=function(){gx.csv.validatingUC=this;for(var h=this.ValidFunctions.length,a,b=0;b<h;b++)if((a=this.ValidFunctions[b])&&!a.call(gx.O))return gx.O.AnyError=1,gx.csv.validatingUC=null,!1;gx.csv.validatingUC=null;return!0};
this.attachEvents=function(){try{var h=this.getContainerControl();if(gx.lang.emptyObject(document.frames))h.onfocus=this.onfocus,this.RealControl=h;else{var a=document.frames.length;if(0<a){var b=0;for(b=0;b<a;b++){var c=document.frames[b];if(1==gx.dom.isChildNode(c,h)){c.frameElement.onfocus=this.onfocus;this.RealControl=c.frameElement;break}}}}}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","attachEvents")}};this.onfocus=function(){gx.evt.onfocus(this.getRealControl(),this.ControlId,this.ParentObject.CmpContext,
this.ParentObject.IsMasterPage,this.GridRow,this.GridId);gx.csv.lastId=this.ControlId;gx.csv.anyError||this.setFocusBase()};this.oninput=function(){this.autoRefreshFn&&this.autoRefreshFn()};this.onchange=function(){0<this.GridId&&gx.fn.getGridObj(this.GridId).setRowModified(gx.fn.currentGridRow(this.GridId))};this.setFocusBase=function(){"function"==typeof this.setFocus&&this.setFocus()};this.setHtml=function(h){gx.dom.shouldPurge()&&gx.dom.purge(this.getContainerControl(),!0);this.getContainerControl().innerHTML=
h};this.createWebComponent=function(h,a,b,c,d){this.ParentObject.createWebComponent(h,a,b,this.GridRow,c,d)};this.deleteWebComponent=function(h){h=gx.fn.cmpContextFromCtrl(h);this.ParentObject.deleteComponent(h)};this.notifyContext=function(h,a){gx.fx.ctx.notify(null,h,a)};this.addV2CFunction=function(h,a,b,c){if("function"==typeof h){var d=a;this.V2CFunctions.push(h);var f=gx.fn.getVarControlMap(this.ParentObject,d);void 0!==f&&this.ParentObject.addUsercontrolBinding(f,d,this)}else f=h,d=a,this.ParentObject.addUsercontrolBinding(f,
d,this),this.V2CFunctions.push(function(p,r,k){var u=d;k&&(r&&(u=d+"_"+r),c?p.ParentObject[f][c]=gx.fn.getControlValue(u)[c]:p.ParentObject[f]=gx.fn.getControlValue(u));r=c?p.ParentObject[f][c]:p.ParentObject[f];p.useGxDateForBindings&&(k=gx.fn.getVarControlMapForVar(f),"date"!==k.type&&"dtime"!==k.type||"string"!==typeof r||(r=p.IsPostBack?new gx.date.gxdate(r):new gx.date.gxdate(r,"Y4MD")));p[b](g(r))})};this.addC2VFunction=function(h){this.C2VFunctions.push(h)};this.setC2ShowFunction=function(h){this.C2ShowFunction=
h};this.execV2CFunctions=function(h){var a=gx.csv.cmpCtx;gx.csv.cmpCtx=this.ParentObject.CmpContext;var b,c=this.V2CFunctions,d=c.length;for(b=0;b<d;b++)try{c[b](this,this.GridRow,h)}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","execV2CFunctions")}gx.csv.cmpCtx=a};this.execC2VFunctions=function(){var h=gx.csv.cmpCtx;gx.csv.cmpCtx=this.ParentObject.CmpContext;var a,b=this.C2VFunctions,c=b.length;for(a=0;a<c;a++)try{b[a](this,this.GridRow)}catch(d){gx.dbg.logEx(d,"gxfrmutl.js","execC2VFunctions")}gx.csv.cmpCtx=
h};this.sdtV2c=function(h,a,b,c,d){if(null!==a){if(a=parseInt(a,10)-1,void 0!==this.ParentObject[h][a])this[d](this.ParentObject[h][a][b])}else this.ParentObject[h]=gx.fn.getControlValue(c,null,this.ParentObject),this[d](this.ParentObject[h][b])};this.sdtC2v=function(h,a,b,c,d){null!==a?(a=parseInt(a,10)-1,this.ParentObject[h][a][b]=this[d]()):this.ParentObject[h][b]=this[d]();gx.fn.setControlValue(c,this.ParentObject[h])};this.execShowFunction=function(){!1===this.IsPostBack&&(this.IsPostBack=!0);
null===this.IsPostBack&&(this.IsPostBack=!1);var h=this.getContainerControl();try{null!=this.C2ShowFunction&&h&&this.C2ShowFunction(this)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","execShowFunction")}if(h){if(this.autoToggleVisibility){var a=e(h).add("label[for='"+this.LabelForAttValue+"']");gx.lang.gxBoolean(this.Visible)?a.show():a.hide()}gx.plugdesign.applyTemplateObject({selector:"#"+h.id,templateSelector:function(b){return!0===b.onDemandInvoke}})}gx.uc.pushPostRenderScripts(this)};this.updateAndShow=
function(h){try{this.execV2CFunctions(h)}catch(a){gx.dbg.logEx(a,"gxfrmutl.js","updateAndShow")}h&&this.execShowFunction()};this.getEventRow=function(){return this.GridRow};this.isServerEvent=function(h){var a=this.ParentObject,b=a.IsMasterPage?"_MPAGE":"";h=this.ControlName.toUpperCase()+b+"."+h.toUpperCase()+b;if(h=a.getClientEventName(h))return a.isServerEvent(h);gx.dbg.logDebug("Client event name couldn't be resolved.");return!1};this.eventHandler=function(h,a,b){gx.evt.setReady(!1,"eventHandler");
var c=gx.O;gx.setGxO(this.ParentObject);if(0<h){var d=this.DesignContainerName,f=(new RegExp("^(?:"+this.ParentObject.CmpContext+")?(.+)$")).exec(this.DesignContainerName);f&&f[1]&&(d=f[1]);this.ParentObject[d]=this;(h=this.ParentObject.getGridById(h))&&h.instanciateRow(a)}this.execC2VFunctions();b.call(this.ParentObject,this.getEventRow()).always(function(p){gx.setGxO(p);gx.evt.setReady(!0,"eventHandler")}.closure(this,[c]));gx.csv.instanciatedRowGrid=null};this.addEventHandler=function(h,a){this[h]=
function(b){var c=this.isServerEvent(h);c&&"function"===typeof b&&gx.fx.obs.addObserver("gx.onafterevent",this,b,{single:!0});this.eventHandler(this.GridId,this.GridRow,a);c||"function"!==typeof b||b.call(this)}.closure(this)};this.addProperty=function(h,a){this.Properties[h]=a};this.setProp=function(h,a,b,c){this.addProperty(h,a);this.PropTypes[h]=c;gx.lang.isBooleanType(c)?this[h]=gx.lang.gxBoolean(b):"color"==c?gx.lang.emptyObject(b)||(this[h]="number"==typeof b||"string"==typeof b?gx.color.html(b):
b):gx.lang.isNumericType(c)?gx.lang.emptyObject(b)||(this[h]=gx.num.parseFloat(b)):this[h]=b};this.setDynProp=function(h,a,b,c,d){this.addProperty(h,a);this.DynProperties.push(h);this.PropTypes[h]=c;var f=function(){var p=this.getDynPropertyValueFromHidden(h,a);void 0===p&&(p=b);this.setProp(h,a,p,c)};d?f.call(this):this.ParentObject.CmpContext?gx.fx.obs.addObserver("webcom.render",this,function(p){p===this.ParentObject&&f.call(this)}):gx.wr(f,this)};this.refreshDynProperties=function(){for(var h=
0,a=this.DynProperties.length;h<a;h++){var b=this.DynProperties[h];this[b]=this.getDynPropertyValueFromHidden(b,this.Properties[b])}};this.getDynPropertyValueFromHidden=function(h,a){var b=gx.fn.getHidden(this.getHiddenName("_gx_image_resource_"+a))||gx.fn.getHidden(this.getHiddenName("_gx_image_resource_"+a.toLowerCase()));if(b)try{b=gx.uc.getClientProperty("_gx_image_resource_"+h,b).value}catch(c){b=""}else b=gx.fn.getHidden(this.getHiddenName(a)),void 0===b&&(b=gx.fn.getHidden(this.getHiddenName(h)));
return b};this.setGridProperties=function(){for(var h,a=this.ParentObject.getGridUCProperties(this.ControlName),b=a.length,c=0;c<b;c++){var d=a[c],f=d.v;h=this.getHiddenName(d.h);h=gx.fn.getHidden(h);if(void 0===f||void 0!==h)f=h,"color"==d.t&&(f=gx.color.html(f));this.setProp(d.p,d.h,f,d.t)}};this.setGridEventHandlers=function(){for(var h=this.ParentObject.getGridUCEventHandlers(this.ControlName),a=h.length,b=0;b<a;b++){var c=h[b];this.addEventHandler(c.e,c.h)}};this.getHiddenName=function(h){var a=
"",b=this.ControlName.toUpperCase();""!=this.GridRow&&(a="_"+this.GridRow,this.ownerGrid&&(b=this.ownerGrid.realGridName.toUpperCase()));return this.ParentObject.CmpContext+b+(this.ParentObject.IsMasterPage?"_MPAGE":"")+"_"+h+a};this.saveProperties=function(){for(var h in this.Properties)if(this.hasOwnProperty(h)){var a=this[h];"function"!=typeof this.Properties[h]&&("undefined"!=typeof a&&"undefined"!=typeof a.R&&"undefined"!=typeof a.G&&"undefined"!=typeof a.B&&(a=gx.color.rgb(a.R,a.G,a.B)),gx.lang.isBooleanType(this.PropTypes[h])&&
(a=a?1:0),gx.fn.setHidden(this.getHiddenName(this.Properties[h]),a))}}}}}(gx.$);gx._init();window.$?gx.dbg.write("Warning: Using custom $ version."):(window.$=gx.$,gx.dbg.write("Using jquery from GX distr."));window.$.fn&&window.$.fn.jquery?gx.dbg.write("global $ is jquery"+window.$.fn.jquery):gx.dbg.write("Warning: $ is not a jQuery object instance");
(function(e,q,g){function h(){return"function"!==typeof q.createElement?q.createElement(arguments[0]):z?q.createElementNS.call(q,"http://www.w3.org/2000/svg",arguments[0]):q.createElement.apply(q,arguments)}function a(B){return B.replace(/([a-z])-([a-z])/g,function(H,E,J){return E+J.toUpperCase()}).replace(/^-/,"")}function b(B,H){return function(){return B.apply(H,arguments)}}function c(B){return B.replace(/([A-Z])/g,function(H,E){return"-"+E.toLowerCase()}).replace(/^ms-/,"-ms-")}function d(B,H,
E,J){var L=h("div");var N=q.body;N||(N=h(z?"svg":"body"),N.fake=!0);if(parseInt(E,10))for(;E--;){var Q=h("div");Q.id=J?J[E]:"modernizr"+(E+1);L.appendChild(Q)}E=h("style");E.type="text/css";E.id="smodernizr";(N.fake?N:L).appendChild(E);N.appendChild(L);E.styleSheet?E.styleSheet.cssText=B:E.appendChild(q.createTextNode(B));L.id="modernizr";if(N.fake){N.style.background="";N.style.overflow="hidden";var T=t.style.overflow;t.style.overflow="hidden";t.appendChild(N)}B=H(L,B);N.fake?(N.parentNode.removeChild(N),
t.style.overflow=T):L.parentNode.removeChild(L);return!!B}function f(B,H){var E=B.length;if("CSS"in e&&"supports"in e.CSS){for(;E--;)if(e.CSS.supports(c(B[E]),H))return!0;return!1}if("CSSSupportsRule"in e){for(var J=[];E--;)J.push("("+c(B[E])+":"+H+")");J=J.join(" or ");return d("@supports ("+J+") { #modernizr { position: absolute; } }",function(L){if("getComputedStyle"in e){L=getComputedStyle.call(e,L,null);var N=e.console;null!==L?L=L.getPropertyValue("position"):N&&N[N.error?"error":"log"].call(N,
"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else L=L.currentStyle&&L.currentStyle.position;return"absolute"==L})}return g}function p(B,H,E,J){function L(){Q&&(delete w.style,delete w.modElem)}J="undefined"===typeof J?!1:J;if("undefined"!==typeof E){var N=f(B,E);if("undefined"!==typeof N)return N}for(N=["modernizr","tspan","samp"];!w.style&&N.length;){var Q=!0;w.modElem=h(N.shift());w.style=w.modElem.style}var T=B.length;for(N=0;N<T;N++){var U=B[N];var da=
w.style[U];~(""+U).indexOf("-")&&(U=a(U));if(w.style[U]!==g){if(J||"undefined"===typeof E)return L(),"pfx"==H?U:!0;try{w.style[U]=E}catch(V){}if(w.style[U]!=da)return L(),"pfx"==H?U:!0}}L();return!1}function r(B,H,E,J,L){var N=B.charAt(0).toUpperCase()+B.slice(1),Q=(B+" "+F.join(N+" ")+N).split(" ");if("string"===typeof H||"undefined"===typeof H)return p(Q,H,J,L);Q=(B+" "+G.join(N+" ")+N).split(" ");a:{B=Q;for(var T in B)if(B[T]in H){if(!1===E){H=B[T];break a}T=H[B[T]];if("function"===typeof T){H=
b(T,E||H);break a}H=T;break a}H=!1}return H}function k(B,H,E){return r(B,g,g,H,E)}var u=[],x=[],m={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(B,H){var E=this;setTimeout(function(){H(E[B])},0)},addTest:function(B,H,E){x.push({name:B,fn:H,options:E})},addAsyncTest:function(B){x.push({name:null,fn:B})}},l=function(){};l.prototype=m;l=new l;l.addTest("history",function(){var B=navigator.userAgent;return-1===B.indexOf("Android 2.")&&-1===
B.indexOf("Android 4.0")||-1===B.indexOf("Mobile Safari")||-1!==B.indexOf("Chrome")||-1!==B.indexOf("Windows Phone")||"file:"===location.protocol?e.history&&"pushState"in e.history:!1});var t=q.documentElement,z="svg"===t.nodeName.toLowerCase(),G=m._config.usePrefixes?["moz","o","ms","webkit"]:[];m._domPrefixes=G;var F=m._config.usePrefixes?["Moz","O","ms","Webkit"]:[];m._cssomPrefixes=F;var C={elem:h("modernizr")};l._q.push(function(){delete C.elem});var w={style:C.elem.style};l._q.unshift(function(){delete w.style});
m.testProp=function(B,H,E){return p([B],g,H,E)};m.testAllProps=r;m.testAllProps=k;l.addTest("flexbox",k("flexBasis","1px",!0));l.addTest("csstransitions",k("transition","all",!0));(function(){var B,H;for(H in x)if(x.hasOwnProperty(H)){var E=[];var J=x[H];if(J.name&&(E.push(J.name.toLowerCase()),J.options&&J.options.aliases&&J.options.aliases.length))for(B=0;B<J.options.aliases.length;B++)E.push(J.options.aliases[B].toLowerCase());J="function"===typeof J.fn?J.fn():J.fn;for(B=0;B<E.length;B++){var L=
E[B];L=L.split(".");1===L.length?l[L[0]]=J:(!l[L[0]]||l[L[0]]instanceof Boolean||(l[L[0]]=new Boolean(l[L[0]])),l[L[0]][L[1]]=J);u.push((J?"":"no-")+L.join("-"))}}})();(function(B){var H=t.className,E=l._config.classPrefix||"";z&&(H=H.baseVal);l._config.enableJSClass&&(H=H.replace(new RegExp("(^|\\s)"+E+"no-js(\\s|$)"),"$1"+E+"js$2"));l._config.enableClasses&&(H+=" "+E+B.join(" "+E),z?t.className.baseVal=H:t.className=H)})(u);delete m.addTest;delete m.addAsyncTest;for(m=0;m<l._q.length;m++)l._q[m]();
e.Modernizr=l})(window,document);
gx.spa=function(e){var q=/<head[^>]*>([\s\S]*?)<\/head>/i,g=/(<body[^>]*>[\s\S]*?<\/body>)/i,h=/<title[^>]*>([\s\S]*?)<\/title>/i,a=/#.*/,b=/#/,c=!1,d=!1,f=window.location.href,p=!0,r={},k,u;"state"in window.history&&(p=!1);gx.wpo(function(){gx.pO.fullAjax&&(gx.cache.exceptionsRegEx=/messages\..+\.js/)},this);var x=function(){c||d||this.notify("onnavigatecomplete")};return{timeout:-1,setTimeout:function(m){this.timeout=m},isSameApp:function(m,l){var t=m.port===l.port;t=(t=t||""===m.port&&"http:"===
m.protocol&&"80"===l.port)||""===m.port&&"https:"===m.protocol&&"443"===l.port;return m.protocol===l.protocol&&m.hostname===l.hostname&&t},handleClick:function(m){var l=this.getTarget(m),t;if(l&&"A"===l.tagName.toUpperCase()&&null!==l.getAttribute("href")&&void 0!==l.getAttribute("href")&&!(l.target&&("_blank"==l.target||"_parent"==l.target&&window.parent!=window||"_top"==l.target&&window.top!=window||"_"!=l.target.substr(0,1)&&window.name!=l.target)||1<m.which||m.metaKey||m.ctrlKey)){var z=this.parseUrl(l.href);
if(this.isSameApp(location,z)){var G="/"==z.pathname.charAt(0)?z.pathname:"/"+z.pathname;if(location.pathname.substring(0,location.pathname.lastIndexOf("/"))===G.substring(0,G.lastIndexOf("/"))&&!(0<=z.href.search(b)&&z.href.replace(a,"")===location.href.replace(a,""))&&""!==l.getAttribute("href")&&0!==l.href.indexOf("javascript:"))if(this.ignoreClick)this.ignoreClick=!1;else{z=e(l);for(t in r)if(r.hasOwnProperty(t)&&z.is(t))return;this.navigate({url:l.href,push:!0,scrollTo:!0,direction:"forward"});
m.preventDefault()}}}},redirect:function(m,l){delete gx.referrer;l=void 0===l||l;var t=this.parseUrl(m),z="/"==t.pathname.charAt(0)?t.pathname:"/"+t.pathname;this.isSameApp(location,t)?location.pathname.substring(0,location.pathname.lastIndexOf("/"))!==z.substring(0,z.lastIndexOf("/"))?window.location=m:(gx.referrer=location.href,this.navigate({url:m,push:l,scrollTo:!0,direction:"forward"})):window.location=m},setLocation:function(m){this.setStopNavigating(m);window.location=m},canNavigate:function(){return!c&&
!d},isNavigating:function(){return!this.canNavigate()},isNavigatingRaw:function(){return c},cancelNavigating:function(){c=!1},setStopNavigating:function(m){c=!1;this.notify("onnavigate",[m])},navigate:function(m){var l,t,z=m.url,G=!1;this.canNavigate()?(c=!0,this.notify("onbeforenavigate",[z]),(t=this.request)&&4>t.readyState&&(t.onreadystatechange=gx.emptyFn,gx.dbg.logMsg("Request cancelled as data ir already being retrieved: "+t.readyState),t.abort()),this.request=t=gx.http.doCall({method:"GET",
url:z,handler:function(F,C,w){F=w.getResponseHeader("X-SPA-REDIRECT-URL");var B=w.getResponseHeader("X-GXOBJECT");G||(l&&clearTimeout(l),530==w.status?this.setLocation(z):F?(this.setStopNavigating(F),setTimeout(gx.spa.redirect.closure(gx.spa,[F]),100)):(m.push&&0<t.readyState&&B&&(this.updateState(),this.state=this.createState(m),window.history.pushState(null,"",t.responseURL||z)),this.processResponse.call(this,C,w,m)))},beforeSend:function(F){this.notify("onbeforesend",[this.createEvent(F,z),"X-SPA-REQUEST",
"X-SPA-MP"]);0<this.timeout&&(l=setTimeout(this.timeoutHandler.closure(this,[F,z]),this.timeout));F.setRequestHeader("X-SPA-REQUEST","1")},offline:function(){l&&clearTimeout(l);G=!0;c=!1},error:function(F){F=this.createEvent(F,z);F.cancel=!0;this.notify("onerror",[F]);F.cancel&&this.setLocation(z)},ajaxHeader:!1,avoidCache:!1,handleAllStatusCodes:!0,obj:this}),this.notify("onnavigatestart",[z])):this.setLocation(z)},processResponse:function(m,l,t){try{var z=t.url;var G=this.parseUrl(z).hash,F=t.direction,
C=l.status,w=l.getResponseHeader("X-GXOBJECT"),B=l.getResponseHeader("X-SPA-RETURN"),H=l.getResponseHeader("X-SPA-RETURN-MD"),E=this.createEvent(l,z),J=gx.pO.MasterPage,L=gx.pO.MasterPage?gx.pO.MasterPage.ServerClass:"",N=l.getResponseHeader("X-SPA-MP")||"",Q=!(""===L||L.toLowerCase()!=N.toLowerCase()),T=this.getContentPlaceholder();if(null!==B)gx.fn.closeWindowServerScript(B,H,!0);else if(500===C)window.history.pushState(null,"",z),this.cancelNavigating(),gx.dom.writeError(l.responseText,gx.getMessage("GXM_runtimeappsrv"),
C);else if(w){this.notify("onbeforeprocessresponse",[E,m,w,L,N,Q]);var U=this.extractContents(l,!Q),da=Q?T.firstChild:document.body,V=U.body;U.body?(this.state=this.createState(t),t.push&&window.history.replaceState(this.state,"",l.responseURL||z),U.title&&(document.title=U.title),this.notify("onbeforecontentreplace",[l,z,U]),gx.cache.removeRemoteFile(gx.getThemeElement().href),gx.dom.replaceWithFx(da,V,{domRemove:!1,domAdd:Q,enteringClass:"forward"==F?"entering":"leaving",leavingClass:"forward"==
F?"leaving":"entering",enterDurationClass:"forward"==F?"enter-fx-duration":"leave-fx-duration",leaveDurationClass:"forward"==F?"leave-fx-duration":"enter-fx-duration",transitionTimeout:800,transitionEndCallback:function(){V=this.replaceContentCallback(l,z,G,m,T,U,da,V,t,w,J,L,N,Q);Q||gx.html.processCode(U.rawHtml||U.head.innerHTML+U.body.innerHTML,!1,this.processCodeCallback.closure(this,[l,z,G,m,T,U,da,V,t,w,J,L,N,Q]),null,null,!1,!0);d=!1;this.notify("ontransitionend",[E,J,L,N,Q]);this.recoverScrollPosition(t);
return V}.closure(this),beforeTransitionStart:function(ba){d=!0;if(Q)return gx.html.processCode(m,!1,function(){ba&&ba();this.processCodeCallback(l,z,G,m,T,U,da,V,t,w,J,L,N,Q)}.closure(this),null,null,!1),!0}.closure(this)})):this.setLocation(z)}else this.setLocation(z)}catch(ba){gx.dbg.logEx(ba,"gxspa.js","processResponse"),this.setLocation(z)}},replaceContentCallback:function(m,l,t,z,G,F,C,w,B,H,E,J,L,N){if(N)C.parentNode&&(this.dettachContent(C),C.parentNode.removeChild(C));else{if(gx.util.browser.isWebkit()||
gx.util.browser.isFirefox()){this.dettachContent(document.body);e(document.body).remove();var Q=document.createElement("body");m=e(w).prop("attributes");e.each(m,function(){e(Q).attr(this.name,this.value)});document.documentElement.appendChild(Q);Q.innerHTML=w.innerHTML;w=Q}else document.body=w,w=document.body;document.head=F.head}return w},processCodeCallback:function(m,l,t,z,G,F,C,w,B,H,E,J,L,N){m=this.createEvent(m,l);try{this.notify("oncontentreplace",[m,z,F,H,E,J,L,N])}catch(Q){gx.dbg.logEx(Q,
"gxspa.js","processCodeCallback"),this.setLocation(l)}z=!0;B.scrollTo&&(window.scrollTo(0,0),z=!1);B.push&&window._gaq&&_gaq.push(["_trackPageview"]);B.push&&window.ga&&window.ga("send","pageview",location.pathname);""!==t&&(F=this.parseUrl(l),F.hash=t,window.history.replaceState(this.state,"",F.href),t=gx.dom.el(F.hash))&&(t.scrollIntoView(!0),z=!1);this.setStopNavigating(l);z&&this.recoverScrollPosition(B)},timeoutHandler:function(m,l){var t=this.createEvent(m,l);t.cancel=!0;this.notify("ontimeout",
[t]);t.cancel&&(m.abort(),gx.dbg.logMsg("Request cancelled - timeout expired: "+m.readyState),this.setLocation(l))},getContentPlaceholder:function(){return gx.dom.byClass("gx-content-placeholder")[0]},extractContents:function(m,l){var t=document.createElement("div"),z={},G,F;if(l){t=document.createElement("iframe");t.src="about:blank";t.style.display="none";document.body.appendChild(t);l=m.responseText.match(q);1<l.length&&(G=l[1]);l=m.responseText.match(g);0<l.length&&(F=l[0]);l=m.responseText.match(h);
1<l.length&&(z.title=l[1]);t.contentDocument&&null==t.contentDocument.body&&t.contentDocument.write("<body></body>");t.contentDocument.body.outerHTML=F;var C=t.contentDocument.head;C.innerHTML=G;e("head script").each(function(w,B){e(C).find("script").each(function(H,E){null===B.getAttribute("data-gx-external-script")?B.src==E.src&&C.removeChild(E):e(B).remove()})});z.body=t.contentDocument.body;z.head=C;z.rawHtml=C.innerHTML+F}else{gx.html.setInnerHtml(t,m.responseText,!1,!1,!1);m=gx.dom.byClass("gx-content-placeholder",
"div",t);if(0===m.length)return z;z.body=m[0].firstChild;m=gx.dom.byTag("title",t);0<m.length&&(z.title=m[0].innerText||m[0].textContent)}return z},handlePopState:function(m){if(m.state){m=m.state;this.getContentPlaceholder();if(m&&"gx-spa"==m.source){if(p&&f==m.url||this.state.url===m.url)return;this.navigate({id:m.id,url:m.url,push:!1,scrollPosition:m.scrollPosition,direction:this.state.id<m.id?"forward":"back"})}gx.popup.ispopup()&&gx.fn.cancelWindow()}},parseUrl:function(m){var l=document.createElement("a");
l.href=m;return l},createEvent:function(m,l){return{req:m,url:l,cancel:!1}},addIgnoredSelector:function(m){r[m]=!0},removeIgnoredSelector:function(m){delete r[m]},recoverScrollPosition:function(m){var l=m.scrollPosition;this.canNavigate()&&!m.scrollTo&&l&&window.scrollTo(l.x,l.y)},dettachContent:function(m){var l=gx.dom.getActiveElement();l&&e.contains(m,l)&&gx.dom.purgeElement(l)},updateState:function(){var m=this.state;m.url=location.href;m.scrollPosition={x:window.scrollX,y:window.scrollY};window.history.replaceState(m,
"",m.url)},createState:function(m){m=m||{};return{id:m.id||(new Date).getTime(),source:"gx-spa",url:m.url}},getTarget:function(m){return m.target&&"A"==m.target.tagName?m.target:gx.dom.findParentByTagName(m.target,"A")},applyConfig:function(m){if(m&&m.listeners)for(var l in m.listeners){var t=m.listeners[l];"function"==typeof t&&this.addObserver(l,m.listeners.scope||this,t)}},setBodyClass:function(){var m="Form",l=document.body;l.className&&(m=l.className.split(" ")[0]);gx.dom.hasClass(l,m+"-fx")||
gx.dom.addClass(l,m+"-fx")},isSupported:function(){return gx.util.browser.isIE()&&!gx.util.browser.isEdge()?!1:gx.pO&&gx.pO.fullAjax&&Modernizr.history&&!(gx.util.browser.isChrome()&&window.parent!=window)},start:function(m){this.isSupported()&&!this.started&&(this.applyConfig(m),k=this.handleClick.closure(this),u=this.handlePopState.closure(this),document.addEventListener("click",k,!1),window.addEventListener("popstate",u,!1),this.state=this.createState({url:location.href}),window.history.replaceState(this.state,
document.title),this.setBodyClass(),this.started=!0,this.addObserver("onnavigate",this,x),this.addObserver("ontransitionend",this,x))},stop:function(){this.started&&(document.removeEventListener("click",k,!1),window.removeEventListener("popstate",u,!1),this.started=!1)}}}(gx.$);gx.lang.apply(gx.spa,new gx.util.Observable);gx.core={};
gx.core.analytics=function(e){return{supported:function(){return"undefined"===typeof window.ga?(console.log("Google Analytics - GA not enabled on this webpage"),!1):!0},trackView:function(q){this.supported()&&window.ga("send","pageview",q)},trackEvent:function(q,g,h,a){this.supported()&&window.ga("send",{hitType:"event",eventCategory:q,eventAction:g,eventLabel:h,eventValue:a})},trackPurchase:function(q){var g=function(c,d,f,p,r){if(p&&gx.lang.emptyObject(f)&&null==r)return console.log("Google Analytics ECommerce - Warning: Property value must be assigned: ",
d),!1;gx.lang.emptyObject(f)&&p&&(f=r);return gx.lang.emptyObject(f)?!1:(c[d]=f,!0)};if(this.supported()){window.ga("require","ecommerce");var h={},a=0;if(g(h,"id",q.TransactionId,!0)){g(h,"affiliation",q.Affiliation);g(h,"revenue",q.Revenue);g(h,"shipping",q.Shipping);g(h,"tax",q.Tax);g(h,"currency",q.CurrencyCode);window.ga("ecommerce:addTransaction",h);for(a=0;a<q.Items.length;a++){h=q.Items[a];var b={};g(b,"id",q.TransactionId,!0)&&g(b,"name",h.Name,!0)&&(g(b,"sku",h.Id),g(b,"category",h.Category),
g(b,"price",h.Price),g(b,"quantity",h.Quantity),g(b,"currency",h.CurrencyCode),window.ga("ecommerce:addItem",b))}window.ga("ecommerce:send")}}},setUserId:function(q){this.supported()&&window.ga("set","userId",q)}}}(gx.$);
gx.core.audio=function(e){var q,g=[],h=[];return{supported:function(){return!(gx.util.browser.isIE()&&8>=gx.util.browser.ieVersion())},getSoundVar:function(a){return 2==a?h:g[a]},playBackground:function(a){this.play(a,1)},play:function(a,b){q=!0;2!=b&&this.stop(b);3==b&&(this.stop(2),this.pauseSound(this.getSoundVar(1)));2==b&&this.stop(3);this.playSound(b,a).always(function(){3==b&&this.resumeSound(this.getSoundVar(1))}.closure(this,[]))},playSound:function(a,b){var c=e.Deferred();this.supported()?
(b=new Howl({src:[b],html5:!0,onplay:function(){},onend:function(){c.resolve()},onstop:function(){c.resolve()},onpause:function(){c.resolve()}}),b.play()):(b=e("<bgsound/>").attr({id:"gxIE7AudioSound_"+a,loop:"0",src:b}),e("body").append(b));g[a]=b;2==a&&h.push(b);return c.promise()},stop:function(a){if(a){var b=this.getSoundVar(a);this.stopSound(b);g[a]=null}else this.stopSound(this.getSoundVar(3)),this.stopSound(this.getSoundVar(2)),this.stopSound(this.getSoundVar(1))},stopSound:function(a){var b=
this.supported();a=gx.lang.isArray(a)?a:[a];e.map(a,function(c,d){c=a[d];!b&&c&&(e(c).attr("src",""),e(c).remove(),c=void 0);c&&c.stop&&c.stop()})},pauseSound:function(a){this.supported()&&a&&a.pause&&a.pause()},resumeSound:function(a){this.supported()&&a&&a.play&&a.play()},isPlaying:function(a){if(this.supported())return a?this.isPlaying_impl(this.getSoundVar(a)):this.isPlaying_impl(this.getSoundVar(3))||this.isPlaying_impl(this.getSoundVar(2))||this.isPlaying_impl(this.getSoundVar(1))},isPlaying_impl:function(a){var b,
c=!1;a=gx.lang.isArray(a)?a:[a];for(var d=0;d<a.length;d++)(b=a[d])&&(c=c||b.playing())},_deinit:function(){q&&(this.stop(3),this.stop(2));q=!1}}}(gx.$);gx.core.pwa=function(e){var q;window.addEventListener("beforeinstallprompt",function(g){q=g;q.userChoice.then(function(h){gx.fx.obs.notify("gx.pwa.onpromptchoice",[h.outcome]);q=null});gx.fx.obs.notify("gx.pwa.onbeforeinstallprompt")});return{showPrompt:function(){q&&q.prompt()}}}(gx.$);
gx.core.ds=function(e){return{setOption:function(q,g){document.documentElement.setAttribute("gx-data-"+q,g)},clearOption:function(q){document.documentElement.removeAttribute("gx-data-"+q)}}}(gx.$);
gx.core.clientSocket=function(e){var q,g,h=0;window.addEventListener("unload",function(d){g&&g.close()});var a=function(d){gx.fx.obs.notify("gx.core.clientsocket.onmessagereceived",[d])},b=function(){h=1;gx.fx.obs.notify("gx.core.clientsocket.onconnect",[void 0])},c=function(){h=0;gx.fx.obs.notify("gx.core.clientsocket.onconnectfailed",[void 0])};return{open:function(d){if(1===h)gx.dbg.logDebug("gx.core.clientSocket - WebSocket already connected");else{q="clientSocket_"+d;try{if(this.attachHandlers(q),
d)g=new gx.webSocket({wsURL:d,namespace:q});else{var f=gx.fn.getHidden("GX_WEBSOCKET_PORT"),p=gx.basePath&&0<gx.basePath.length?"/":"";g=new gx.webSocket({port:f,clientId:gx.fn.getHidden("GX_WEBSOCKET_ID"),wsProtocol:"https:"===location.protocol?"wss://":"ws://",host:f?location.hostname+":"+f+"/":location.host+"/",resourceUrl:p+(gx.gen.isDotNet()?"gxwebsocket.svc?":"gxwebsocket?"),basePath:gx.basePath,namespace:q})}}catch(r){gx.dbg.logEx(r,"genexus-core.js","Could not initialize WebSocket Client")}}},
close:function(){this.detachHandlers(q);try{g&&g.close()}catch(d){}h=0},send:function(d){1===h?g.send(d):gx.dbg.logDebug("gx.core.clientSocket - WebSocket is disconnected")},attachHandlers:function(d){gx.fx.obs.addObserver("gx.ws.onMessage."+d,this,a,{single:!1,doNotDelete:gx.O.IsMasterPage});gx.fx.obs.addObserver("gx.ws.onOpen."+d,this,b,{single:!1,doNotDelete:gx.O.IsMasterPage});gx.fx.obs.addObserver("gx.ws.onError."+d,this,c,{single:!1,doNotDelete:gx.O.IsMasterPage})},detachHandlers:function(d){gx.fx.obs.deleteObserver("gx.ws.onMessage."+
d,this,a);gx.fx.obs.deleteObserver("gx.ws.onOpen."+d,this,b);gx.fx.obs.deleteObserver("gx.ws.onError."+d,this,c)}}}(gx.$);
(function(e){var q=/(gx-form-item|col-(?:xs|sm|md|lg)-\d{1,2})/g,g=function(m){gx.plugdesign.registerTemplate(new gx.plugdesign.Template(m))},h=function(m,l){m=e(m).parent().find("span");gx.lang.gxBoolean(l)?m.parent("p").hide():(m.removeClass("form-control"),l=m.parent("p"),0===l.length?gx.plugdesign.applyTemplateOnElement("readonly-atts-vars",m[0],{checkInclusion:!0}):l.show())},a=function(m,l){var t=e(".gx-form-group[data-gx-for='"+gx.dom.id(m)+"']");0===t.length&&(t=e(m).parents("div.gx-attribute").first());
gx.lang.gxBoolean(l)?t.show():t.hide()},b=function(m,l){l=l.trim();m=gx.html.getFieldLabel(m);l=l.split(" ").join("Label ")+(l?"Label":"");if(m){var t=(t=m.className.match(q))?t.join(" ")||"":"";l=["gx-label",t,l,"control-label"].join(" ");m.className!==l&&(m.className=l)}};g({name:"labels",selector:"div.gx-form-group:has(label.gx-label:not([data-gx-sr-only]))",excluded:"div:has(.gx_usercontrol)",setContext:function(m,l){l=e(l).find("label.gx-label").addClass("control-label");m.labelEl=l[0];return m},
listeners:{control:function(m){return e(m.labelEl).attr("for")},after:{Class:b}}});g({name:"atts-vars",selector:".gx-attribute > input, .gx-attribute > select, .gx-attribute > textarea, .gx-attribute > img:first-child",initialize:function(m){(m=e("#"+m.id)[0])&&b(m,m.className.replace("form-control",""))},listeners:{control:function(m){return m.id},after:{Enabled:h,Visible:a}}});g({name:"readonly-atts-vars",selector:'.gx-attribute span[data-gx-readonly],span[class^="Readonly"]:not(:has(input[type="radio"], input[type="checkbox"]))',
template:'<p class="form-control-static">{{{outerHTML}}}</p>',outerHTML:!0,listeners:{control:function(m){return m.id},after:{Visible:function(m,l){var t=e(m).parent("p");gx.lang.gxBoolean(l)?t.show():t.hide();a(m,l)}}}});g({name:"password-atts-vars",selector:'.gx-attribute input[type="password"][data-gx-password-reveal]',template:'<div class="input-group">{{$inputEl$}}<span class="input-group-btn gx-pwd-reveal-btn"><button class="btn btn-default" type="button" title="'+gx.getMessage("GXM_revealpassword")+
'"><span class="glyphicon glyphicon-eye-open"></span></button></span></div>',setContext:function(m,l){m.inputEl=l;return m},initialize:function(m){var l=e("#"+m.id),t=e("#"+m.id)[0];l.next().on("click",function(){gx.fn.setCtrlProperty(t.id,"Ispassword","password"!=t.type)})},listeners:{control:function(m){return m.id},after:{Visible:function(m,l){gx.lang.gxBoolean(l)&&gx.fn.isVisible(m,0)?e(m).next().show():e(m).next().hide();a(m,l)},Enabled:function(m,l){gx.lang.gxBoolean(l)?e(m).next().children().first().prop("disabled",
!1):e(m).next().children().first().prop("disabled",!0)},Ispassword:function(m,l){e("button",e(m).next()).attr("title",gx.getMessage(gx.lang.gxBoolean(l)?"GXM_revealpassword":"GXM_hidepassword")).children().first().toggleClass("glyphicon-eye-open").toggleClass("glyphicon-eye-close")}}}});g({name:"checkbox",selector:'.gx-attribute > input[type="checkbox"], .gx-attribute span > input[type="checkbox"]',setContext:function(m,l){m.id=e(l)[0].id;return m},initialize:function(m){m=e("#"+m.id).get(0);e(m).closest("span").addClass("gx-checkbox-wrapper")},
listeners:{control:function(m){return m.id},after:{Visible:function(m,l){var t=e(m).parent().closest(".gx-checkbox-wrapper");gx.lang.gxBoolean(l)?(t.show(),t.children().show()):t.hide();a(m,l)}}}});g({name:"usercontrol",onDemandInvoke:!0,selector:".gx_usercontrol",setContext:function(m,l){m.id=e(l)[0].id;return m},listeners:{control:function(m){return m.id},after:{Visible:a}}});var c=function(m,l,t){m.visible=l;var z=e(m).parent().find(".input-group-btn");gx.lang.gxBoolean(l)&&gx.fn.isVisible(m,0)?
(this.enabled||void 0===this.enabled)&&z.show():z.hide();t||a(m,l)};g({name:"datepicker",selector:".dp_container:has(img):has(input)",template:'<div class="dp_container {{alignClass}}" id="{{datePickerCt.id}}"><div class="input-group">{{$inputEl$}}{{$spaneEl$}}<span class="input-group-btn"><a class="btn btn-default">{{$imgEl$}}</a></span></div></div>',outerHTML:!0,setContext:function(m,l){var t=e(l),z=t.attr("data-align");m.datePickerCt=l;m.inputEl=t.find("input")[0];m.imgEl=t.find("img")[0];m.inputElId=
m.inputEl.id;m.alignClass=z?"pull-"+z:"";m.nativeEl=t.find("#"+m.inputEl.id+"-picker")[0];l=e("#span_"+m.inputEl.id);0<l.length&&(t=l.parent("p")[0],m.spaneEl=t?t:l,t&&e(t).remove());return m},initialize:function(m){var l=e("#"+m.inputElId),t=l.parent().closest(".dp_container");m.nativeEl&&t.append(m.nativeEl);t.find("a").on("click",function(G){try{if("IMG"!=G.target.nodeName)return t.find("img")[0].click(),!1}catch(F){return!1}});var z=gx.fn.isVisible(l[0],0);m=e("#span_"+m.inputEl.id);0<m.length&&
(z=z||gx.fn.isVisible(m[0],0));c.call(this,l[0],z,!0)},listeners:{control:function(m){return m.inputEl.id},after:{Enabled:function(m,l){m.enabled=gx.lang.gxBoolean(l);var t=e(m).parent().find(".input-group-btn");if(gx.lang.gxBoolean(l)){var z=this.visible||gx.fn.isVisible(m);(z||void 0===z)&&t.show()}else t.hide();h(m,l)},Visible:c}}});var d=function(m){return e(m).parent().closest("span")},f=function(m){m.find(":checked").parent("label").button("toggle")},p=function(m,l){var t=m.find("label");gx.lang.gxBoolean(l)?
(t.prop("disabled",!1),t.removeClass("disabled"),m.find("input, label").css("pointer-events","")):(t.prop("disabled",!0),m.find("input, label").css("pointer-events","none"),t.addClass("disabled"))};g({name:"radio-button",selector:".gx-radio-button:not(.gx-tpl-ignore) label",setContext:function(m,l){var t=d(l);m.name=e(l).children("input").attr("name");m.spanEl=t;e(t).prop("initialized")||(t.children("label").addClass("gx-radio-label btn btn-default"),l=e(l).children().prop("disabled"),f(t),p(t,!(!0===
l||"disabled"===l)),t.find("script").remove(),t.attr("data-toggle","buttons"),l=t.hasClass("gx-radio-button-vertical")?"-vertical":"",t.addClass("btn-group"+l).removeClass("gx-radio-button-vertical").css("vertical-align","baseline"));return m},initialize:function(m){e(m.spanEl).prop("initialized")||(m.spanEl.prop("initialized",!0),m.spanEl.children("label").on("click",function(){var l=e(this).children("input");l.trigger("focus");l.attr("checked","");l.prop("checked",!0);gx.evt.onchange(l.get(0))}))},
listeners:{control:function(m){return m.name},after:{Visible:a,Enabled:function(m,l){p(d(m),l)},Value:function(m){f(d(m))}}}});g({name:"prompt",selector:function(m){return e('a:has(img[id*="PROMPT"])',m).prevUntil("","input, select")},template:'<div class="input-group">{{$inputEl$}}<span class="input-group-btn">{{$promptEl$}}</span></div>',setContext:function(m,l){m.inputEl=l;m.promptEl=e(l).nextUntil("",'a:has(img[id*="PROMPT"])').addClass("btn btn-default");return m},listeners:{control:function(m){return m.inputEl.id},
before:{Visible:function(m,l){m=e(m).parent();gx.lang.gxBoolean(l)?m.show():m.hide()},Enabled:function(m,l){m=e(m).parent().find(".input-group-btn");gx.lang.gxBoolean(l)?m.show():m.hide()}}}});g({name:"prompt-trigger",selector:'img[id*="PROMPT"].gx-prompt',setContext:function(m,l){m.imgEl=l;return m},listeners:{control:function(m){return m.imgEl.id},before:{Enabled:function(m,l){m=e(m).closest(".input-group-btn");gx.lang.gxBoolean(l)?m.show():m.hide()}}}});var r=function(m,l){m=e(m).parent();m=m.add(m.find("img"));
gx.lang.gxBoolean(l)?m.show():m.hide()};g({name:"geolocation",selector:"input + img.GeoLocOption",template:'<div class="input-group"><div id="{{inputEl.id}}_hook"></div><span class="input-group-btn"><a class="btn btn-default"><div id="{{inputEl.id}}_trigger_hook"></div></a></span></div>',setContext:function(m,l){m.inputEl=e(l).prev()[0];m.triggerEl=e(l)[0];return m},initialize:function(m){gx.evt.attach(m.el,"click",function(){gx.geolocation.getMyPosition(this)});e("#"+m.inputEl.id+"_hook").replaceWith(m.inputEl);
e("#"+m.inputEl.id+"_trigger_hook").replaceWith(m.triggerEl);r.call(this,m.inputEl,gx.fn.isVisible(m.inputEl,0))},listeners:{control:function(m){return m.inputEl.id},before:{Visible:r,Enabled:function(m,l){m=e(m).parent().find(".input-group-btn");gx.lang.gxBoolean(l)?m.show():m.hide()}}}});g({name:"multimedia-upload",selector:".gx-multimedia-upload .fields-ct",template:'<div class="row"><div class="col-sm-4"><div class="row"><div class="col-sm-12">{{$fileOptionLbl$}}</div><div class="col-sm-12">{{$uriOptionLbl$}}</div></div></div><div class="col-sm-8">{{$uriField$}}{{$fileField$}}</div></div><div class="row"><div class="col-sm-12">{{$button$}}</div></div>',
applyTo:"inner",setContext:function(m,l){l=e(l).parent().closest(".gx-multimedia-upload")[0];var t=gx.html.multimediaUpload.getElements(l);t.fileOptionLbl=t.fileOption.parentNode;t.uriOptionLbl=t.uriOption.parentNode;gx.lang.apply(m,t);m.container=l;return m},initialize:function(m){e(m.button).addClass("btn btn-default Button");e(m.uriField).addClass("form-control")},listeners:{control:function(m){return gx.html.multimediaUpload.CtrlId(m.container.id)},after:{Visible:function(m,l){a(m,l,7)}}}});g({name:"navbar",
selector:".gx-navbar",setContext:function(m,l){m.toggleBtn=e(l).find(".gx-navbar-toggle");m.navBarInner=e(l).find(".gx-navbar-inner");return m},initialize:function(m){m.toggleBtn.attr("data-target","#"+m.navBarInner.attr("id"))}});gx.spa.addObserver("onnavigatecomplete",window,function(){var m=e(".navbar-collapse");m.collapse&&m.collapse("hide")});var k=function(m){m.anchor.get(0).href==location.href?m.anchor.parent().addClass("active"):m.anchor.parent().removeClass("active")};g({name:"navbar-textblock-link",
selector:"a.gx-navbar-textblock, .gx-navbar-textblock:has(a)",template:"{{$anchor$}}",setContext:function(m,l){var t=["id","class","style",gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,"title"];l=e(l);var z;m.anchor=l.children("a");0===m.anchor.length&&l.is("a")&&(m.anchor=l);for(z=0;z<t.length;z++)m.anchor.attr(t[z],l.attr(t[z]));return m},reDraw:k,initialize:k,listeners:{control:function(m){return m.id},before:{Caption:function(m,l){e(m).text(l);return!0},Link:function(m,
l){e(m).attr("href",l);return!0}}}});g({name:"navbar-textblock-text",selector:"span.gx-navbar-textblock:not(:has(a))",initialize:function(m){e(m.el).addClass("navbar-text")},listeners:{control:function(m){return m.id},after:{Link:function(m,l){var t=e(m);l&&t.hasClass("navbar-text")&&(t.removeClass("navbar-text"),gx.plugdesign.applyTemplateOnElement("navbar-textblock-link",m))}}}});g({name:"errorviewer",selector:".gx_ev div",initialize:function(m){m=e(m.el);var l=m.parent(".gx_ev"),t=l.css("position");
if("fixed"===t||"absolute"===t)l[0].effect&&l[0].effect.end(),m.addClass("alert alert-dismissible fade in").attr("style","").attr("role","alert").prepend(e('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'))}});g({name:"textarea-auto-expand",selector:".gx-attribute > textarea[data-gx-text-maxlines]",setContext:function(m,l){m.el=e(l);return m},initialize:function(m){var l=m.el;m=l[0];var t=e(window),z=parseInt(l.attr("rows"),
10),G=parseInt(l.attr("data-gx-text-maxlines"),10);l.css("overflow-x","hidden");var F=function(C,w,B){w+=B;C.attr("rows",w);return w};l=function(){for(var C=t.scrollTop(),w=parseInt(e(this).attr("rows"),10),B=e(this);w>z&&this.scrollHeight>=this.clientHeight;)w=F(B,w,-1);for(;""!==e(this).val()&&w<G&&this.scrollHeight>this.clientHeight;)w=F(B,w,1);t.scrollTop(C)};gx.evt.attach(m,["input","keyup"],l.closure(m,[]));gx.evt.on_ready(m,l.closure(m,[]))}});var u=function(m){m=m.get(0);return"on"===gx.dom.getComputedStyle(m).getPropertyValue("--gx-image-scaling").trim()},
x=function(m){var l=m;u(m)&&(0<m.parent("a").length&&(l=m.parent("a")),l.parent("div[data-align-inner]").parent().parent().attr("data-align-image",""))};g({name:"image",selector:"img[data-gx-image]",setContext:function(m,l){m.el=e(l);return m},initialize:function(m){m=m.el;var l=m.get(0).currentSrc||m.attr("src");l&&u(m)&&m.css("background-image","url("+l+")");x(m)},listeners:{control:function(m){return m.id},after:{Bitmap:function(m,l){m=e(m);l&&u(m)?m.css("background-image","url("+l+")"):m.css("background-image",
"none")},Class:function(m){var l=e(m);m.src&&u(l)?l.css("background-image","url("+m.src+")"):l.css("background-image","none");x(l)}}}})})(gx.$);
gx.ui=function(e){return{grid:function(){this.gridContainer=null;this.firstTime=!0;this.loadingCollection=this.autoRefreshing=!1;this.properties=[];this.setContainerDelayed=function(g){this.gridContainer=g;this.DesignContainerName=this.ContainerName=gx.dom.id(g);this.ParentObject.setUserControl(this)};this.getContainerControl=function(){return this.gridContainer};this.me=function(){return this.gridObject()+".grid"};this.render=function(g,h,a,b){this.refreshDynProperties();this.properties=[];for(var c=
0;c<this.rows.length;c++){this.properties[c]=[];for(var d=this.rows[c],f=0;f<this.columns.length;f++){var p=this.columns[f],r=d.gxProps[p.index],k=p.gxControl;k.grid=this.ownerGrid;k.row=d;k.gridId=this.gxId;k.gridRow=d.gxId;a?k.value=r[0]:k.setProperties.apply(k,r);this.setRenderProperties(d.gxRenderProps[f],k);!k.enabled&&k.type<=gx.html.controls.types.checkBox&&(k.cssClass=gx.fn.prefixROClass(k.cssClass));this.properties[c][f]=gx.lang.clone(k);this.addC2V(p,this.properties[c][f])}}this.firstTime=
g;this.autoRefreshing=h?!0:!1;this.loadingCollection=a?!0:!1;this.show&&(this.setC2ShowFunction(function(u){u.show();b()}),this.autoRefreshing&&(this.show(),b()));this.autoRefreshing=!1};this.addC2V=function(g,h){this.addC2VFunction(function(a){if(""!==g.gxAttName){var b=a.ParentObject.getValidStruct(g.gxId);b&&(a.ParentObject[b.gxvar]=h.value);gx.fn.setHidden(h.id,h.value)}})};this.setRenderProperties=function(g,h){if(g)for(var a in g)h[a]=g[a]};this.selectRow=function(g){if(g=this.rows[g])this.instanciateSelectionVars(g.gxId),
this.instanciateSelectedRow(g)};this.getEventRow=function(){return gx.lang.emptyObject(this.GridRow)?"0001":this.GridRow};this.executeEvent=function(g,h){if(g<this.columns.length&&h<this.rows.length)if(g=this.properties[h][g],h=gx.html.controls.eventJSCode(g.jsScrCode,g.eventName,g.jsDynCode,g.grid,g.row),""!==h)gx.lang.emptyObject(g.usrOnclick)||(h="if("+g.usrOnclick+") { "+h+" }"),g=new Function(h),"function"==typeof g&&g();else if(g.clickEvent){h=this.parentGxObject;var a=g.row.gxId;this.ownerGrid.instanciateRow(a);
h[g.clickEvent].call(h,a)}};this.executeIsValid=function(g,h){if(g<this.columns.length&&h<this.rows.length){var a=this.parentGxObject;h=this.properties[h][g];g=h.vStruct||a.GXValidFnc[h.column.gxId];h=h.row.gxId;g&&g.isvalid&&(this.ownerGrid.instanciateRow(h),a[g.isvalid].call(a))}};this.addEventHandler=function(g,h){this[g]=function(a){var b=this.isServerEvent(g);b&&a&&gx.fx.obs.addObserver("gx.onafterevent",this,a,{single:!0});var c=gx.fn.currentGridRow(this.GridId);this.eventHandler(this.GridId,
c,h);!b&&a&&a.call(this)}.closure(this)};var q={};this.requestSuggest=function(g,h,a){var b=e.Deferred();if(g<this.columns.length&&h<this.rows.length){var c=this.parentGxObject;h=this.properties[h][g];g=h.vStruct||c.GXValidFnc[h.column.gxId];h=h.row.gxId;var d=q[h+"_"+g.id];!d&&g&&g.gxsgprm&&(this.ownerGrid.instanciateRow(h),d=new gx.fx.suggestProvider(c,g.gxsgprm[1],null,g.gxsgprm[0]),q[h+"_"+g.id]=d);d?(gx.fx.updateSuggestParms(g.gxsgprm[2]),d.requestSuggestions([],function(){b.resolve(d.values)},
function(){b.reject()},a)):b.reject()}else b.reject();return b.promise()};this.executeValidate=function(g,h){if(g<this.columns.length&&h<this.rows.length){var a=this.parentGxObject;h=this.properties[h][g];g=h.vStruct||a.GXValidFnc[h.column.gxId];h=h.row.gxId;g&&g.fnc&&(this.ownerGrid.instanciateRow(h),g.fnc.call(a))}}}}}(gx.$);
gx.ui.controls=function(e){var q=function(){var g="render selectTabPageByIndex hideTabPageByIndex showTabPageByIndex getTabPageIndexByControlName getTabPageControlNameByIndex".split(" ");return{show:function(){for(var h=this.ActivePage,a=0;a<g.length;a++)this[g[a]]||console.error("Missing required method",g[a],this);this.IsPostBack?this.update&&this.update():(this.beforeRender&&this.beforeRender(),this.render(),this.ActivePageControlName&&(h=parseInt(this.getTabPageIndexByControlName(this.ActivePageControlName),
10)),h||(h=1),this.selectTabPageByIndex(h),this.tabPageSelected(h,!0,!1),this.HistoryManagement&&HistoryManager.Initialize(this),this.afterRender&&this.afterRender());this.allways&&this.allways()},destroy:function(){HistoryManager.RemoveListener(this)},tabPageSelected:function(h,a,b){this.ActivePage!==h&&(this.ActivePage=h||1,this.ActivePageControlName=this.getTabPageControlNameByIndex(h)||"",this.HistoryManagement&&!1!==b&&HistoryManager.AddHistoryPoint(this.ActivePageControlName,!0,null,!1),!a&&
this.TabChanged&&this.TabChanged())},getId:function(){return(this.ParentObject?this.ParentObject.CmpContext||"-"+this.ParentObject.ServerClass||"":"")+"-"+this.ControlName},urlListener:function(){if(!gx.grid.drawAtServer){var h=(h=0<document.location.hash.length?document.location.hash.substr(1):"")?this.getTabPageIndexByControlName(h):1;this.selectTabPageByIndex(h);this.tabPageSelected(h,!1,!1)}},SelectTab:function(h){this.selectTabPageByIndex(h);this.tabPageSelected(h,!1,void 0)},HideTab:function(h){this.hideTabPageByIndex(h)},
ShowTab:function(h){this.showTabPageByIndex(h)}}}();return{datePicker:function(g){this.$input=e("#"+g.inputId);this.$trigger=e("#"+g.triggerId);this.showInLine=g.inline;this.inputType=g.inputType;this.format=g.format;this.datePartLength=g.datePartLength;this.timePartLength=g.timePartLength;this.nativeSupport=gx.HTML5&&(gx.util.browser.isIPhone()||gx.util.browser.isIPad()||gx.util.browser.isAndroid()&&gx.util.browser.isChrome());this.afterChange=g.afterChange;this.opts=g;this.getInputType=function(){return 0<
this.timePartLength&&0===this.datePartLength?"time":0<this.datePartLength&&0===this.timePartLength?"date":"datetime-local"};this.getTimeStep=function(){return 6<this.timePartLength?1:60};this.resolveValue=function(h,a){gx.date.isNullDate(a)&&"time"!==h&&(a=new Date);if("date"==h)a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),h=a.toISOString().slice(0,10);else{a.setMinutes(a.getMinutes()-a.getTimezoneOffset());var b=0,c=19;"time"==h&&(b=11,c=60==this.getTimeStep()?16:19);h=(new gx.date.gxdate(a)).Value.toISOString().slice(b,
c)}return h};this.render=function(){if(this.nativeSupport){var h=this.$input,a=this.getInputType(),b=e("<input>");b.attr("type",a);"time"!==a&&"datetime-local"!==a||b.attr("step",this.getTimeStep());b.css("position","absolute");b.css("top","0");b.css("left","0");b.css("opacity","0");b.attr("id",h.attr("id")+"-picker");this.dtPicker=b;h.parent().append(b);b.bind("touchstart touchend mousedown mouseup",function(){return!0!==h.prop("disabled")});var c=this,d=function(f){f=f.val();var p=new gx.date.gxdate(f,
"Y4MD");f=""!==f?p.Value:gx.date.nullDate();c.afterChange&&c.afterChange(null,f,h[0],c.opts.vStruct,c.opts.gxO)};this.$trigger.on("click",function(){var f=gx.date.dateObject(h.val());gx.date.isNullDate(f)||(f=c.resolveValue(a,f),b.val(f),d(b));b.trigger("click").trigger("focus")});gx.evt.attach(b[0],"change",function(){var f=e(this);d(f)})}else this.opts.showsTime="date"!==this.opts.inputType,gx.html.onTypeAvailable("Calendar",this.installCalendar,[this.opts],0)};this.installCalendar=function(h){var a=
h.inputId,b=gx.dom.byId(a),c=e(b),d=h.inline,f=h.weeksNumbers,p=h.mondayFirst,r=h.showsTime,k=h.format;h=h.gxO;if(gx.lang.emptyObject(b)||"SELECT"!=b.nodeName)if(0===d){b=a+"_dp_trigger";if((d=gx.dom.byId(b))&&"none"!==c.css("display")&&"hidden"!==c.css("visibility")&&"none"===c.css("display")||"hidden"===c.css("visibility")||!d)b=a;c=c.parent().closest(".dp_container")[0];Calendar.setup({inputField:a,parentNode:c,showsTime:r,weekNumbers:f,mondayFirst:p,ifFormat:k,button:b,onSelect:gx.fn.datePickerChanged,
align:"Bl",singleClick:!0,displayRight:!1,gxO:h})}else gx.lang.emptyObject(b)||c.css("display","none"),Calendar.setup({inputField:a,showsTime:r,weekNumbers:f,mondayFirst:p,ifFormat:k,flat:a+"_dp_container",flatCallback:gx.fn.datePickerChanged,align:"Bl",singleClick:!0,gxO:h})}},actionGroup:function(){return{init:function(){0<e("[data-gx-base-lib='none']").length&&gx.fx.obs.addObserver("gx.onclick",this,function(g){g=g.event;var h=g.target;if(e(h).is(".gx-navbar .dropdown>a")){g.preventDefault();g=
h.getAttribute("aria-expanded");var a=function(b){var c=e(h).next(".gx-dropdown-menu");b=b.event.target;e(b).closest(c).length||b==h||"true"!==h.getAttribute("aria-expanded")||(h.setAttribute("aria-expanded","false"),gx.fx.obs.deleteObserver("gx.onclick",this,a))};"false"===g?(gx.fx.obs.addObserver("gx.onclick",this,a),h.setAttribute("aria-expanded","true")):(gx.fx.obs.deleteObserver("gx.onclick",this,a),h.setAttribute("aria-expanded","false"))}})},dynamicItems:function(){return function(g){this.preProcessItems=
function(h,a){var b;var c=0;for(b=h.length;c<b;c++){var d=(a?a+" ":"")+c.toString();h[c]._$Key=d;h[c].Children?this.preProcessItems(h[c].Children,d):h[c].Children=[]}};this.getItems=function(){return this.items};this.setItems=function(h){this.preProcessItems(h);this.items=h||[]};this.getItemPressed=function(){return this.itemPressed||{}};this.setItemPressed=function(h){this.itemPressed=h};this.assignItemPressed=function(h){h=h.split(" ");var a=this.getItems(),b;for(b=0;b<h.length;b++){var c=parseInt(h[b],
10);var d=d?d.Children[c]:a[c]}this.setItemPressed(d)};this.getType=function(h){var a;return function(){a||(a=g(h.getContainerControl()).closest("[data-gx-actiongroup-type]").attr("data-gx-actiongroup-type"));return a}}(this);this.renderMenu=function(h){this.IsPostBack?g('li[data-gx-dynitem-source="'+this.ContainerName+'"]').remove():g(this.getContainerControl()).after('<li data-gx-dynitem-hook="'+this.ContainerName+'"></li>').css("display","none").appendTo(gx.dom.form());h.length&&(h=Mustache.render("{{#Children}}{{> navbarItemTemplate}}{{/Children}}",
{containerName:this.ContainerName,Children:h},{navbarItemTemplate:'<li data-gx-dynitem-source="{{containerName}}">{{#Link}}<a href="{{Link}}" class="gx-navbar-textblock {{Class}}" data-gx-tpl-applied-navbar-textblock-link title="{{TooltipText}}">{{Caption}}</a>{{/Link}}{{^Link}}{{#Children.length}}{{> navbarDropDowntemplate}}{{/Children.length}}{{^Children.length}}{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}" class="gx-navbar-textblock {{Class}}" data-gx-tpl-applied-navbar-textblock-link title="{{TooltipText}}">{{Caption}}</a>{{/EventName}}{{^EventName}}<span class="gx-navbar-textblock {{Class}} navbar-text" data-gx-tpl-applied-navbar-textblock-text title="{{TooltipText}}">{{Caption}}</span>{{/EventName}}</span>{{/Children.length}}{{/Link}}</li>',
navbarDropDowntemplate:'<li class="dropdown" data-gx-dynitem-source="{{containerName}}"><a href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle" title="{{TooltipText}}">{{Caption}}<span class="caret"></span></a><ul class="gx-dropdown-menu dropdown-menu {{Class}}">{{#Children}}{{> navbarItemTemplate}}{{/Children}}</ul></li>'}),g('li[data-gx-dynitem-hook="'+this.ContainerName+'"]').after(h))};this.renderToolbar=function(h){var a="";h.length&&
(a=Mustache.render('{{#Children}}{{#Link}}<span class="{{Class}}" title="{{TooltipText}}"><a href="{{Link}}">{{Caption}}</a></span>{{/Link}}{{^Link}}{{#Children.length}}<div class="btn-group">{{> toolbarItemTemplate}}</div>{{/Children.length}}{{^Children.length}}<span class="{{Class}}" title="{{TooltipText}}">{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}">{{Caption}}</a>{{/EventName}}{{^EventName}}{{Caption}}{{/EventName}}</span>{{/Children.length}}{{/Link}}{{/Children}}',
{containerName:this.ContainerName,Children:h},{toolbarItemTemplate:'{{#Children}}{{#Link}}<span class="{{Class}}" title="{{TooltipText}}"><a href="{{Link}}">{{Caption}}</a></span>{{/Link}}{{^Link}}{{#Children.length}}<div class="btn-group">{{> toolbarItemTemplate}}</div>{{/Children.length}}{{^Children.length}}<span class="{{Class}}" title="{{TooltipText}}">{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}">{{Caption}}</a>{{/EventName}}{{^EventName}}{{Caption}}{{/EventName}}</span>{{/Children.length}}{{/Link}}{{/Children}}'}));
g(this.getContainerControl()).attr("data-gx-dynitem-container","").html(a)};this.show=function(){if(this.getContainerControl()){var h=this.getType(),a=gx.lang.isArray(this.items)?this.items:[this.items],b=[];"menu"==h?(this.renderMenu(a),b=document.querySelectorAll("[data-gx-dynitem-source='"+this.ContainerName+"'] a[data-event-name]")):"toolbar"==h&&(this.renderToolbar(a),b=this.getContainerControl().querySelectorAll("a[data-event-name]"));for(h=0;h<b.length;h++)gx.evt.attach(b[h],"click",this.fireEvent,
this)}};this.destroy=function(){var h=this.getType();"menu"==h?(g('li[data-gx-dynitem-source="'+this.ContainerName+'"]').remove(),g('li[data-gx-dynitem-hook="'+this.ContainerName+'"]').after(this.getContainerControl()).remove()):"toolbar"==h&&g(this.getContainerControl()).html("")};this.fireEvent=function(h){h.preventDefault();h=h.currentTarget.dataset;var a=this.ParentObject,b=a.IsMasterPage?h.eventName.toUpperCase()+"_MPAGE":"'"+h.eventName.toUpperCase()+"'";if(b=a.getClientEventName(b))this.assignItemPressed(h.key),
this.execC2VFunctions(),gx.evt.dispatcher.dispatch(a.getServerEventName(b),a,0,0,a.isServerEvent(b),void 0,void 0,!0)}}}()}}(),defineTabControl:function(g){gx.lang.apply(g.prototype,q);return g}}}(gx.$);
